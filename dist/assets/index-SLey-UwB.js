(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function H1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Am={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function B2(){if(qv)return Kl;qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Kl.Fragment=e,Kl.jsx=n,Kl.jsxs=n,Kl}var Fv;function z2(){return Fv||(Fv=1,Am.exports=B2()),Am.exports}var f=z2(),Sm={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function q2(){if(Hv)return ke;Hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,q={};function O(k,se,fe){this.props=k,this.context=se,this.refs=q,this.updater=fe||M}O.prototype.isReactComponent={},O.prototype.setState=function(k,se){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,se,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function W(){}W.prototype=O.prototype;function Z(k,se,fe){this.props=k,this.context=se,this.refs=q,this.updater=fe||M}var re=Z.prototype=new W;re.constructor=Z,U(re,O.prototype),re.isPureReactComponent=!0;var me=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function D(k,se,fe,ue,Ee,xe){return fe=xe.ref,{$$typeof:r,type:k,key:se,ref:fe!==void 0?fe:null,props:xe}}function S(k,se){return D(k.type,se,void 0,void 0,void 0,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function j(k){var se={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(fe){return se[fe]})}var L=/\/+/g;function P(k,se){return typeof k=="object"&&k!==null&&k.key!=null?j(""+k.key):se.toString(36)}function N(){}function ut(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(se){k.status==="pending"&&(k.status="fulfilled",k.value=se)},function(se){k.status==="pending"&&(k.status="rejected",k.reason=se)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function He(k,se,fe,ue,Ee){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var te=!1;if(k===null)te=!0;else switch(xe){case"bigint":case"string":case"number":te=!0;break;case"object":switch(k.$$typeof){case r:case e:te=!0;break;case b:return te=k._init,He(te(k._payload),se,fe,ue,Ee)}}if(te)return Ee=Ee(k),te=ue===""?"."+P(k,0):ue,me(Ee)?(fe="",te!=null&&(fe=te.replace(L,"$&/")+"/"),He(Ee,se,fe,"",function(le){return le})):Ee!=null&&(C(Ee)&&(Ee=S(Ee,fe+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(L,"$&/")+"/")+te)),se.push(Ee)),1;te=0;var Q=ue===""?".":ue+":";if(me(k))for(var z=0;z<k.length;z++)ue=k[z],xe=Q+P(ue,z),te+=He(ue,se,fe,xe,Ee);else if(z=x(k),typeof z=="function")for(k=z.call(k),z=0;!(ue=k.next()).done;)ue=ue.value,xe=Q+P(ue,z++),te+=He(ue,se,fe,xe,Ee);else if(xe==="object"){if(typeof k.then=="function")return He(ut(k),se,fe,ue,Ee);throw se=String(k),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return te}function X(k,se,fe){if(k==null)return k;var ue=[],Ee=0;return He(k,ue,"","",function(xe){return se.call(fe,xe,Ee++)}),ue}function he(k){if(k._status===-1){var se=k._result;se=se(),se.then(function(fe){(k._status===0||k._status===-1)&&(k._status=1,k._result=fe)},function(fe){(k._status===0||k._status===-1)&&(k._status=2,k._result=fe)}),k._status===-1&&(k._status=0,k._result=se)}if(k._status===1)return k._result.default;throw k._result}var _e=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ue(){}return ke.Children={map:X,forEach:function(k,se,fe){X(k,function(){se.apply(this,arguments)},fe)},count:function(k){var se=0;return X(k,function(){se++}),se},toArray:function(k){return X(k,function(se){return se})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ke.Component=O,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=Z,ke.StrictMode=s,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,ke.__COMPILER_RUNTIME={__proto__:null,c:function(k){return oe.H.useMemoCache(k)}},ke.cache=function(k){return function(){return k.apply(null,arguments)}},ke.cloneElement=function(k,se,fe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=U({},k.props),Ee=k.key,xe=void 0;if(se!=null)for(te in se.ref!==void 0&&(xe=void 0),se.key!==void 0&&(Ee=""+se.key),se)!ye.call(se,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&se.ref===void 0||(ue[te]=se[te]);var te=arguments.length-2;if(te===1)ue.children=fe;else if(1<te){for(var Q=Array(te),z=0;z<te;z++)Q[z]=arguments[z+2];ue.children=Q}return D(k.type,Ee,void 0,void 0,xe,ue)},ke.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},ke.createElement=function(k,se,fe){var ue,Ee={},xe=null;if(se!=null)for(ue in se.key!==void 0&&(xe=""+se.key),se)ye.call(se,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=se[ue]);var te=arguments.length-2;if(te===1)Ee.children=fe;else if(1<te){for(var Q=Array(te),z=0;z<te;z++)Q[z]=arguments[z+2];Ee.children=Q}if(k&&k.defaultProps)for(ue in te=k.defaultProps,te)Ee[ue]===void 0&&(Ee[ue]=te[ue]);return D(k,xe,void 0,void 0,null,Ee)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(k){return{$$typeof:p,render:k}},ke.isValidElement=C,ke.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:he}},ke.memo=function(k,se){return{$$typeof:y,type:k,compare:se===void 0?null:se}},ke.startTransition=function(k){var se=oe.T,fe={};oe.T=fe;try{var ue=k(),Ee=oe.S;Ee!==null&&Ee(fe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ue,_e)}catch(xe){_e(xe)}finally{oe.T=se}},ke.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},ke.use=function(k){return oe.H.use(k)},ke.useActionState=function(k,se,fe){return oe.H.useActionState(k,se,fe)},ke.useCallback=function(k,se){return oe.H.useCallback(k,se)},ke.useContext=function(k){return oe.H.useContext(k)},ke.useDebugValue=function(){},ke.useDeferredValue=function(k,se){return oe.H.useDeferredValue(k,se)},ke.useEffect=function(k,se,fe){var ue=oe.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(k,se)},ke.useId=function(){return oe.H.useId()},ke.useImperativeHandle=function(k,se,fe){return oe.H.useImperativeHandle(k,se,fe)},ke.useInsertionEffect=function(k,se){return oe.H.useInsertionEffect(k,se)},ke.useLayoutEffect=function(k,se){return oe.H.useLayoutEffect(k,se)},ke.useMemo=function(k,se){return oe.H.useMemo(k,se)},ke.useOptimistic=function(k,se){return oe.H.useOptimistic(k,se)},ke.useReducer=function(k,se,fe){return oe.H.useReducer(k,se,fe)},ke.useRef=function(k){return oe.H.useRef(k)},ke.useState=function(k){return oe.H.useState(k)},ke.useSyncExternalStore=function(k,se,fe){return oe.H.useSyncExternalStore(k,se,fe)},ke.useTransition=function(){return oe.H.useTransition()},ke.version="19.1.1",ke}var Gv;function Ap(){return Gv||(Gv=1,Sm.exports=q2()),Sm.exports}var R=Ap();const F2=H1(R);var Rm={exports:{}},$l={},Cm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function H2(){return Kv||(Kv=1,function(r){function e(X,he){var _e=X.length;X.push(he);e:for(;0<_e;){var Ue=_e-1>>>1,k=X[Ue];if(0<o(k,he))X[Ue]=he,X[_e]=k,_e=Ue;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var he=X[0],_e=X.pop();if(_e!==he){X[0]=_e;e:for(var Ue=0,k=X.length,se=k>>>1;Ue<se;){var fe=2*(Ue+1)-1,ue=X[fe],Ee=fe+1,xe=X[Ee];if(0>o(ue,_e))Ee<k&&0>o(xe,ue)?(X[Ue]=xe,X[Ee]=_e,Ue=Ee):(X[Ue]=ue,X[fe]=_e,Ue=fe);else if(Ee<k&&0>o(xe,_e))X[Ue]=xe,X[Ee]=_e,Ue=Ee;else break e}}return he}function o(X,he){var _e=X.sortIndex-he.sortIndex;return _e!==0?_e:X.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],y=[],b=1,T=null,x=3,M=!1,U=!1,q=!1,O=!1,W=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function me(X){for(var he=n(y);he!==null;){if(he.callback===null)s(y);else if(he.startTime<=X)s(y),he.sortIndex=he.expirationTime,e(g,he);else break;he=n(y)}}function oe(X){if(q=!1,me(X),!U)if(n(g)!==null)U=!0,ye||(ye=!0,P());else{var he=n(y);he!==null&&He(oe,he.startTime-X)}}var ye=!1,D=-1,S=5,C=-1;function j(){return O?!0:!(r.unstable_now()-C<S)}function L(){if(O=!1,ye){var X=r.unstable_now();C=X;var he=!0;try{e:{U=!1,q&&(q=!1,Z(D),D=-1),M=!0;var _e=x;try{t:{for(me(X),T=n(g);T!==null&&!(T.expirationTime>X&&j());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,x=T.priorityLevel;var k=Ue(T.expirationTime<=X);if(X=r.unstable_now(),typeof k=="function"){T.callback=k,me(X),he=!0;break t}T===n(g)&&s(g),me(X)}else s(g);T=n(g)}if(T!==null)he=!0;else{var se=n(y);se!==null&&He(oe,se.startTime-X),he=!1}}break e}finally{T=null,x=_e,M=!1}he=void 0}}finally{he?P():ye=!1}}}var P;if(typeof re=="function")P=function(){re(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ut=N.port2;N.port1.onmessage=L,P=function(){ut.postMessage(null)}}else P=function(){W(L,0)};function He(X,he){D=W(function(){X(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(X){switch(x){case 1:case 2:case 3:var he=3;break;default:he=x}var _e=x;x=he;try{return X()}finally{x=_e}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function(X,he){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var _e=x;x=X;try{return he()}finally{x=_e}},r.unstable_scheduleCallback=function(X,he,_e){var Ue=r.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ue+_e:Ue):_e=Ue,X){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=_e+k,X={id:b++,callback:he,priorityLevel:X,startTime:_e,expirationTime:k,sortIndex:-1},_e>Ue?(X.sortIndex=_e,e(y,X),n(g)===null&&X===n(y)&&(q?(Z(D),D=-1):q=!0,He(oe,_e-Ue))):(X.sortIndex=k,e(g,X),U||M||(U=!0,ye||(ye=!0,P()))),X},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(X){var he=x;return function(){var _e=x;x=he;try{return X.apply(this,arguments)}finally{x=_e}}}}(Im)),Im}var $v;function G2(){return $v||($v=1,Cm.exports=H2()),Cm.exports}var Nm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function K2(){if(Yv)return an;Yv=1;var r=Ap();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},an.flushSync=function(g){var y=h.T,b=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=b,s.d.f()}},an.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},an.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},an.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,T=p(b,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:M}):b==="script"&&s.d.X(g,{crossOrigin:T,integrity:x,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},an.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,T=p(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},an.requestFormReset=function(g){s.d.r(g)},an.unstable_batchedUpdates=function(g,y){return g(y)},an.useFormState=function(g,y,b){return h.H.useFormState(g,y,b)},an.useFormStatus=function(){return h.H.useHostTransitionStatus()},an.version="19.1.1",an}var Qv;function $2(){if(Qv)return Nm.exports;Qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nm.exports=K2(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Y2(){if(Wv)return $l;Wv=1;var r=G2(),e=Ap(),n=$2();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===l)return p(d),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var E=!1,w=d.child;w;){if(w===a){E=!0,a=d,l=m;break}if(w===l){E=!0,l=d,a=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===a){E=!0,a=m,l=d;break}if(w===l){E=!0,l=m,a=d;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),re=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case O:return"Profiler";case q:return"StrictMode";case oe:return"Suspense";case ye:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case re:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:ut(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return ut(t(i))}catch{}}return null}var He=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Ue=[],k=-1;function se(t){return{current:t}}function fe(t){0>k||(t.current=Ue[k],Ue[k]=null,k--)}function ue(t,i){k++,Ue[k]=t.current,t.current=i}var Ee=se(null),xe=se(null),te=se(null),Q=se(null);function z(t,i){switch(ue(te,i),ue(xe,t),ue(Ee,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?gv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=gv(i),t=yv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}fe(Ee),ue(Ee,t)}function le(){fe(Ee),fe(xe),fe(te)}function be(t){t.memoizedState!==null&&ue(Q,t);var i=Ee.current,a=yv(i,t.type);i!==a&&(ue(xe,t),ue(Ee,a))}function ce(t){xe.current===t&&(fe(Ee),fe(xe)),Q.current===t&&(fe(Q),zl._currentValue=_e)}var Pe=Object.prototype.hasOwnProperty,tt=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,gt=r.unstable_shouldYield,gn=r.unstable_requestPaint,Vn=r.unstable_now,xd=r.unstable_getCurrentPriorityLevel,Uo=r.unstable_ImmediatePriority,wa=r.unstable_UserBlockingPriority,ws=r.unstable_NormalPriority,Ad=r.unstable_LowPriority,Ta=r.unstable_IdlePriority,Bo=r.log,ju=r.unstable_setDisableYieldValue,bt=null,nt=null;function Tn(t){if(typeof Bo=="function"&&ju(t),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(bt,t)}catch{}}var rn=Math.clz32?Math.clz32:Ts,Mu=Math.log,Sd=Math.LN2;function Ts(t){return t>>>=0,t===0?32:31-(Mu(t)/Sd|0)|0}var xs=256,As=4194304;function nr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xa(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?d=nr(l):(E&=w,E!==0?d=nr(E):a||(a=w&~t,a!==0&&(d=nr(a))))):(w=l&~m,w!==0?d=nr(w):E!==0?d=nr(E):a||(a=l&~t,a!==0&&(d=nr(a)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:d}function Ss(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function zo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var t=xs;return xs<<=1,(xs&4194048)===0&&(xs=256),t}function Fo(){var t=As;return As<<=1,(As&62914560)===0&&(As=4194304),t}function qr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Fr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ho(t,i,a,l,d,m){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,G=t.hiddenUpdates;for(a=E&~a;0<a;){var J=31-rn(a),ne=1<<J;w[J]=0,I[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var $=K[J];$!==null&&($.lane&=-536870913)}a&=~ne}l!==0&&mr(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(E&~i))}function mr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-rn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Go(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-rn(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Aa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ti(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:Pv(t.type))}function Pu(t,i){var a=he.p;try{return he.p=t,i()}finally{he.p=a}}var ft=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ft,It="__reactProps$"+ft,Ln="__reactContainer$"+ft,Ko="__reactEvents$"+ft,Rd="__reactListeners$"+ft,xi="__reactHandles$"+ft,Vu="__reactResources$"+ft,Rs="__reactMarker$"+ft;function Ai(t){delete t[Pt],delete t[It],delete t[Ko],delete t[Rd],delete t[xi]}function Hr(t){var i=t[Pt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ln]||a[Pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=bv(t);t!==null;){if(a=t[Pt])return a;t=bv(t)}return i}t=a,a=t.parentNode}return null}function pr(t){if(t=t[Pt]||t[Ln]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function gr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function dn(t){var i=t[Vu];return i||(i=t[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[Rs]=!0}var $o=new Set,Sa={};function rr(t,i){Gr(t,i),Gr(t+"Capture",i)}function Gr(t,i){for(Sa[t]=i,t=0;t<i.length;t++)$o.add(i[t])}var Lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uu={},Cs={};function Bu(t){return Pe.call(Cs,t)?!0:Pe.call(Uu,t)?!1:Lu.test(t)?Cs[t]=!0:(Uu[t]=!0,!1)}function Si(t,i,a){if(Bu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Qt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Is,zu;function Kr(t){if(Is===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Is=i&&i[1]||"",zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+t+zu}var Ra=!1;function Ca(t,i){if(!t||Ra)return"";Ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var K=$}Reflect.construct(t,[],ne)}else{try{ne.call()}catch($){K=$}t.call(ne.prototype)}}else{try{throw Error()}catch($){K=$}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var I=E.split(`
`),G=w.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===G.length)for(l=I.length-1,d=G.length-1;1<=l&&0<=d&&I[l]!==G[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==G[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==G[d]){var J=`
`+I[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=d);break}}}finally{Ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Kr(a):""}function Yo(t){switch(t.tag){case 26:case 27:case 5:return Kr(t.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 15:return Ca(t.type,!1);case 11:return Ca(t.type.render,!1);case 1:return Ca(t.type,!0);case 31:return Kr("Activity");default:return""}}function Ia(t){try{var i="";do i+=Yo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Cd(t){var i=Qo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Na(t){t._valueTracker||(t._valueTracker=Cd(t))}function Wo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Qo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Id=/[\n"\\]/g;function Nt(t){return t.replace(Id,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xn(t,i,a,l,d,m,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+fn(i)):t.value!==""+fn(i)&&(t.value=""+fn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Ri(t,E,fn(i)):a!=null?Ri(t,E,fn(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+fn(w):t.removeAttribute("name")}function Ds(t,i,a,l,d,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+fn(a):"",i=i!=null?""+fn(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ri(t,i,a){i==="number"&&Ns(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function $r(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+fn(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function st(t,i,a){if(i!=null&&(i=""+fn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+fn(a):""}function ks(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(He(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=fn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Un(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Os.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Xo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&qu(t,d,l)}else for(var m in i)i.hasOwnProperty(m)&&qu(t,m,i[m])}function Zo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(t){return Dd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Yr=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qr=null,Wr=null;function Jo(t){var i=pr(t);if(i&&(t=i.stateNode)){var a=t[It]||null;e:switch(t=i.stateNode,i.type){case"input":if(xn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[It]||null;if(!d)throw Error(s(90));xn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Wo(l)}break e;case"textarea":st(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&$r(t,!!a.multiple,i,!1)}}}var vr=!1;function Fu(t,i,a){if(vr)return t(i,a);vr=!0;try{var l=t(i);return l}finally{if(vr=!1,(Qr!==null||Wr!==null)&&(Pc(),Qr&&(i=Qr,t=Wr,Wr=Qr=null,Jo(i),t)))for(i=0;i<t.length;i++)Jo(t[i])}}function js(t,i){var a=t.stateNode;if(a===null)return null;var l=a[It]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zn=!1;if(ir)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){zn=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{zn=!1}var _r=null,Ci=null,Xr=null;function el(){if(Xr)return Xr;var t,i=Ci,a=i.length,l,d="value"in _r?_r.value:_r.textContent,m=d.length;for(t=0;t<a&&i[t]===d[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===d[m-l];l++);return Xr=d.slice(t,1<l?1-l:void 0)}function Er(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function br(){return!0}function tl(){return!1}function Ft(t){function i(a,l,d,m,E){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?br:tl,this.isPropagationStopped=tl,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),i}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=Ft(Je),Ps=b({},Je,{view:0,detail:0}),Hu=Ft(Ps),Oa,ja,wr,Vs=b({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(Oa=t.screenX-wr.screenX,ja=t.screenY-wr.screenY):ja=Oa=0,wr=t),Oa)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),qn=Ft(Vs),Gu=b({},Vs,{dataTransfer:0}),kd=Ft(Gu),Ls=b({},Ps,{relatedTarget:0}),Ma=Ft(Ls),nl=b({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=Ft(nl),Ku=b({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Va=Ft(Ku),Od=b({},Je,{data:0}),rl=Ft(Od),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function Bs(){return il}var Qu=b({},Ps,{key:function(t){if(t.key){var i=Us[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(t){return t.type==="keypress"?Er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),La=Ft(Qu),Wu=b({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=Ft(Wu),Zr=b({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),Xu=Ft(Zr),Zu=b({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=Ft(Zu),ec=b({},Vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=Ft(ec),mn=b({},Je,{newState:0,oldState:0}),tc=Ft(mn),nc=[9,13,27,32],Tr=ir&&"CompositionEvent"in window,c=null;ir&&"documentMode"in document&&(c=document.documentMode);var v=ir&&"TextEvent"in window&&!c,_=ir&&(!Tr||c&&8<c&&11>=c),A=" ",F=!1;function Y(t,i){switch(t){case"keyup":return nc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ge=!1;function Vt(t,i){switch(t){case"compositionend":return de(i);case"keypress":return i.which!==32?null:(F=!0,A);case"textInput":return t=i.data,t===A&&F?null:t;default:return null}}function Ke(t,i){if(Ge)return t==="compositionend"||!Tr&&Y(t,i)?(t=el(),Xr=Ci=_r=null,Ge=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ht[t.type]:i==="textarea"}function Jr(t,i,a,l){Qr?Wr?Wr.push(l):Wr=[l]:Qr=l,i=qc(i,"onChange"),0<i.length&&(a=new ka("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wt=null,xr=null;function al(t){hv(t,0)}function rc(t){var i=gr(t);if(Wo(i))return t}function kg(t,i){if(t==="change")return i}var Og=!1;if(ir){var jd;if(ir){var Md="oninput"in document;if(!Md){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Md=typeof jg.oninput=="function"}jd=Md}else jd=!1;Og=jd&&(!document.documentMode||9<document.documentMode)}function Mg(){Wt&&(Wt.detachEvent("onpropertychange",Pg),xr=Wt=null)}function Pg(t){if(t.propertyName==="value"&&rc(xr)){var i=[];Jr(i,xr,t,Bn(t)),Fu(al,i)}}function gT(t,i,a){t==="focusin"?(Mg(),Wt=i,xr=a,Wt.attachEvent("onpropertychange",Pg)):t==="focusout"&&Mg()}function yT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(xr)}function vT(t,i){if(t==="click")return rc(i)}function _T(t,i){if(t==="input"||t==="change")return rc(i)}function ET(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:ET;function ol(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Pe.call(i,d)||!An(t[d],i[d]))return!1}return!0}function Vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lg(t,i){var a=Vg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vg(a)}}function Ug(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ug(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ns(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ns(t.document)}return i}function Pd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bT=ir&&"documentMode"in document&&11>=document.documentMode,Ba=null,Vd=null,ll=null,Ld=!1;function zg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ld||Ba==null||Ba!==Ns(l)||(l=Ba,"selectionStart"in l&&Pd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=qc(Vd,"onSelect"),0<l.length&&(i=new ka("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ba)))}function zs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var za={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Ud={},qg={};ir&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function qs(t){if(Ud[t])return Ud[t];if(!za[t])return t;var i=za[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in qg)return Ud[t]=i[a];return t}var Fg=qs("animationend"),Hg=qs("animationiteration"),Gg=qs("animationstart"),wT=qs("transitionrun"),TT=qs("transitionstart"),xT=qs("transitioncancel"),Kg=qs("transitionend"),$g=new Map,Bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bd.push("scrollEnd");function sr(t,i){$g.set(t,i),rr(i,[t])}var Yg=new WeakMap;function Fn(t,i){if(typeof t=="object"&&t!==null){var a=Yg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ia(i)},Yg.set(t,i),i)}return{value:t,source:i,stack:Ia(i)}}var Hn=[],qa=0,zd=0;function ic(){for(var t=qa,i=zd=qa=0;i<t;){var a=Hn[i];Hn[i++]=null;var l=Hn[i];Hn[i++]=null;var d=Hn[i];Hn[i++]=null;var m=Hn[i];if(Hn[i++]=null,l!==null&&d!==null){var E=l.pending;E===null?d.next=d:(d.next=E.next,E.next=d),l.pending=d}m!==0&&Qg(a,d,m)}}function sc(t,i,a,l){Hn[qa++]=t,Hn[qa++]=i,Hn[qa++]=a,Hn[qa++]=l,zd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qd(t,i,a,l){return sc(t,i,a,l),ac(t)}function Fa(t,i){return sc(t,null,null,i),ac(t)}function Qg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&i!==null&&(d=31-rn(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),m):null}function ac(t){if(50<Ol)throw Ol=0,Qf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ha={};function AT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,i,a,l){return new AT(t,i,a,l)}function Fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ei(t,i){var a=t.alternate;return a===null?(a=Sn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oc(t,i,a,l,d,m){var E=0;if(l=t,typeof t=="function")Fd(t)&&(E=1);else if(typeof t=="string")E=R2(t,a,Ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Sn(31,a,i,d),t.elementType=C,t.lanes=m,t;case U:return Fs(a.children,d,m,i);case q:E=8,d|=24;break;case O:return t=Sn(12,a,i,d|2),t.elementType=O,t.lanes=m,t;case oe:return t=Sn(13,a,i,d),t.elementType=oe,t.lanes=m,t;case ye:return t=Sn(19,a,i,d),t.elementType=ye,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case re:E=10;break e;case Z:E=9;break e;case me:E=11;break e;case D:E=14;break e;case S:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Sn(E,a,i,d),i.elementType=t,i.type=l,i.lanes=m,i}function Fs(t,i,a,l){return t=Sn(7,t,l,i),t.lanes=a,t}function Hd(t,i,a){return t=Sn(6,t,null,i),t.lanes=a,t}function Gd(t,i,a){return i=Sn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ga=[],Ka=0,lc=null,uc=0,Gn=[],Kn=0,Hs=null,ti=1,ni="";function Gs(t,i){Ga[Ka++]=uc,Ga[Ka++]=lc,lc=t,uc=i}function Xg(t,i,a){Gn[Kn++]=ti,Gn[Kn++]=ni,Gn[Kn++]=Hs,Hs=t;var l=ti;t=ni;var d=32-rn(l)-1;l&=~(1<<d),a+=1;var m=32-rn(i)+d;if(30<m){var E=d-d%5;m=(l&(1<<E)-1).toString(32),l>>=E,d-=E,ti=1<<32-rn(i)+d|a<<d|l,ni=m+t}else ti=1<<m|a<<d|l,ni=t}function Kd(t){t.return!==null&&(Gs(t,1),Xg(t,1,0))}function $d(t){for(;t===lc;)lc=Ga[--Ka],Ga[Ka]=null,uc=Ga[--Ka],Ga[Ka]=null;for(;t===Hs;)Hs=Gn[--Kn],Gn[Kn]=null,ni=Gn[--Kn],Gn[Kn]=null,ti=Gn[--Kn],Gn[Kn]=null}var pn=null,wt=null,Ze=!1,Ks=null,Ar=!1,Yd=Error(s(519));function $s(t){var i=Error(s(418,""));throw hl(Fn(i,t)),Yd}function Zg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Pt]=t,i[It]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Le(Ml[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Na(i);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),ks(i,l.value,l.defaultValue,l.children),Na(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||pv(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=Fc),i=!0):i=!1,i||$s(t)}function Jg(t){for(pn=t.return;pn;)switch(pn.tag){case 5:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:pn=pn.return}}function ul(t){if(t!==pn)return!1;if(!Ze)return Jg(t),Ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||hm(t.type,t.memoizedProps)),a=!a),a&&wt&&$s(t),Jg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){wt=or(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}wt=null}}else i===27?(i=wt,Hi(t.type)?(t=pm,pm=null,wt=t):wt=i):wt=pn?or(t.stateNode.nextSibling):null;return!0}function cl(){wt=pn=null,Ze=!1}function ey(){var t=Ks;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Ks=null),t}function hl(t){Ks===null?Ks=[t]:Ks.push(t)}var Qd=se(null),Ys=null,ri=null;function Ii(t,i,a){ue(Qd,i._currentValue),i._currentValue=a}function ii(t){t._currentValue=Qd.current,fe(Qd)}function Wd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Xd(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var E=d.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=d;for(var I=0;I<i.length;I++)if(w.context===i[I]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Wd(m.return,a,t),l||(E=null);break e}m=w.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Wd(E,a,t),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===t){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function dl(t,i,a,l){t=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=d.type;An(d.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(d===Q.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}d=d.return}t!==null&&Xd(i,t,a,l),i.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){Ys=t,ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return ty(Ys,t)}function hc(t,i){return Ys===null&&Qs(t),ty(t,i)}function ty(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ri===null){if(t===null)throw Error(s(308));ri=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ri=ri.next=i;return a}var ST=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},RT=r.unstable_scheduleCallback,CT=r.unstable_NormalPriority,Ut={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new ST,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&RT(CT,function(){t.controller.abort()})}var ml=null,Jd=0,$a=0,Ya=null;function IT(t,i){if(ml===null){var a=ml=[];Jd=0,$a=nm(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jd++,i.then(ny,ny),i}function ny(){if(--Jd===0&&ml!==null){Ya!==null&&(Ya.status="fulfilled");var t=ml;ml=null,$a=0,Ya=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function NT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var ry=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&IT(t,i),ry!==null&&ry(t,i)};var Ws=se(null);function ef(){var t=Ws.current;return t!==null?t:ht.pooledCache}function dc(t,i){i===null?ue(Ws,Ws.current):ue(Ws,i.pool)}function iy(){var t=ef();return t===null?null:{parent:Ut._currentValue,pool:t}}var pl=Error(s(460)),sy=Error(s(474)),fc=Error(s(542)),tf={then:function(){}};function ay(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mc(){}function oy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(mc,mc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,uy(t),t;default:if(typeof i.status=="string")i.then(mc,mc);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,uy(t),t}throw gl=i,pl}}var gl=null;function ly(){if(gl===null)throw Error(s(459));var t=gl;return gl=null,t}function uy(t){if(t===pl||t===fc)throw Error(s(483))}var Ni=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=ac(t),Qg(t,null,a),i}return sc(t,l,i,a),ac(t)}function yl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Go(t,a)}}function sf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var af=!1;function vl(){if(af){var t=Ya;if(t!==null)throw t}}function _l(t,i,a,l){af=!1;var d=t.updateQueue;Ni=!1;var m=d.firstBaseUpdate,E=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var I=w,G=I.next;I.next=null,E===null?m=G:E.next=G,E=I;var J=t.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==E&&(w===null?J.firstBaseUpdate=G:w.next=G,J.lastBaseUpdate=I))}if(m!==null){var ne=d.baseState;E=0,J=G=I=null,w=m;do{var K=w.lane&-536870913,$=K!==w.lane;if($?($e&K)===K:(l&K)===K){K!==0&&K===$a&&(af=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ie=t,Ae=w;K=i;var lt=a;switch(Ae.tag){case 1:if(Ie=Ae.payload,typeof Ie=="function"){ne=Ie.call(lt,ne,K);break e}ne=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ae.payload,K=typeof Ie=="function"?Ie.call(lt,ne,K):Ie,K==null)break e;ne=b({},ne,K);break e;case 2:Ni=!0}}K=w.callback,K!==null&&(t.flags|=64,$&&(t.flags|=8192),$=d.callbacks,$===null?d.callbacks=[K]:$.push(K))}else $={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(G=J=$,I=ne):J=J.next=$,E|=K;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;$=w,w=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);J===null&&(I=ne),d.baseState=I,d.firstBaseUpdate=G,d.lastBaseUpdate=J,m===null&&(d.shared.lanes=0),Bi|=E,t.lanes=E,t.memoizedState=ne}}function cy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function hy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cy(a[t],i)}var Qa=se(null),pc=se(0);function dy(t,i){t=hi,ue(pc,t),ue(Qa,i),hi=t|i.baseLanes}function of(){ue(pc,hi),ue(Qa,Qa.current)}function lf(){hi=pc.current,fe(Qa),fe(pc)}var Oi=0,Oe=null,at=null,Dt=null,gc=!1,Wa=!1,Xs=!1,yc=0,El=0,Xa=null,DT=0;function At(){throw Error(s(321))}function uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function cf(t,i,a,l,d,m){return Oi=m,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Qy:Wy,Xs=!1,m=a(l,d),Xs=!1,Wa&&(m=my(i,a,l,d)),fy(t),m}function fy(t){X.H=Tc;var i=at!==null&&at.next!==null;if(Oi=0,Dt=at=Oe=null,gc=!1,El=0,Xa=null,i)throw Error(s(300));t===null||Gt||(t=t.dependencies,t!==null&&cc(t)&&(Gt=!0))}function my(t,i,a,l){Oe=t;var d=0;do{if(Wa&&(Xa=null),El=0,Wa=!1,25<=d)throw Error(s(301));if(d+=1,Dt=at=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=LT,m=i(a,l)}while(Wa);return m}function kT(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?bl(i):i,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Oe.flags|=1024),i}function hf(){var t=yc!==0;return yc=0,t}function df(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ff(t){if(gc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gc=!1}Oi=0,Dt=at=Oe=null,Wa=!1,El=yc=0,Xa=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Oe.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function kt(){if(at===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var i=Dt===null?Oe.memoizedState:Dt.next;if(i!==null)Dt=i,at=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Dt===null?Oe.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var i=El;return El+=1,Xa===null&&(Xa=[]),t=oy(Xa,t,i),i=Oe,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Qy:Wy),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===re)return sn(t)}throw Error(s(438,String(t)))}function pf(t){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mf(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=j;return i.index++,a}function si(t,i){return typeof i=="function"?i(t):i}function _c(t){var i=kt();return gf(i,at,t)}function gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var E=d.next;d.next=m.next,m.next=E}i.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{i=d.next;var w=E=null,I=null,G=i,J=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?($e&ne)===ne:(Oi&ne)===ne){var K=G.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===$a&&(J=!0);else if((Oi&K)===K){G=G.next,K===$a&&(J=!0);continue}else ne={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(w=I=ne,E=m):I=I.next=ne,Oe.lanes|=K,Bi|=K;ne=G.action,Xs&&a(m,ne),m=G.hasEagerState?G.eagerState:a(m,ne)}else K={lane:ne,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(w=I=K,E=m):I=I.next=K,Oe.lanes|=ne,Bi|=ne;G=G.next}while(G!==null&&G!==i);if(I===null?E=m:I.next=w,!An(m,t.memoizedState)&&(Gt=!0,J&&(a=Ya,a!==null)))throw a;t.memoizedState=m,t.baseState=E,t.baseQueue=I,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yf(t){var i=kt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do m=t(m,E.action),E=E.next;while(E!==d);An(m,i.memoizedState)||(Gt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function py(t,i,a){var l=Oe,d=kt(),m=Ze;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!An((at||d).memoizedState,a);E&&(d.memoizedState=a,Gt=!0),d=d.queue;var w=vy.bind(null,l,d,t);if(wl(2048,8,w,[t]),d.getSnapshot!==i||E||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Za(9,Ec(),yy.bind(null,l,d,a,i),null),ht===null)throw Error(s(349));m||(Oi&124)!==0||gy(l,i,a)}return a}function gy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=mf(),Oe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function yy(t,i,a,l){i.value=a,i.getSnapshot=l,_y(i)&&Ey(t)}function vy(t,i,a){return a(function(){_y(i)&&Ey(t)})}function _y(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function Ey(t){var i=Fa(t,2);i!==null&&Dn(i,t,2)}function vf(t){var i=yn();if(typeof t=="function"){var a=t;if(t=a(),Xs){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},i}function by(t,i,a,l){return t.baseState=a,gf(t,at,typeof l=="function"?l:si)}function OT(t,i,a,l,d){if(wc(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,wy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function wy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var m=X.T,E={};X.T=E;try{var w=a(d,l),I=X.S;I!==null&&I(E,w),Ty(t,i,w)}catch(G){_f(t,i,G)}finally{X.T=m}}else try{m=a(d,l),Ty(t,i,m)}catch(G){_f(t,i,G)}}function Ty(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xy(t,i,l)},function(l){return _f(t,i,l)}):xy(t,i,a)}function xy(t,i,a){i.status="fulfilled",i.value=a,Ay(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,wy(t,a)))}function _f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ay(i),i=i.next;while(i!==l)}t.action=null}function Ay(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sy(t,i){return i}function Ry(t,i){if(Ze){var a=ht.formState;if(a!==null){e:{var l=Oe;if(Ze){if(wt){t:{for(var d=wt,m=Ar;d.nodeType!==8;){if(!m){d=null;break t}if(d=or(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){wt=or(d.nextSibling),l=d.data==="F!";break e}}$s(l)}l=!1}l&&(i=a[0])}}return a=yn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},a.queue=l,a=Ky.bind(null,Oe,l),l.dispatch=a,l=vf(!1),m=xf.bind(null,Oe,!1,l.queue),l=yn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=OT.bind(null,Oe,d,m,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function Cy(t){var i=kt();return Iy(i,at,t)}function Iy(t,i,a){if(i=gf(t,i,Sy)[0],t=_c(si)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=bl(i)}catch(E){throw E===pl?fc:E}else l=i;i=kt();var d=i.queue,m=d.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,Za(9,Ec(),jT.bind(null,d,a),null)),[l,m,t]}function jT(t,i){t.action=i}function Ny(t){var i=kt(),a=at;if(a!==null)return Iy(i,a,t);kt(),i=i.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=mf(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ec(){return{destroy:void 0,resource:void 0}}function Dy(){return kt().memoizedState}function bc(t,i,a,l){var d=yn();l=l===void 0?null:l,Oe.flags|=t,d.memoizedState=Za(1|i,Ec(),a,l)}function wl(t,i,a,l){var d=kt();l=l===void 0?null:l;var m=d.memoizedState.inst;at!==null&&l!==null&&uf(l,at.memoizedState.deps)?d.memoizedState=Za(i,m,a,l):(Oe.flags|=t,d.memoizedState=Za(1|i,m,a,l))}function ky(t,i){bc(8390656,8,t,i)}function Oy(t,i){wl(2048,8,t,i)}function jy(t,i){return wl(4,2,t,i)}function My(t,i){return wl(4,4,t,i)}function Py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vy(t,i,a){a=a!=null?a.concat([t]):null,wl(4,4,Py.bind(null,i,t),a)}function Ef(){}function Ly(t,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&uf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Uy(t,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&uf(i,l[1]))return l[0];if(l=t(),Xs){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,i],l}function bf(t,i,a){return a===void 0||(Oi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=q0(),Oe.lanes|=t,Bi|=t,a)}function By(t,i,a,l){return An(a,i)?a:Qa.current!==null?(t=bf(t,a,l),An(t,i)||(Gt=!0),t):(Oi&42)===0?(Gt=!0,t.memoizedState=a):(t=q0(),Oe.lanes|=t,Bi|=t,i)}function zy(t,i,a,l,d){var m=he.p;he.p=m!==0&&8>m?m:8;var E=X.T,w={};X.T=w,xf(t,!1,i,a);try{var I=d(),G=X.S;if(G!==null&&G(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=NT(I,l);Tl(t,i,J,Nn(t))}else Tl(t,i,l,Nn(t))}catch(ne){Tl(t,i,{then:function(){},status:"rejected",reason:ne},Nn())}finally{he.p=m,X.T=E}}function MT(){}function wf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=qy(t).queue;zy(t,d,i,_e,a===null?MT:function(){return Fy(t),a(l)})}function qy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Fy(t){var i=qy(t).next.queue;Tl(t,i,{},Nn())}function Tf(){return sn(zl)}function Hy(){return kt().memoizedState}function Gy(){return kt().memoizedState}function PT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Nn();t=Di(a);var l=ki(i,t,a);l!==null&&(Dn(l,i,a),yl(l,i,a)),i={cache:Zd()},t.payload=i;return}i=i.return}}function VT(t,i,a){var l=Nn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?$y(i,a):(a=qd(t,i,a,l),a!==null&&(Dn(a,t,l),Yy(a,i,l)))}function Ky(t,i,a){var l=Nn();Tl(t,i,a,l)}function Tl(t,i,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))$y(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,w=m(E,a);if(d.hasEagerState=!0,d.eagerState=w,An(w,E))return sc(t,i,d,0),ht===null&&ic(),!1}catch{}finally{}if(a=qd(t,i,d,l),a!==null)return Dn(a,t,l),Yy(a,i,l),!0}return!1}function xf(t,i,a,l){if(l={lane:2,revertLane:nm(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(i)throw Error(s(479))}else i=qd(t,a,l,2),i!==null&&Dn(i,t,2)}function wc(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function $y(t,i){Wa=gc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Yy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Go(t,a)}}var Tc={readContext:sn,use:vc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Qy={readContext:sn,use:vc,useCallback:function(t,i){return yn().memoizedState=[t,i===void 0?null:i],t},useContext:sn,useEffect:ky,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,bc(4194308,4,Py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var a=yn();i=i===void 0?null:i;var l=t();if(Xs){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=yn();if(a!==void 0){var d=a(i);if(Xs){Tn(!0);try{a(i)}finally{Tn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=VT.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var i=yn();return t={current:t},i.memoizedState=t},useState:function(t){t=vf(t);var i=t.queue,a=Ky.bind(null,Oe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ef,useDeferredValue:function(t,i){var a=yn();return bf(a,t,i)},useTransition:function(){var t=vf(!1);return t=zy.bind(null,Oe,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Oe,d=yn();if(Ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ht===null)throw Error(s(349));($e&124)!==0||gy(l,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,ky(vy.bind(null,l,m,t),[t]),l.flags|=2048,Za(9,Ec(),yy.bind(null,l,m,a,i),null),a},useId:function(){var t=yn(),i=ht.identifierPrefix;if(Ze){var a=ni,l=ti;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,i=""+i+"R"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=DT++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Tf,useFormState:Ry,useActionState:Ry,useOptimistic:function(t){var i=yn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xf.bind(null,Oe,!0,a),a.dispatch=i,[t,i]},useMemoCache:pf,useCacheRefresh:function(){return yn().memoizedState=PT.bind(null,Oe)}},Wy={readContext:sn,use:vc,useCallback:Ly,useContext:sn,useEffect:Oy,useImperativeHandle:Vy,useInsertionEffect:jy,useLayoutEffect:My,useMemo:Uy,useReducer:_c,useRef:Dy,useState:function(){return _c(si)},useDebugValue:Ef,useDeferredValue:function(t,i){var a=kt();return By(a,at.memoizedState,t,i)},useTransition:function(){var t=_c(si)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:py,useId:Hy,useHostTransitionStatus:Tf,useFormState:Cy,useActionState:Cy,useOptimistic:function(t,i){var a=kt();return by(a,at,t,i)},useMemoCache:pf,useCacheRefresh:Gy},LT={readContext:sn,use:vc,useCallback:Ly,useContext:sn,useEffect:Oy,useImperativeHandle:Vy,useInsertionEffect:jy,useLayoutEffect:My,useMemo:Uy,useReducer:yf,useRef:Dy,useState:function(){return yf(si)},useDebugValue:Ef,useDeferredValue:function(t,i){var a=kt();return at===null?bf(a,t,i):By(a,at.memoizedState,t,i)},useTransition:function(){var t=yf(si)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:py,useId:Hy,useHostTransitionStatus:Tf,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,i){var a=kt();return at!==null?by(a,at,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Gy},Ja=null,xl=0;function xc(t){var i=xl;return xl+=1,Ja===null&&(Ja=[]),oy(Ja,t,i)}function Al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ac(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Xy(t){var i=t._init;return i(t._payload)}function Zy(t){function i(B,V){if(t){var H=B.deletions;H===null?(B.deletions=[V],B.flags|=16):H.push(V)}}function a(B,V){if(!t)return null;for(;V!==null;)i(B,V),V=V.sibling;return null}function l(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function d(B,V){return B=ei(B,V),B.index=0,B.sibling=null,B}function m(B,V,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<V?(B.flags|=67108866,V):H):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function E(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function w(B,V,H,ee){return V===null||V.tag!==6?(V=Hd(H,B.mode,ee),V.return=B,V):(V=d(V,H),V.return=B,V)}function I(B,V,H,ee){var ge=H.type;return ge===U?J(B,V,H.props.children,ee,H.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Xy(ge)===V.type)?(V=d(V,H.props),Al(V,H),V.return=B,V):(V=oc(H.type,H.key,H.props,null,B.mode,ee),Al(V,H),V.return=B,V)}function G(B,V,H,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Gd(H,B.mode,ee),V.return=B,V):(V=d(V,H.children||[]),V.return=B,V)}function J(B,V,H,ee,ge){return V===null||V.tag!==7?(V=Fs(H,B.mode,ee,ge),V.return=B,V):(V=d(V,H),V.return=B,V)}function ne(B,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Hd(""+V,B.mode,H),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return H=oc(V.type,V.key,V.props,null,B.mode,H),Al(H,V),H.return=B,H;case M:return V=Gd(V,B.mode,H),V.return=B,V;case S:var ee=V._init;return V=ee(V._payload),ne(B,V,H)}if(He(V)||P(V))return V=Fs(V,B.mode,H,null),V.return=B,V;if(typeof V.then=="function")return ne(B,xc(V),H);if(V.$$typeof===re)return ne(B,hc(B,V),H);Ac(B,V)}return null}function K(B,V,H,ee){var ge=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ge!==null?null:w(B,V,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===ge?I(B,V,H,ee):null;case M:return H.key===ge?G(B,V,H,ee):null;case S:return ge=H._init,H=ge(H._payload),K(B,V,H,ee)}if(He(H)||P(H))return ge!==null?null:J(B,V,H,ee,null);if(typeof H.then=="function")return K(B,V,xc(H),ee);if(H.$$typeof===re)return K(B,V,hc(B,H),ee);Ac(B,H)}return null}function $(B,V,H,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(H)||null,w(V,B,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return B=B.get(ee.key===null?H:ee.key)||null,I(V,B,ee,ge);case M:return B=B.get(ee.key===null?H:ee.key)||null,G(V,B,ee,ge);case S:var Me=ee._init;return ee=Me(ee._payload),$(B,V,H,ee,ge)}if(He(ee)||P(ee))return B=B.get(H)||null,J(V,B,ee,ge,null);if(typeof ee.then=="function")return $(B,V,H,xc(ee),ge);if(ee.$$typeof===re)return $(B,V,H,hc(V,ee),ge);Ac(V,ee)}return null}function Ie(B,V,H,ee){for(var ge=null,Me=null,we=V,Se=V=0,$t=null;we!==null&&Se<H.length;Se++){we.index>Se?($t=we,we=null):$t=we.sibling;var Xe=K(B,we,H[Se],ee);if(Xe===null){we===null&&(we=$t);break}t&&we&&Xe.alternate===null&&i(B,we),V=m(Xe,V,Se),Me===null?ge=Xe:Me.sibling=Xe,Me=Xe,we=$t}if(Se===H.length)return a(B,we),Ze&&Gs(B,Se),ge;if(we===null){for(;Se<H.length;Se++)we=ne(B,H[Se],ee),we!==null&&(V=m(we,V,Se),Me===null?ge=we:Me.sibling=we,Me=we);return Ze&&Gs(B,Se),ge}for(we=l(we);Se<H.length;Se++)$t=$(we,B,Se,H[Se],ee),$t!==null&&(t&&$t.alternate!==null&&we.delete($t.key===null?Se:$t.key),V=m($t,V,Se),Me===null?ge=$t:Me.sibling=$t,Me=$t);return t&&we.forEach(function(Qi){return i(B,Qi)}),Ze&&Gs(B,Se),ge}function Ae(B,V,H,ee){if(H==null)throw Error(s(151));for(var ge=null,Me=null,we=V,Se=V=0,$t=null,Xe=H.next();we!==null&&!Xe.done;Se++,Xe=H.next()){we.index>Se?($t=we,we=null):$t=we.sibling;var Qi=K(B,we,Xe.value,ee);if(Qi===null){we===null&&(we=$t);break}t&&we&&Qi.alternate===null&&i(B,we),V=m(Qi,V,Se),Me===null?ge=Qi:Me.sibling=Qi,Me=Qi,we=$t}if(Xe.done)return a(B,we),Ze&&Gs(B,Se),ge;if(we===null){for(;!Xe.done;Se++,Xe=H.next())Xe=ne(B,Xe.value,ee),Xe!==null&&(V=m(Xe,V,Se),Me===null?ge=Xe:Me.sibling=Xe,Me=Xe);return Ze&&Gs(B,Se),ge}for(we=l(we);!Xe.done;Se++,Xe=H.next())Xe=$(we,B,Se,Xe.value,ee),Xe!==null&&(t&&Xe.alternate!==null&&we.delete(Xe.key===null?Se:Xe.key),V=m(Xe,V,Se),Me===null?ge=Xe:Me.sibling=Xe,Me=Xe);return t&&we.forEach(function(U2){return i(B,U2)}),Ze&&Gs(B,Se),ge}function lt(B,V,H,ee){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var ge=H.key;V!==null;){if(V.key===ge){if(ge=H.type,ge===U){if(V.tag===7){a(B,V.sibling),ee=d(V,H.props.children),ee.return=B,B=ee;break e}}else if(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Xy(ge)===V.type){a(B,V.sibling),ee=d(V,H.props),Al(ee,H),ee.return=B,B=ee;break e}a(B,V);break}else i(B,V);V=V.sibling}H.type===U?(ee=Fs(H.props.children,B.mode,ee,H.key),ee.return=B,B=ee):(ee=oc(H.type,H.key,H.props,null,B.mode,ee),Al(ee,H),ee.return=B,B=ee)}return E(B);case M:e:{for(ge=H.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(B,V.sibling),ee=d(V,H.children||[]),ee.return=B,B=ee;break e}else{a(B,V);break}else i(B,V);V=V.sibling}ee=Gd(H,B.mode,ee),ee.return=B,B=ee}return E(B);case S:return ge=H._init,H=ge(H._payload),lt(B,V,H,ee)}if(He(H))return Ie(B,V,H,ee);if(P(H)){if(ge=P(H),typeof ge!="function")throw Error(s(150));return H=ge.call(H),Ae(B,V,H,ee)}if(typeof H.then=="function")return lt(B,V,xc(H),ee);if(H.$$typeof===re)return lt(B,V,hc(B,H),ee);Ac(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(B,V.sibling),ee=d(V,H),ee.return=B,B=ee):(a(B,V),ee=Hd(H,B.mode,ee),ee.return=B,B=ee),E(B)):a(B,V)}return function(B,V,H,ee){try{xl=0;var ge=lt(B,V,H,ee);return Ja=null,ge}catch(we){if(we===pl||we===fc)throw we;var Me=Sn(29,we,null,B.mode);return Me.lanes=ee,Me.return=B,Me}finally{}}}var eo=Zy(!0),Jy=Zy(!1),$n=se(null),Sr=null;function ji(t){var i=t.alternate;ue(Bt,Bt.current&1),ue($n,t),Sr===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Sr=t)}function e0(t){if(t.tag===22){if(ue(Bt,Bt.current),ue($n,t),Sr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Sr=t)}}else Mi()}function Mi(){ue(Bt,Bt.current),ue($n,$n.current)}function ai(t){fe($n),Sr===t&&(Sr=null),fe(Bt)}var Bt=se(0);function Sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||mm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Af(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Nn(),d=Di(l);d.payload=i,a!=null&&(d.callback=a),i=ki(t,d,l),i!==null&&(Dn(i,t,l),yl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Nn(),d=Di(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=ki(t,d,l),i!==null&&(Dn(i,t,l),yl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Nn(),l=Di(a);l.tag=2,i!=null&&(l.callback=i),i=ki(t,l,a),i!==null&&(Dn(i,t,a),yl(i,t,a))}};function t0(t,i,a,l,d,m,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,E):i.prototype&&i.prototype.isPureReactComponent?!ol(a,l)||!ol(d,m):!0}function n0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Sf.enqueueReplaceState(i,i.state,null)}function Zs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function r0(t){Rc(t)}function i0(t){console.error(t)}function s0(t){Rc(t)}function Cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function a0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Rf(t,i,a){return a=Di(a),a.tag=3,a.payload={element:null},a.callback=function(){Cc(t,i)},a}function o0(t){return t=Di(t),t.tag=3,t}function l0(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){a0(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){a0(i,a,l),typeof d!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function UT(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&dl(i,a,d,!0),a=$n.current,a!==null){switch(a.tag){case 13:return Sr===null?Xf():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Jf(t,l,d)),!1;case 22:return a.flags|=65536,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Jf(t,l,d)),!1}throw Error(s(435,a.tag))}return Jf(t,l,d),Xf(),!1}if(Ze)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Yd&&(t=Error(s(422),{cause:l}),hl(Fn(t,a)))):(l!==Yd&&(i=Error(s(423),{cause:l}),hl(Fn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Fn(l,a),d=Rf(t.stateNode,l,d),sf(t,d),Tt!==4&&(Tt=2)),!1;var m=Error(s(520),{cause:l});if(m=Fn(m,a),kl===null?kl=[m]:kl.push(m),Tt!==4&&(Tt=2),i===null)return!0;l=Fn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Rf(a.stateNode,l,t),sf(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zi===null||!zi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=o0(d),l0(d,t,a,l),sf(a,d),!1}a=a.return}while(a!==null);return!1}var u0=Error(s(461)),Gt=!1;function Xt(t,i,a,l){i.child=t===null?Jy(i,null,a,l):eo(i,t.child,a,l)}function c0(t,i,a,l,d){a=a.render;var m=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Qs(i),l=cf(t,i,a,E,m,d),w=hf(),t!==null&&!Gt?(df(t,i,d),oi(t,i,d)):(Ze&&w&&Kd(i),i.flags|=1,Xt(t,i,l,d),i.child)}function h0(t,i,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!Fd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,d0(t,i,m,l,d)):(t=oc(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Mf(t,d)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(E,l)&&t.ref===i.ref)return oi(t,i,d)}return i.flags|=1,t=ei(m,l),t.ref=i.ref,t.return=i,i.child=t}function d0(t,i,a,l,d){if(t!==null){var m=t.memoizedProps;if(ol(m,l)&&t.ref===i.ref)if(Gt=!1,i.pendingProps=l=m,Mf(t,d))(t.flags&131072)!==0&&(Gt=!0);else return i.lanes=t.lanes,oi(t,i,d)}return Cf(t,i,a,l,d)}function f0(t,i,a){var l=i.pendingProps,d=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(d=i.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return m0(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&dc(i,m!==null?m.cachePool:null),m!==null?dy(i,m):of(),e0(i);else return i.lanes=i.childLanes=536870912,m0(t,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(dc(i,m.cachePool),dy(i,m),Mi(),i.memoizedState=null):(t!==null&&dc(i,null),of(),Mi());return Xt(t,i,d,a),i.child}function m0(t,i,a,l){var d=ef();return d=d===null?null:{parent:Ut._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&dc(i,null),of(),e0(i),t!==null&&dl(t,i,l,!0),null}function Ic(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Cf(t,i,a,l,d){return Qs(i),a=cf(t,i,a,l,void 0,d),l=hf(),t!==null&&!Gt?(df(t,i,d),oi(t,i,d)):(Ze&&l&&Kd(i),i.flags|=1,Xt(t,i,a,d),i.child)}function p0(t,i,a,l,d,m){return Qs(i),i.updateQueue=null,a=my(i,l,a,d),fy(t),l=hf(),t!==null&&!Gt?(df(t,i,m),oi(t,i,m)):(Ze&&l&&Kd(i),i.flags|=1,Xt(t,i,a,m),i.child)}function g0(t,i,a,l,d){if(Qs(i),i.stateNode===null){var m=Ha,E=a.contextType;typeof E=="object"&&E!==null&&(m=sn(E)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Sf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},nf(i),E=a.contextType,m.context=typeof E=="object"&&E!==null?sn(E):Ha,m.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Af(i,a,E,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Sf.enqueueReplaceState(m,m.state,null),_l(i,l,m,d),vl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var w=i.memoizedProps,I=Zs(a,w);m.props=I;var G=m.context,J=a.contextType;E=Ha,typeof J=="object"&&J!==null&&(E=sn(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||G!==E)&&n0(i,m,l,E),Ni=!1;var K=i.memoizedState;m.state=K,_l(i,l,m,d),vl(),G=i.memoizedState,w||K!==G||Ni?(typeof ne=="function"&&(Af(i,a,ne,l),G=i.memoizedState),(I=Ni||t0(i,a,I,l,K,G,E))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),m.props=l,m.state=G,m.context=E,l=I):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,rf(t,i),E=i.memoizedProps,J=Zs(a,E),m.props=J,ne=i.pendingProps,K=m.context,G=a.contextType,I=Ha,typeof G=="object"&&G!==null&&(I=sn(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ne||K!==I)&&n0(i,m,l,I),Ni=!1,K=i.memoizedState,m.state=K,_l(i,l,m,d),vl();var $=i.memoizedState;E!==ne||K!==$||Ni||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof w=="function"&&(Af(i,a,w,l),$=i.memoizedState),(J=Ni||t0(i,a,J,l,K,$,I)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,$,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,$,I)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),m.props=l,m.state=$,m.context=I,l=J):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,Ic(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=eo(i,t.child,null,d),i.child=eo(i,null,a,d)):Xt(t,i,a,d),i.memoizedState=m.state,t=i.child):t=oi(t,i,d),t}function y0(t,i,a,l){return cl(),i.flags|=256,Xt(t,i,a,l),i.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:iy()}}function Df(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Yn),t}function v0(t,i,a){var l=i.pendingProps,d=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),E&&(d=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ze){if(d?ji(i):Mi(),Ze){var w=wt,I;if(I=w){e:{for(I=w,w=Ar;I.nodeType!==8;){if(!w){w=null;break e}if(I=or(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(i.memoizedState={dehydrated:w,treeContext:Hs!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},I=Sn(18,null,null,0),I.stateNode=w,I.return=i,i.child=I,pn=i,wt=null,I=!0):I=!1}I||$s(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return mm(w)?i.lanes=32:i.lanes=536870912,null;ai(i)}return w=l.children,l=l.fallback,d?(Mi(),d=i.mode,w=Nc({mode:"hidden",children:w},d),l=Fs(l,d,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,d=i.child,d.memoizedState=Nf(a),d.childLanes=Df(t,E,a),i.memoizedState=If,l):(ji(i),kf(i,w))}if(I=t.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(m)i.flags&256?(ji(i),i.flags&=-257,i=Of(t,i,a)):i.memoizedState!==null?(Mi(),i.child=t.child,i.flags|=128,i=null):(Mi(),d=l.fallback,w=i.mode,l=Nc({mode:"visible",children:l.children},w),d=Fs(d,w,a,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,eo(i,t.child,null,a),l=i.child,l.memoizedState=Nf(a),l.childLanes=Df(t,E,a),i.memoizedState=If,i=d);else if(ji(i),mm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(s(419)),l.stack="",l.digest=E,hl({value:l,source:null,stack:null}),i=Of(t,i,a)}else if(Gt||dl(t,i,a,!1),E=(a&t.childLanes)!==0,Gt||E){if(E=ht,E!==null&&(l=a&-a,l=(l&42)!==0?1:wi(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Fa(t,l),Dn(E,t,l),u0;w.data==="$?"||Xf(),i=Of(t,i,a)}else w.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,wt=or(w.nextSibling),pn=i,Ze=!0,Ks=null,Ar=!1,t!==null&&(Gn[Kn++]=ti,Gn[Kn++]=ni,Gn[Kn++]=Hs,ti=t.id,ni=t.overflow,Hs=i),i=kf(i,l.children),i.flags|=4096);return i}return d?(Mi(),d=l.fallback,w=i.mode,I=t.child,G=I.sibling,l=ei(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,G!==null?d=ei(G,d):(d=Fs(d,w,a,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,w=t.child.memoizedState,w===null?w=Nf(a):(I=w.cachePool,I!==null?(G=Ut._currentValue,I=I.parent!==G?{parent:G,pool:G}:I):I=iy(),w={baseLanes:w.baseLanes|a,cachePool:I}),d.memoizedState=w,d.childLanes=Df(t,E,a),i.memoizedState=If,l):(ji(i),a=t.child,t=a.sibling,a=ei(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function kf(t,i){return i=Nc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Nc(t,i){return t=Sn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Of(t,i,a){return eo(i,t.child,null,a),t=kf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function _0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Wd(t.return,i,a)}function jf(t,i,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function E0(t,i,a){var l=i.pendingProps,d=l.revealOrder,m=l.tail;if(Xt(t,i,l.children,a),l=Bt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_0(t,a,i);else if(t.tag===19)_0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ue(Bt,l),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Sc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),jf(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Sc(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}jf(i,!0,a,null,m);break;case"together":jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function oi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Bi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(dl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ei(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ei(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Mf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function BT(t,i,a){switch(i.tag){case 3:z(i,i.stateNode.containerInfo),Ii(i,Ut,t.memoizedState.cache),cl();break;case 27:case 5:be(i);break;case 4:z(i,i.stateNode.containerInfo);break;case 10:Ii(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(i),i.flags|=128,null):(a&i.child.childLanes)!==0?v0(t,i,a):(ji(i),t=oi(t,i,a),t!==null?t.sibling:null);ji(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(dl(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return E0(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(Bt,Bt.current),l)break;return null;case 22:case 23:return i.lanes=0,f0(t,i,a);case 24:Ii(i,Ut,t.memoizedState.cache)}return oi(t,i,a)}function b0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Gt=!0;else{if(!Mf(t,a)&&(i.flags&128)===0)return Gt=!1,BT(t,i,a);Gt=(t.flags&131072)!==0}else Gt=!1,Ze&&(i.flags&1048576)!==0&&Xg(i,uc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")Fd(l)?(t=Zs(l,t),i.tag=1,i=g0(null,i,l,t,a)):(i.tag=0,i=Cf(null,i,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===me){i.tag=11,i=c0(null,i,l,t,a);break e}else if(d===D){i.tag=14,i=h0(null,i,l,t,a);break e}}throw i=ut(l)||l,Error(s(306,i,""))}}return i;case 0:return Cf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=Zs(l,i.pendingProps),g0(t,i,l,d,a);case 3:e:{if(z(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;d=m.element,rf(t,i),_l(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Ii(i,Ut,l),l!==m.cache&&Xd(i,[Ut],a,!0),vl(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=y0(t,i,l,a);break e}else if(l!==d){d=Fn(Error(s(424)),i),hl(d),i=y0(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wt=or(t.firstChild),pn=i,Ze=!0,Ks=null,Ar=!0,a=Jy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cl(),l===d){i=oi(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return Ic(t,i),t===null?(a=Av(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ze||(a=i.type,t=i.pendingProps,l=Hc(te.current).createElement(a),l[Pt]=i,l[It]=t,Jt(l,a,t),xt(l),i.stateNode=l):i.memoizedState=Av(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return be(i),t===null&&Ze&&(l=i.stateNode=wv(i.type,i.pendingProps,te.current),pn=i,Ar=!0,d=wt,Hi(i.type)?(pm=d,wt=or(l.firstChild)):wt=d),Xt(t,i,i.pendingProps.children,a),Ic(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ze&&((d=l=wt)&&(l=m2(l,i.type,i.pendingProps,Ar),l!==null?(i.stateNode=l,pn=i,wt=or(l.firstChild),Ar=!1,d=!0):d=!1),d||$s(i)),be(i),d=i.type,m=i.pendingProps,E=t!==null?t.memoizedProps:null,l=m.children,hm(d,m)?l=null:E!==null&&hm(d,E)&&(i.flags|=32),i.memoizedState!==null&&(d=cf(t,i,kT,null,null,a),zl._currentValue=d),Ic(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&Ze&&((t=a=wt)&&(a=p2(a,i.pendingProps,Ar),a!==null?(i.stateNode=a,pn=i,wt=null,t=!0):t=!1),t||$s(i)),null;case 13:return v0(t,i,a);case 4:return z(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=eo(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return c0(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ii(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Qs(i),d=sn(d),l=l(d),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return h0(t,i,i.type,i.pendingProps,a);case 15:return d0(t,i,i.type,i.pendingProps,a);case 19:return E0(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Nc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ei(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return f0(t,i,a);case 24:return Qs(i),l=sn(Ut),t===null?(d=ef(),d===null&&(d=ht,m=Zd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),i.memoizedState={parent:l,cache:d},nf(i),Ii(i,Ut,d)):((t.lanes&a)!==0&&(rf(t,i),_l(i,null,null,a),vl()),d=t.memoizedState,m=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ii(i,Ut,l)):(l=m.cache,Ii(i,Ut,l),l!==d.cache&&Xd(i,[Ut],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function li(t){t.flags|=4}function w0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nv(i)){if(i=$n.current,i!==null&&(($e&4194048)===$e?Sr!==null:($e&62914560)!==$e&&($e&536870912)===0||i!==Sr))throw gl=tf,sy;t.flags|=8192}}function Dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Fo():536870912,t.lanes|=i,io|=i)}function Sl(t,i){if(!Ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function zT(t,i,a){var l=i.pendingProps;switch($d(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ii(Ut),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ul(i)?li(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ey())),yt(i),null;case 26:return a=i.memoizedState,t===null?(li(i),a!==null?(yt(i),w0(i,a)):(yt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(li(i),yt(i),w0(i,a)):(yt(i),i.flags&=-16777217):(t.memoizedProps!==l&&li(i),yt(i),i.flags&=-16777217),null;case 27:ce(i),a=te.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return yt(i),null}t=Ee.current,ul(i)?Zg(i):(t=wv(d,l,a),i.stateNode=t,li(i))}return yt(i),null;case 5:if(ce(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return yt(i),null}if(t=Ee.current,ul(i))Zg(i);else{switch(d=Hc(te.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[Pt]=i,t[It]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(Jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&li(i)}}return yt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&li(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=te.current,ul(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=pn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Pt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||pv(t.nodeValue,a)),t||$s(i)}else t=Hc(t).createTextNode(l),t[Pt]=i,i.stateNode=t}return yt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=ul(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Pt]=i}else cl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),d=!1}else d=ey(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(ai(i),i):(ai(i),null)}if(ai(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Dc(i,i.updateQueue),yt(i),null;case 4:return le(),t===null&&am(i.stateNode.containerInfo),yt(i),null;case 10:return ii(i.type),yt(i),null;case 19:if(fe(Bt),d=i.memoizedState,d===null)return yt(i),null;if(l=(i.flags&128)!==0,m=d.rendering,m===null)if(l)Sl(d,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Sc(t),m!==null){for(i.flags|=128,Sl(d,!1),t=m.updateQueue,i.updateQueue=t,Dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Wg(a,t),a=a.sibling;return ue(Bt,Bt.current&1|2),i.child}t=t.sibling}d.tail!==null&&Vn()>jc&&(i.flags|=128,l=!0,Sl(d,!1),i.lanes=4194304)}else{if(!l)if(t=Sc(m),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Dc(i,t),Sl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ze)return yt(i),null}else 2*Vn()-d.renderingStartTime>jc&&a!==536870912&&(i.flags|=128,l=!0,Sl(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(t=d.last,t!==null?t.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Vn(),i.sibling=null,t=Bt.current,ue(Bt,l?t&1|2:t&1),i):(yt(i),null);case 22:case 23:return ai(i),lf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),a=i.updateQueue,a!==null&&Dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&fe(Ws),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ii(Ut),yt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function qT(t,i){switch($d(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ii(Ut),le(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ce(i),null;case 13:if(ai(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));cl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return fe(Bt),null;case 4:return le(),null;case 10:return ii(i.type),null;case 22:case 23:return ai(i),lf(),t!==null&&fe(Ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ii(Ut),null;case 25:return null;default:return null}}function T0(t,i){switch($d(i),i.tag){case 3:ii(Ut),le();break;case 26:case 27:case 5:ce(i);break;case 4:le();break;case 13:ai(i);break;case 19:fe(Bt);break;case 10:ii(i.type);break;case 22:case 23:ai(i),lf(),t!==null&&fe(Ws);break;case 24:ii(Ut)}}function Rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==d)}}catch(w){ct(i,i.return,w)}}function Pi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,d=i;var I=a,G=w;try{G()}catch(J){ct(d,I,J)}}}l=l.next}while(l!==m)}}catch(J){ct(i,i.return,J)}}function x0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{hy(i,a)}catch(l){ct(t,t.return,l)}}}function A0(t,i,a){a.props=Zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ct(t,i,l)}}function Cl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){ct(t,i,d)}}function Rr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ct(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ct(t,i,d)}else a.current=null}function S0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ct(t,t.return,d)}}function Pf(t,i,a){try{var l=t.stateNode;u2(l,t.type,a,i),l[It]=i}catch(d){ct(t,t.return,d)}}function R0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hi(t.type)||t.tag===4}function Vf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fc));else if(l!==4&&(l===27&&Hi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Lf(t,i,a),t=t.sibling;t!==null;)Lf(t,i,a),t=t.sibling}function kc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(kc(t,i,a),t=t.sibling;t!==null;)kc(t,i,a),t=t.sibling}function C0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Jt(i,l,a),i[Pt]=t,i[It]=a}catch(m){ct(t,t.return,m)}}var ui=!1,St=!1,Uf=!1,I0=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function FT(t,i){if(t=t.containerInfo,um=Wc,t=Bg(t),Pd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,w=-1,I=-1,G=0,J=0,ne=t,K=null;t:for(;;){for(var $;ne!==a||d!==0&&ne.nodeType!==3||(w=E+d),ne!==m||l!==0&&ne.nodeType!==3||(I=E+l),ne.nodeType===3&&(E+=ne.nodeValue.length),($=ne.firstChild)!==null;)K=ne,ne=$;for(;;){if(ne===t)break t;if(K===a&&++G===d&&(w=E),K===m&&++J===l&&(I=E),($=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=$}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(cm={focusedElem:t,selectionRange:a},Wc=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ie=Zs(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ie,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ct(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)fm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function N0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(t,a),l&4&&Rl(5,a);break;case 1:if(Vi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){ct(a,a.return,E)}else{var d=Zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){ct(a,a.return,E)}}l&64&&x0(a),l&512&&Cl(a,a.return);break;case 3:if(Vi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hy(t,i)}catch(E){ct(a,a.return,E)}}break;case 27:i===null&&l&4&&C0(a);case 26:case 5:Vi(t,a),i===null&&l&4&&S0(a),l&512&&Cl(a,a.return);break;case 12:Vi(t,a);break;case 13:Vi(t,a),l&4&&O0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ZT.bind(null,a),g2(t,a))));break;case 22:if(l=a.memoizedState!==null||ui,!l){i=i!==null&&i.memoizedState!==null||St,d=ui;var m=St;ui=l,(St=i)&&!m?Li(t,a,(a.subtreeFlags&8772)!==0):Vi(t,a),ui=d,St=m}break;case 30:break;default:Vi(t,a)}}function D0(t){var i=t.alternate;i!==null&&(t.alternate=null,D0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ai(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,vn=!1;function ci(t,i,a){for(a=a.child;a!==null;)k0(t,i,a),a=a.sibling}function k0(t,i,a){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(bt,a)}catch{}switch(a.tag){case 26:St||Rr(a,i),ci(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Rr(a,i);var l=mt,d=vn;Hi(a.type)&&(mt=a.stateNode,vn=!1),ci(t,i,a),Vl(a.stateNode),mt=l,vn=d;break;case 5:St||Rr(a,i);case 6:if(l=mt,d=vn,mt=null,ci(t,i,a),mt=l,vn=d,mt!==null)if(vn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(m){ct(a,i,m)}else try{mt.removeChild(a.stateNode)}catch(m){ct(a,i,m)}break;case 18:mt!==null&&(vn?(t=mt,Ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Gl(t)):Ev(mt,a.stateNode));break;case 4:l=mt,d=vn,mt=a.stateNode.containerInfo,vn=!0,ci(t,i,a),mt=l,vn=d;break;case 0:case 11:case 14:case 15:St||Pi(2,a,i),St||Pi(4,a,i),ci(t,i,a);break;case 1:St||(Rr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&A0(a,i,l)),ci(t,i,a);break;case 21:ci(t,i,a);break;case 22:St=(l=St)||a.memoizedState!==null,ci(t,i,a),St=l;break;default:ci(t,i,a)}}function O0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gl(t)}catch(a){ct(i,i.return,a)}}function HT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new I0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new I0),i;default:throw Error(s(435,t.tag))}}function Bf(t,i){var a=HT(t);i.forEach(function(l){var d=JT.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function Rn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(Hi(w.type)){mt=w.stateNode,vn=!1;break e}break;case 5:mt=w.stateNode,vn=!1;break e;case 3:case 4:mt=w.stateNode.containerInfo,vn=!0;break e}w=w.return}if(mt===null)throw Error(s(160));k0(m,E,d),mt=null,vn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)j0(i,t),i=i.sibling}var ar=null;function j0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(i,t),Cn(t),l&4&&(Pi(3,t,t.return),Rl(3,t),Pi(5,t,t.return));break;case 1:Rn(i,t),Cn(t),l&512&&(St||a===null||Rr(a,a.return)),l&64&&ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ar;if(Rn(i,t),Cn(t),l&512&&(St||a===null||Rr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Rs]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Jt(m,l,a),m[Pt]=t,xt(m),l=m;break e;case"link":var E=Cv("link","href",d).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}m=d.createElement(l),Jt(m,l,a),d.head.appendChild(m);break;case"meta":if(E=Cv("meta","content",d).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}m=d.createElement(l),Jt(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[Pt]=t,xt(m),l=m}t.stateNode=l}else Iv(d,t.type,t.stateNode);else t.stateNode=Rv(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Iv(d,t.type,t.stateNode):Rv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Rn(i,t),Cn(t),l&512&&(St||a===null||Rr(a,a.return)),a!==null&&l&4&&Pf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Rn(i,t),Cn(t),l&512&&(St||a===null||Rr(a,a.return)),t.flags&32){d=t.stateNode;try{Un(d,"")}catch($){ct(t,t.return,$)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Pf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Uf=!0);break;case 6:if(Rn(i,t),Cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch($){ct(t,t.return,$)}}break;case 3:if($c=null,d=ar,ar=Gc(i.containerInfo),Rn(i,t),ar=d,Cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Gl(i.containerInfo)}catch($){ct(t,t.return,$)}Uf&&(Uf=!1,M0(t));break;case 4:l=ar,ar=Gc(t.stateNode.containerInfo),Rn(i,t),Cn(t),ar=l;break;case 12:Rn(i,t),Cn(t);break;case 13:Rn(i,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kf=Vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bf(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,G=ui,J=St;if(ui=G||d,St=J||I,Rn(i,t),St=J,ui=G,Cn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||I||ui||St||Js(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(m=I.stateNode,d)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=I.stateNode;var ne=I.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){ct(I,I.return,$)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch($){ct(I,I.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bf(t,a))));break;case 19:Rn(i,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bf(t,l)));break;case 30:break;case 21:break;default:Rn(i,t),Cn(t)}}function Cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(R0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,m=Vf(t);kc(t,m,d);break;case 5:var E=a.stateNode;a.flags&32&&(Un(E,""),a.flags&=-33);var w=Vf(t);kc(t,w,E);break;case 3:case 4:var I=a.stateNode.containerInfo,G=Vf(t);Lf(t,G,I);break;default:throw Error(s(161))}}catch(J){ct(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function M0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;M0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Vi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)N0(t,i.alternate,i),i=i.sibling}function Js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pi(4,i,i.return),Js(i);break;case 1:Rr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&A0(i,i.return,a),Js(i);break;case 27:Vl(i.stateNode);case 26:case 5:Rr(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}t=t.sibling}}function Li(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:Li(d,m,a),Rl(4,m);break;case 1:if(Li(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){ct(l,l.return,G)}if(l=m,d=l.updateQueue,d!==null){var w=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)cy(I[d],w)}catch(G){ct(l,l.return,G)}}a&&E&64&&x0(m),Cl(m,m.return);break;case 27:C0(m);case 26:case 5:Li(d,m,a),a&&l===null&&E&4&&S0(m),Cl(m,m.return);break;case 12:Li(d,m,a);break;case 13:Li(d,m,a),a&&E&4&&O0(d,m);break;case 22:m.memoizedState===null&&Li(d,m,a),Cl(m,m.return);break;case 30:break;default:Li(d,m,a)}i=i.sibling}}function zf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function qf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function Cr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P0(t,i,a,l),i=i.sibling}function P0(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Cr(t,i,a,l),d&2048&&Rl(9,i);break;case 1:Cr(t,i,a,l);break;case 3:Cr(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(d&2048){Cr(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ct(i,i.return,I)}}else Cr(t,i,a,l);break;case 13:Cr(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?Cr(t,i,a,l):Il(t,i):m._visibility&2?Cr(t,i,a,l):(m._visibility|=2,to(t,i,a,l,(i.subtreeFlags&10256)!==0)),d&2048&&zf(E,i);break;case 24:Cr(t,i,a,l),d&2048&&qf(i.alternate,i);break;default:Cr(t,i,a,l)}}function to(t,i,a,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,E=i,w=a,I=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:to(m,E,w,I,d),Rl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?to(m,E,w,I,d):Il(m,E):(J._visibility|=2,to(m,E,w,I,d)),d&&G&2048&&zf(E.alternate,E);break;case 24:to(m,E,w,I,d),d&&G&2048&&qf(E.alternate,E);break;default:to(m,E,w,I,d)}i=i.sibling}}function Il(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Il(a,l),d&2048&&zf(l.alternate,l);break;case 24:Il(a,l),d&2048&&qf(l.alternate,l);break;default:Il(a,l)}i=i.sibling}}var Nl=8192;function no(t){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)V0(t),t=t.sibling}function V0(t){switch(t.tag){case 26:no(t),t.flags&Nl&&t.memoizedState!==null&&I2(ar,t.memoizedState,t.memoizedProps);break;case 5:no(t);break;case 3:case 4:var i=ar;ar=Gc(t.stateNode.containerInfo),no(t),ar=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Nl,Nl=16777216,no(t),Nl=i):no(t));break;default:no(t)}}function L0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,B0(l,t)}L0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)U0(t),t=t.sibling}function U0(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&Pi(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oc(t)):Dl(t);break;default:Dl(t)}}function Oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,B0(l,t)}L0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pi(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}t=t.sibling}}function B0(t,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Pi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=t;Kt!==null;){l=Kt;var d=l.sibling,m=l.return;if(D0(l),l===a){Kt=null;break e}if(d!==null){d.return=m,Kt=d;break e}Kt=m}}}var GT={getCacheForType:function(t){var i=sn(Ut),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},KT=typeof WeakMap=="function"?WeakMap:Map,rt=0,ht=null,Ve=null,$e=0,it=0,In=null,Ui=!1,ro=!1,Ff=!1,hi=0,Tt=0,Bi=0,ea=0,Hf=0,Yn=0,io=0,kl=null,_n=null,Gf=!1,Kf=0,jc=1/0,Mc=null,zi=null,Zt=0,qi=null,so=null,ao=0,$f=0,Yf=null,z0=null,Ol=0,Qf=null;function Nn(){if((rt&2)!==0&&$e!==0)return $e&-$e;if(X.T!==null){var t=$a;return t!==0?t:nm()}return Ti()}function q0(){Yn===0&&(Yn=($e&536870912)===0||Ze?qo():536870912);var t=$n.current;return t!==null&&(t.flags|=32),Yn}function Dn(t,i,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(oo(t,0),Fi(t,$e,Yn,!1)),Fr(t,a),((rt&2)===0||t!==ht)&&(t===ht&&((rt&2)===0&&(ea|=a),Tt===4&&Fi(t,$e,Yn,!1)),Ir(t))}function F0(t,i,a){if((rt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Ss(t,i),d=l?QT(t,i):Zf(t,i,!0),m=l;do{if(d===0){ro&&!l&&Fi(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!$T(a)){d=Zf(t,i,!1),m=!1;continue}if(d===2){if(m=i,t.errorRecoveryDisabledLanes&m)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=t;d=kl;var I=w.current.memoizedState.isDehydrated;if(I&&(oo(w,E).flags|=256),E=Zf(w,E,!1),E!==2){if(Ff&&!I){w.errorRecoveryDisabledLanes|=m,ea|=m,d=4;break e}m=_n,_n=d,m!==null&&(_n===null?_n=m:_n.push.apply(_n,m))}d=E}if(m=!1,d!==2)continue}}if(d===1){oo(t,0),Fi(t,i,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Fi(l,i,Yn,!Ui);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Kf+300-Vn(),10<d)){if(Fi(l,i,Yn,!Ui),xa(l,0,!0)!==0)break e;l.timeoutHandle=vv(H0.bind(null,l,a,_n,Mc,Gf,i,Yn,ea,io,Ui,m,2,-0,0),d);break e}H0(l,a,_n,Mc,Gf,i,Yn,ea,io,Ui,m,0,-0,0)}}break}while(!0);Ir(t)}function H0(t,i,a,l,d,m,E,w,I,G,J,ne,K,$){if(t.timeoutHandle=-1,ne=i.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:C2},V0(i),ne=N2(),ne!==null)){t.cancelPendingCommit=ne(X0.bind(null,t,i,m,a,l,d,E,w,I,J,1,K,$)),Fi(t,m,E,!G);return}X0(t,i,m,a,l,d,E,w,I)}function $T(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!An(m(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fi(t,i,a,l){i&=~Hf,i&=~ea,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var m=31-rn(d),E=1<<m;l[m]=-1,d&=~E}a!==0&&mr(t,a,i)}function Pc(){return(rt&6)===0?(jl(0),!1):!0}function Wf(){if(Ve!==null){if(it===0)var t=Ve.return;else t=Ve,ri=Ys=null,ff(t),Ja=null,xl=0,t=Ve;for(;t!==null;)T0(t.alternate,t),t=t.return;Ve=null}}function oo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,h2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wf(),ht=t,Ve=a=ei(t.current,null),$e=i,it=0,In=null,Ui=!1,ro=Ss(t,i),Ff=!1,io=Yn=Hf=ea=Bi=Tt=0,_n=kl=null,Gf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-rn(l),m=1<<d;i|=t[d],l&=~m}return hi=i,ic(),a}function G0(t,i){Oe=null,X.H=Tc,i===pl||i===fc?(i=ly(),it=3):i===sy?(i=ly(),it=4):it=i===u0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Ve===null&&(Tt=1,Cc(t,Fn(i,t.current)))}function K0(){var t=X.H;return X.H=Tc,t===null?Tc:t}function $0(){var t=X.A;return X.A=GT,t}function Xf(){Tt=4,Ui||($e&4194048)!==$e&&$n.current!==null||(ro=!0),(Bi&134217727)===0&&(ea&134217727)===0||ht===null||Fi(ht,$e,Yn,!1)}function Zf(t,i,a){var l=rt;rt|=2;var d=K0(),m=$0();(ht!==t||$e!==i)&&(Mc=null,oo(t,i)),i=!1;var E=Tt;e:do try{if(it!==0&&Ve!==null){var w=Ve,I=In;switch(it){case 8:Wf(),E=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var G=it;if(it=0,In=null,lo(t,w,I,G),a&&ro){E=0;break e}break;default:G=it,it=0,In=null,lo(t,w,I,G)}}YT(),E=Tt;break}catch(J){G0(t,J)}while(!0);return i&&t.shellSuspendCounter++,ri=Ys=null,rt=l,X.H=d,X.A=m,Ve===null&&(ht=null,$e=0,ic()),E}function YT(){for(;Ve!==null;)Y0(Ve)}function QT(t,i){var a=rt;rt|=2;var l=K0(),d=$0();ht!==t||$e!==i?(Mc=null,jc=Vn()+500,oo(t,i)):ro=Ss(t,i);e:do try{if(it!==0&&Ve!==null){i=Ve;var m=In;t:switch(it){case 1:it=0,In=null,lo(t,i,m,1);break;case 2:case 9:if(ay(m)){it=0,In=null,Q0(i);break}i=function(){it!==2&&it!==9||ht!==t||(it=7),Ir(t)},m.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:ay(m)?(it=0,In=null,Q0(i)):(it=0,In=null,lo(t,i,m,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var w=Ve;if(!E||Nv(E)){it=0,In=null;var I=w.sibling;if(I!==null)Ve=I;else{var G=w.return;G!==null?(Ve=G,Vc(G)):Ve=null}break t}}it=0,In=null,lo(t,i,m,5);break;case 6:it=0,In=null,lo(t,i,m,6);break;case 8:Wf(),Tt=6;break e;default:throw Error(s(462))}}WT();break}catch(J){G0(t,J)}while(!0);return ri=Ys=null,X.H=l,X.A=d,rt=a,Ve!==null?0:(ht=null,$e=0,ic(),Tt)}function WT(){for(;Ve!==null&&!gt();)Y0(Ve)}function Y0(t){var i=b0(t.alternate,t,hi);t.memoizedProps=t.pendingProps,i===null?Vc(t):Ve=i}function Q0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=p0(a,i,i.pendingProps,i.type,void 0,$e);break;case 11:i=p0(a,i,i.pendingProps,i.type.render,i.ref,$e);break;case 5:ff(i);default:T0(a,i),i=Ve=Wg(i,hi),i=b0(a,i,hi)}t.memoizedProps=t.pendingProps,i===null?Vc(t):Ve=i}function lo(t,i,a,l){ri=Ys=null,ff(i),Ja=null,xl=0;var d=i.return;try{if(UT(t,d,i,a,$e)){Tt=1,Cc(t,Fn(a,t.current)),Ve=null;return}}catch(m){if(d!==null)throw Ve=d,m;Tt=1,Cc(t,Fn(a,t.current)),Ve=null;return}i.flags&32768?(Ze||l===1?t=!0:ro||($e&536870912)!==0?t=!1:(Ui=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),W0(i,t)):Vc(i)}function Vc(t){var i=t;do{if((i.flags&32768)!==0){W0(i,Ui);return}t=i.return;var a=zT(i.alternate,i,hi);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);Tt===0&&(Tt=5)}function W0(t,i){do{var a=qT(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);Tt=6,Ve=null}function X0(t,i,a,l,d,m,E,w,I){t.cancelPendingCommit=null;do Lc();while(Zt!==0);if((rt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=zd,Ho(t,a,m,E,w,I),t===ht&&(Ve=ht=null,$e=0),so=i,qi=t,ao=a,$f=m,Yf=d,z0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,e2(ws,function(){return nv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,d=he.p,he.p=2,E=rt,rt|=4;try{FT(t,i,a)}finally{rt=E,he.p=d,X.T=l}}Zt=1,Z0(),J0(),ev()}}function Z0(){if(Zt===1){Zt=0;var t=qi,i=so,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=he.p;he.p=2;var d=rt;rt|=4;try{j0(i,t);var m=cm,E=Bg(t.containerInfo),w=m.focusedElem,I=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&Ug(w.ownerDocument.documentElement,w)){if(I!==null&&Pd(w)){var G=I.start,J=I.end;if(J===void 0&&(J=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(J,w.value.length);else{var ne=w.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var $=K.getSelection(),Ie=w.textContent.length,Ae=Math.min(I.start,Ie),lt=I.end===void 0?Ae:Math.min(I.end,Ie);!$.extend&&Ae>lt&&(E=lt,lt=Ae,Ae=E);var B=Lg(w,Ae),V=Lg(w,lt);if(B&&V&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var H=ne.createRange();H.setStart(B.node,B.offset),$.removeAllRanges(),Ae>lt?($.addRange(H),$.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),$.addRange(H))}}}}for(ne=[],$=w;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var ee=ne[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Wc=!!um,cm=um=null}finally{rt=d,he.p=l,X.T=a}}t.current=i,Zt=2}}function J0(){if(Zt===2){Zt=0;var t=qi,i=so,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=he.p;he.p=2;var d=rt;rt|=4;try{N0(t,i.alternate,i)}finally{rt=d,he.p=l,X.T=a}}Zt=3}}function ev(){if(Zt===4||Zt===3){Zt=0,gn();var t=qi,i=so,a=ao,l=z0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Zt=5:(Zt=0,so=qi=null,tv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(zi=null),Aa(a),i=i.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(bt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,d=he.p,he.p=2,X.T=null;try{for(var m=t.onRecoverableError,E=0;E<l.length;E++){var w=l[E];m(w.value,{componentStack:w.stack})}}finally{X.T=i,he.p=d}}(ao&3)!==0&&Lc(),Ir(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Qf?Ol++:(Ol=0,Qf=t):Ol=0,jl(0)}}function tv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function Lc(t){return Z0(),J0(),ev(),nv()}function nv(){if(Zt!==5)return!1;var t=qi,i=$f;$f=0;var a=Aa(ao),l=X.T,d=he.p;try{he.p=32>a?32:a,X.T=null,a=Yf,Yf=null;var m=qi,E=ao;if(Zt=0,so=qi=null,ao=0,(rt&6)!==0)throw Error(s(331));var w=rt;if(rt|=4,U0(m.current),P0(m,m.current,E,a),rt=w,jl(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(bt,m)}catch{}return!0}finally{he.p=d,X.T=l,tv(t,i)}}function rv(t,i,a){i=Fn(a,i),i=Rf(t.stateNode,i,2),t=ki(t,i,2),t!==null&&(Fr(t,2),Ir(t))}function ct(t,i,a){if(t.tag===3)rv(t,t,a);else for(;i!==null;){if(i.tag===3){rv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zi===null||!zi.has(l))){t=Fn(a,t),a=o0(2),l=ki(i,a,2),l!==null&&(l0(a,l,i,t),Fr(l,2),Ir(l));break}}i=i.return}}function Jf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new KT;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Ff=!0,d.add(a),t=XT.bind(null,t,i,a),i.then(t,t))}function XT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&($e&a)===a&&(Tt===4||Tt===3&&($e&62914560)===$e&&300>Vn()-Kf?(rt&2)===0&&oo(t,0):Hf|=a,io===$e&&(io=0)),Ir(t)}function iv(t,i){i===0&&(i=Fo()),t=Fa(t,i),t!==null&&(Fr(t,i),Ir(t))}function ZT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),iv(t,a)}function JT(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),iv(t,a)}function e2(t,i){return tt(t,i)}var Uc=null,uo=null,em=!1,Bc=!1,tm=!1,ta=0;function Ir(t){t!==uo&&t.next===null&&(uo===null?Uc=uo=t:uo=uo.next=t),Bc=!0,em||(em=!0,n2())}function jl(t,i){if(!tm&&Bc){tm=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var E=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-rn(42|t)+1)-1,m&=d&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,lv(l,m))}else m=$e,m=xa(l,l===ht?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ss(l,m)||(a=!0,lv(l,m));l=l.next}while(a);tm=!1}}function t2(){sv()}function sv(){Bc=em=!1;var t=0;ta!==0&&(c2()&&(t=ta),ta=0);for(var i=Vn(),a=null,l=Uc;l!==null;){var d=l.next,m=av(l,i);m===0?(l.next=null,a===null?Uc=d:a.next=d,d===null&&(uo=a)):(a=l,(t!==0||(m&3)!==0)&&(Bc=!0)),l=d}jl(t)}function av(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var E=31-rn(m),w=1<<E,I=d[E];I===-1?((w&a)===0||(w&l)!==0)&&(d[E]=zo(w,i)):I<=i&&(t.expiredLanes|=w),m&=~w}if(i=ht,a=$e,a=xa(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&qe(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ss(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&qe(l),Aa(a)){case 2:case 8:a=wa;break;case 32:a=ws;break;case 268435456:a=Ta;break;default:a=ws}return l=ov.bind(null,t),a=tt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&qe(l),t.callbackPriority=2,t.callbackNode=null,2}function ov(t,i){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=$e;return l=xa(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(F0(t,l,i),av(t,Vn()),t.callbackNode!=null&&t.callbackNode===a?ov.bind(null,t):null)}function lv(t,i){if(Lc())return null;F0(t,i,!0)}function n2(){d2(function(){(rt&6)!==0?tt(Uo,t2):sv()})}function nm(){return ta===0&&(ta=qo()),ta}function uv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Da(""+t)}function cv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function r2(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var m=uv((d[It]||null).action),E=l.submitter;E&&(i=(i=E[It]||null)?uv(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var w=new ka("action","action",null,l,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var I=E?cv(d,E):new FormData(d);wf(a,{pending:!0,data:I,method:d.method,action:m},null,I)}}else typeof m=="function"&&(w.preventDefault(),I=E?cv(d,E):new FormData(d),wf(a,{pending:!0,data:I,method:d.method,action:m},m,I))},currentTarget:d}]})}}for(var rm=0;rm<Bd.length;rm++){var im=Bd[rm],i2=im.toLowerCase(),s2=im[0].toUpperCase()+im.slice(1);sr(i2,"on"+s2)}sr(Fg,"onAnimationEnd"),sr(Hg,"onAnimationIteration"),sr(Gg,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(wT,"onTransitionRun"),sr(TT,"onTransitionStart"),sr(xT,"onTransitionCancel"),sr(Kg,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function hv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],I=w.instance,G=w.currentTarget;if(w=w.listener,I!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=G;try{m(d)}catch(J){Rc(J)}d.currentTarget=null,m=I}else for(E=0;E<l.length;E++){if(w=l[E],I=w.instance,G=w.currentTarget,w=w.listener,I!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=G;try{m(d)}catch(J){Rc(J)}d.currentTarget=null,m=I}}}}function Le(t,i){var a=i[Ko];a===void 0&&(a=i[Ko]=new Set);var l=t+"__bubble";a.has(l)||(dv(i,t,2,!1),a.add(l))}function sm(t,i,a){var l=0;i&&(l|=4),dv(a,t,l,i)}var zc="_reactListening"+Math.random().toString(36).slice(2);function am(t){if(!t[zc]){t[zc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(a2.has(a)||sm(a,!1,t),sm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[zc]||(i[zc]=!0,sm("selectionchange",!1,i))}}function dv(t,i,a,l){switch(Pv(i)){case 2:var d=O2;break;case 8:d=j2;break;default:d=Em}a=d.bind(null,i,a,t),d=void 0,!zn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function om(t,i,a,l,d){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===d)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;w!==null;){if(E=Hr(w),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=m=E;continue e}w=w.parentNode}}l=l.return}Fu(function(){var G=m,J=Bn(a),ne=[];e:{var K=$g.get(t);if(K!==void 0){var $=ka,Ie=t;switch(t){case"keypress":if(Er(a)===0)break e;case"keydown":case"keyup":$=La;break;case"focusin":Ie="focus",$=Ma;break;case"focusout":Ie="blur",$=Ma;break;case"beforeblur":case"afterblur":$=Ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Xu;break;case Fg:case Hg:case Gg:$=Pa;break;case Kg:$=Ju;break;case"scroll":case"scrollend":$=Hu;break;case"wheel":$=Ua;break;case"copy":case"cut":case"paste":$=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=sl;break;case"toggle":case"beforetoggle":$=tc}var Ae=(i&4)!==0,lt=!Ae&&(t==="scroll"||t==="scrollend"),B=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var V=G,H;V!==null;){var ee=V;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||B===null||(ee=js(V,B),ee!=null&&Ae.push(Pl(V,ee,H))),lt)break;V=V.return}0<Ae.length&&(K=new $(K,Ie,null,a,J),ne.push({event:K,listeners:Ae}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",K&&a!==Yr&&(Ie=a.relatedTarget||a.fromElement)&&(Hr(Ie)||Ie[Ln]))break e;if(($||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,$?(Ie=a.relatedTarget||a.toElement,$=G,Ie=Ie?Hr(Ie):null,Ie!==null&&(lt=u(Ie),Ae=Ie.tag,Ie!==lt||Ae!==5&&Ae!==27&&Ae!==6)&&(Ie=null)):($=null,Ie=G),$!==Ie)){if(Ae=qn,ee="onMouseLeave",B="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=sl,ee="onPointerLeave",B="onPointerEnter",V="pointer"),lt=$==null?K:gr($),H=Ie==null?K:gr(Ie),K=new Ae(ee,V+"leave",$,a,J),K.target=lt,K.relatedTarget=H,ee=null,Hr(J)===G&&(Ae=new Ae(B,V+"enter",Ie,a,J),Ae.target=H,Ae.relatedTarget=lt,ee=Ae),lt=ee,$&&Ie)t:{for(Ae=$,B=Ie,V=0,H=Ae;H;H=co(H))V++;for(H=0,ee=B;ee;ee=co(ee))H++;for(;0<V-H;)Ae=co(Ae),V--;for(;0<H-V;)B=co(B),H--;for(;V--;){if(Ae===B||B!==null&&Ae===B.alternate)break t;Ae=co(Ae),B=co(B)}Ae=null}else Ae=null;$!==null&&fv(ne,K,$,Ae,!1),Ie!==null&&lt!==null&&fv(ne,lt,Ie,Ae,!0)}}e:{if(K=G?gr(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var ge=kg;else if(Lt(K))if(Og)ge=_T;else{ge=yT;var Me=gT}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Zo(G.elementType)&&(ge=kg):ge=vT;if(ge&&(ge=ge(t,G))){Jr(ne,ge,a,J);break e}Me&&Me(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Ri(K,"number",K.value)}switch(Me=G?gr(G):window,t){case"focusin":(Lt(Me)||Me.contentEditable==="true")&&(Ba=Me,Vd=G,ll=null);break;case"focusout":ll=Vd=Ba=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,zg(ne,a,J);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":zg(ne,a,J)}var we;if(Tr)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ge?Y(t,a)&&(Se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(_&&a.locale!=="ko"&&(Ge||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ge&&(we=el()):(_r=J,Ci="value"in _r?_r.value:_r.textContent,Ge=!0)),Me=qc(G,Se),0<Me.length&&(Se=new rl(Se,t,null,a,J),ne.push({event:Se,listeners:Me}),we?Se.data=we:(we=de(a),we!==null&&(Se.data=we)))),(we=v?Vt(t,a):Ke(t,a))&&(Se=qc(G,"onBeforeInput"),0<Se.length&&(Me=new rl("onBeforeInput","beforeinput",null,a,J),ne.push({event:Me,listeners:Se}),Me.data=we)),r2(ne,t,G,a,J)}hv(ne,i)})}function Pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=js(t,a),d!=null&&l.unshift(Pl(t,d,m)),d=js(t,i),d!=null&&l.push(Pl(t,d,m))),t.tag===3)return l;t=t.return}return[]}function co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fv(t,i,a,l,d){for(var m=i._reactName,E=[];a!==null&&a!==l;){var w=a,I=w.alternate,G=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||G===null||(I=G,d?(G=js(a,m),G!=null&&E.unshift(Pl(a,G,I))):d||(G=js(a,m),G!=null&&E.push(Pl(a,G,I)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var o2=/\r\n?/g,l2=/\u0000|\uFFFD/g;function mv(t){return(typeof t=="string"?t:""+t).replace(o2,`
`).replace(l2,"")}function pv(t,i){return i=mv(i),mv(t)===i}function Fc(){}function ot(t,i,a,l,d,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Un(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Un(t,""+l);break;case"className":yr(t,"class",l);break;case"tabIndex":yr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(t,a,l);break;case"style":Xo(t,l,m);break;case"data":if(i!=="object"){yr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&ot(t,i,"name",d.name,d,null),ot(t,i,"formEncType",d.formEncType,d,null),ot(t,i,"formMethod",d.formMethod,d,null),ot(t,i,"formTarget",d.formTarget,d,null)):(ot(t,i,"encType",d.encType,d,null),ot(t,i,"method",d.method,d,null),ot(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fc);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Si(t,"popover",l);break;case"xlinkActuate":Qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Si(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nd.get(a)||a,Si(t,a,l))}}function lm(t,i,a,l,d,m){switch(a){case"style":Xo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Un(t,l):(typeof l=="number"||typeof l=="bigint")&&Un(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),m=t[It]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Si(t,a,l)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ot(t,i,m,E,a,null)}}d&&ot(t,i,"srcSet",a.srcSet,a,null),l&&ot(t,i,"src",a.src,a,null);return;case"input":Le("invalid",t);var w=m=E=d=null,I=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":d=J;break;case"type":E=J;break;case"checked":I=J;break;case"defaultChecked":G=J;break;case"value":m=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:ot(t,i,l,J,a,null)}}Ds(t,m,w,I,G,E,d,!1),Na(t);return;case"select":Le("invalid",t),l=E=m=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:ot(t,i,d,w,a,null)}i=m,a=E,t.multiple=!!l,i!=null?$r(t,!!l,i,!1):a!=null&&$r(t,!!l,a,!0);return;case"textarea":Le("invalid",t),m=d=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ot(t,i,E,w,a,null)}ks(t,l,d,m),Na(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ot(t,i,I,l,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Le(Ml[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ot(t,i,G,l,a,null)}return;default:if(Zo(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&lm(t,i,J,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ot(t,i,w,l,a,null))}function u2(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,E=null,w=null,I=null,G=null,J=null;for($ in a){var ne=a[$];if(a.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=ne;default:l.hasOwnProperty($)||ot(t,i,$,null,l,ne)}}for(var K in l){var $=l[K];if(ne=a[K],l.hasOwnProperty(K)&&($!=null||ne!=null))switch(K){case"type":m=$;break;case"name":d=$;break;case"checked":G=$;break;case"defaultChecked":J=$;break;case"value":E=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ne&&ot(t,i,K,$,l,ne)}}xn(t,E,w,I,G,J,m,d);return;case"select":$=E=w=K=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(m)||ot(t,i,m,null,l,I)}for(d in l)if(m=l[d],I=a[d],l.hasOwnProperty(d)&&(m!=null||I!=null))switch(d){case"value":K=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==I&&ot(t,i,d,m,l,I)}i=w,a=E,l=$,K!=null?$r(t,!!a,K,!1):!!l!=!!a&&(i!=null?$r(t,!!a,i,!0):$r(t,!!a,a?[]:"",!1));return;case"textarea":$=K=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ot(t,i,w,null,l,d)}for(E in l)if(d=l[E],m=a[E],l.hasOwnProperty(E)&&(d!=null||m!=null))switch(E){case"value":K=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&ot(t,i,E,d,l,m)}st(t,K,$);return;case"option":for(var Ie in a)if(K=a[Ie],a.hasOwnProperty(Ie)&&K!=null&&!l.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:ot(t,i,Ie,null,l,K)}for(I in l)if(K=l[I],$=a[I],l.hasOwnProperty(I)&&K!==$&&(K!=null||$!=null))switch(I){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ot(t,i,I,K,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)K=a[Ae],a.hasOwnProperty(Ae)&&K!=null&&!l.hasOwnProperty(Ae)&&ot(t,i,Ae,null,l,K);for(G in l)if(K=l[G],$=a[G],l.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:ot(t,i,G,K,l,$)}return;default:if(Zo(i)){for(var lt in a)K=a[lt],a.hasOwnProperty(lt)&&K!==void 0&&!l.hasOwnProperty(lt)&&lm(t,i,lt,void 0,l,K);for(J in l)K=l[J],$=a[J],!l.hasOwnProperty(J)||K===$||K===void 0&&$===void 0||lm(t,i,J,K,l,$);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&ot(t,i,B,null,l,K);for(ne in l)K=l[ne],$=a[ne],!l.hasOwnProperty(ne)||K===$||K==null&&$==null||ot(t,i,ne,K,l,$)}var um=null,cm=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function gv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function hm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dm=null;function c2(){var t=window.event;return t&&t.type==="popstate"?t===dm?!1:(dm=t,!0):(dm=null,!1)}var vv=typeof setTimeout=="function"?setTimeout:void 0,h2=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,d2=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(t){return _v.resolve(null).then(t).catch(f2)}:vv;function f2(t){setTimeout(function(){throw t})}function Hi(t){return t==="head"}function Ev(t,i){var a=i,l=0,d=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Vl(E.documentElement),a&2&&Vl(E.body),a&4)for(a=E.head,Vl(a),E=a.firstChild;E;){var w=E.nextSibling,I=E.nodeName;E[Rs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=w}}if(d===0){t.removeChild(m),Gl(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Gl(i)}function fm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fm(a),Ai(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function m2(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Rs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=or(t.nextSibling),t===null)break}return null}function p2(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=or(t.nextSibling),t===null))return null;return t}function mm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function g2(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function or(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var pm=null;function bv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function wv(t,i,a){switch(i=Hc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ai(t)}var Qn=new Map,Tv=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var di=he.d;he.d={f:y2,r:v2,D:_2,C:E2,L:b2,m:w2,X:x2,S:T2,M:A2};function y2(){var t=di.f(),i=Pc();return t||i}function v2(t){var i=pr(t);i!==null&&i.tag===5&&i.type==="form"?Fy(i):di.r(t)}var ho=typeof document>"u"?null:document;function xv(t,i,a){var l=ho;if(l&&typeof i=="string"&&i){var d=Nt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Tv.has(d)||(Tv.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Jt(i,"link",t),xt(i),l.head.appendChild(i)))}}function _2(t){di.D(t),xv("dns-prefetch",t,null)}function E2(t,i){di.C(t,i),xv("preconnect",t,i)}function b2(t,i,a){di.L(t,i,a);var l=ho;if(l&&t&&i){var d='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Nt(a.imageSizes)+'"]')):d+='[href="'+Nt(t)+'"]';var m=d;switch(i){case"style":m=fo(t);break;case"script":m=mo(t)}Qn.has(m)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(m,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Ll(m))||i==="script"&&l.querySelector(Ul(m))||(i=l.createElement("link"),Jt(i,"link",t),xt(i),l.head.appendChild(i)))}}function w2(t,i){di.m(t,i);var a=ho;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=mo(t)}if(!Qn.has(m)&&(t=b({rel:"modulepreload",href:t},i),Qn.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(m)))return}l=a.createElement("link"),Jt(l,"link",t),xt(l),a.head.appendChild(l)}}}function T2(t,i,a){di.S(t,i,a);var l=ho;if(l&&t){var d=dn(l).hoistableStyles,m=fo(t);i=i||"default";var E=d.get(m);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Ll(m)))w.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(m))&&gm(t,a);var I=E=l.createElement("link");xt(I),Jt(I,"link",t),I._p=new Promise(function(G,J){I.onload=G,I.onerror=J}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Kc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},d.set(m,E)}}}function x2(t,i){di.X(t,i);var a=ho;if(a&&t){var l=dn(a).hoistableScripts,d=mo(t),m=l.get(d);m||(m=a.querySelector(Ul(d)),m||(t=b({src:t,async:!0},i),(i=Qn.get(d))&&ym(t,i),m=a.createElement("script"),xt(m),Jt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function A2(t,i){di.M(t,i);var a=ho;if(a&&t){var l=dn(a).hoistableScripts,d=mo(t),m=l.get(d);m||(m=a.querySelector(Ul(d)),m||(t=b({src:t,async:!0,type:"module"},i),(i=Qn.get(d))&&ym(t,i),m=a.createElement("script"),xt(m),Jt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function Av(t,i,a,l){var d=(d=te.current)?Gc(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fo(a.href),a=dn(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fo(a.href);var m=dn(d).hoistableStyles,E=m.get(t);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,E),(m=d.querySelector(Ll(t)))&&!m._p&&(E.instance=m,E.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),m||S2(d,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=dn(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fo(t){return'href="'+Nt(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function S2(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",a),xt(i),t.head.appendChild(i))}function mo(t){return'[src="'+Nt(t)+'"]'}function Ul(t){return"script[async]"+t}function Rv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Jt(l,"style",d),Kc(l,a.precedence,t),i.instance=l;case"stylesheet":d=fo(a.href);var m=t.querySelector(Ll(d));if(m)return i.state.loading|=4,i.instance=m,xt(m),m;l=Sv(a),(d=Qn.get(d))&&gm(l,d),m=(t.ownerDocument||t).createElement("link"),xt(m);var E=m;return E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Jt(m,"link",l),i.state.loading|=4,Kc(m,a.precedence,t),i.instance=m;case"script":return m=mo(a.src),(d=t.querySelector(Ul(m)))?(i.instance=d,xt(d),d):(l=a,(d=Qn.get(m))&&(l=b({},a),ym(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),xt(d),Jt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Kc(l,a.precedence,t));return i.instance}function Kc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function gm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ym(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var $c=null;function Cv(t,i,a){if($c===null){var l=new Map,d=$c=new Map;d.set(a,l)}else d=$c,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Rs]||m[Pt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=t+E;var w=l.get(E);w?w.push(m):l.set(E,[m])}}return l}function Iv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function R2(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Bl=null;function C2(){}function I2(t,i,a){if(Bl===null)throw Error(s(475));var l=Bl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=fo(a.href),m=t.querySelector(Ll(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Yc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=m,xt(m);return}m=t.ownerDocument||t,a=Sv(a),(d=Qn.get(d))&&gm(a,d),m=m.createElement("link"),xt(m);var E=m;E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Jt(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Yc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function N2(){if(Bl===null)throw Error(s(475));var t=Bl;return t.stylesheets&&t.count===0&&vm(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&vm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Yc(){if(this.count--,this.count===0){if(this.stylesheets)vm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function vm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,i.forEach(D2,t),Qc=null,Yc.call(t))}function D2(t,i){if(!(i.state.loading&4)){var a=Qc.get(t);if(a)var l=a.get(null);else{a=new Map,Qc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var E=d[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}d=i.instance,E=d.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,d),a.set(E,d),this.count++,l=Yc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var zl={$$typeof:re,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function k2(t,i,a,l,d,m,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.hiddenUpdates=qr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Dv(t,i,a,l,d,m,E,w,I,G,J,ne){return t=new k2(t,i,a,E,w,I,G,ne),i=1,m===!0&&(i|=24),m=Sn(3,null,null,i),t.current=m,m.stateNode=t,i=Zd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},nf(m),t}function kv(t){return t?(t=Ha,t):Ha}function Ov(t,i,a,l,d,m){d=kv(d),l.context===null?l.context=d:l.pendingContext=d,l=Di(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ki(t,l,i),a!==null&&(Dn(a,t,i),yl(a,t,i))}function jv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function _m(t,i){jv(t,i),(t=t.alternate)&&jv(t,i)}function Mv(t){if(t.tag===13){var i=Fa(t,67108864);i!==null&&Dn(i,t,67108864),_m(t,67108864)}}var Wc=!0;function O2(t,i,a,l){var d=X.T;X.T=null;var m=he.p;try{he.p=2,Em(t,i,a,l)}finally{he.p=m,X.T=d}}function j2(t,i,a,l){var d=X.T;X.T=null;var m=he.p;try{he.p=8,Em(t,i,a,l)}finally{he.p=m,X.T=d}}function Em(t,i,a,l){if(Wc){var d=bm(l);if(d===null)om(t,i,l,Xc,a),Vv(t,l);else if(P2(d,t,i,a,l))l.stopPropagation();else if(Vv(t,l),i&4&&-1<M2.indexOf(t)){for(;d!==null;){var m=pr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=nr(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var I=1<<31-rn(E);w.entanglements[1]|=I,E&=~I}Ir(m),(rt&6)===0&&(jc=Vn()+500,jl(0))}}break;case 13:w=Fa(m,2),w!==null&&Dn(w,m,2),Pc(),_m(m,2)}if(m=bm(l),m===null&&om(t,i,l,Xc,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else om(t,i,l,null,a)}}function bm(t){return t=Bn(t),wm(t)}var Xc=null;function wm(t){if(Xc=null,t=Hr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function Pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xd()){case Uo:return 2;case wa:return 8;case ws:case Ad:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var Tm=!1,Gi=null,Ki=null,$i=null,ql=new Map,Fl=new Map,Yi=[],M2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(t,i){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Hl(t,i,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},i!==null&&(i=pr(i),i!==null&&Mv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function P2(t,i,a,l,d){switch(i){case"focusin":return Gi=Hl(Gi,t,i,a,l,d),!0;case"dragenter":return Ki=Hl(Ki,t,i,a,l,d),!0;case"mouseover":return $i=Hl($i,t,i,a,l,d),!0;case"pointerover":var m=d.pointerId;return ql.set(m,Hl(ql.get(m)||null,t,i,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Fl.set(m,Hl(Fl.get(m)||null,t,i,a,l,d)),!0}return!1}function Lv(t){var i=Hr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Pu(t.priority,function(){if(a.tag===13){var l=Nn();l=wi(l);var d=Fa(a,l);d!==null&&Dn(d,a,l),_m(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=bm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yr=l,a.target.dispatchEvent(l),Yr=null}else return i=pr(a),i!==null&&Mv(i),t.blockedOn=a,!1;i.shift()}return!0}function Uv(t,i,a){Zc(t)&&a.delete(i)}function V2(){Tm=!1,Gi!==null&&Zc(Gi)&&(Gi=null),Ki!==null&&Zc(Ki)&&(Ki=null),$i!==null&&Zc($i)&&($i=null),ql.forEach(Uv),Fl.forEach(Uv)}function Jc(t,i){t.blockedOn===i&&(t.blockedOn=null,Tm||(Tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,V2)))}var eh=null;function Bv(t){eh!==t&&(eh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var m=pr(a);m!==null&&(t.splice(i,3),i-=3,wf(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Gl(t){function i(I){return Jc(I,t)}Gi!==null&&Jc(Gi,t),Ki!==null&&Jc(Ki,t),$i!==null&&Jc($i,t),ql.forEach(i),Fl.forEach(i);for(var a=0;a<Yi.length;a++){var l=Yi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yi.length&&(a=Yi[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&Yi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],E=d[It]||null;if(typeof m=="function")E||Bv(a);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,E=m[It]||null)w=E.formAction;else if(wm(d)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Bv(a)}}}function xm(t){this._internalRoot=t}th.prototype.render=xm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Nn();Ov(a,l,t,i,null,null)},th.prototype.unmount=xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ov(t.current,2,null,t,null,null),Pc(),i[Ln]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ti();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yi.length&&i!==0&&i<Yi[a].priority;a++);Yi.splice(a,0,t),a===0&&Lv(t)}};var zv=e.version;if(zv!=="19.1.1")throw Error(s(527,zv,"19.1.1"));he.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var L2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{bt=nh.inject(L2),nt=nh}catch{}}return $l.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=r0,m=i0,E=s0,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Dv(t,1,!1,null,null,a,l,d,m,E,w,null),t[Ln]=i.current,am(t),new xm(i)},$l.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",m=r0,E=i0,w=s0,I=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=Dv(t,1,!0,i,a??null,l,d,m,E,w,I,G),i.context=kv(null),a=i.current,l=Nn(),l=wi(l),d=Di(l),d.callback=null,ki(a,d,l),a=l,i.current.lanes=a,Fr(i,a),Ir(i),t[Ln]=i.current,am(t),new th(i)},$l.version="19.1.1",$l}var Xv;function Q2(){if(Xv)return Rm.exports;Xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rm.exports=Y2(),Rm.exports}var W2=Q2();const X2=H1(W2);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zv="popstate";function Z2(r={}){function e(o,u){let{pathname:h="/",search:p="",hash:g=""}=ma(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),$m("",{pathname:h,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof u=="string"?u:uu(u))}function s(o,u){tr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ex(e,n,s,r)}function pt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J2(){return Math.random().toString(36).substring(2,10)}function Jv(r,e){return{usr:r.state,key:r.key,idx:e}}function $m(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:n,key:e&&e.key||s||J2()}}function uu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ma(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ex(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,p="POP",g=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function T(){p="POP";let O=b(),W=O==null?null:O-y;y=O,g&&g({action:p,location:q.location,delta:W})}function x(O,W){p="PUSH";let Z=$m(q.location,O,W);n&&n(Z,O),y=b()+1;let re=Jv(Z,y),me=q.createHref(Z);try{h.pushState(re,"",me)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(me)}u&&g&&g({action:p,location:q.location,delta:1})}function M(O,W){p="REPLACE";let Z=$m(q.location,O,W);n&&n(Z,O),y=b();let re=Jv(Z,y),me=q.createHref(Z);h.replaceState(re,"",me),u&&g&&g({action:p,location:q.location,delta:0})}function U(O){return tx(O)}let q={get action(){return p},get location(){return r(o,h)},listen(O){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Zv,T),g=O,()=>{o.removeEventListener(Zv,T),g=null}},createHref(O){return e(o,O)},createURL:U,encodeLocation(O){let W=U(O);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:x,replace:M,go(O){return h.go(O)}};return q}function tx(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function G1(r,e,n="/"){return nx(r,e,n,!1)}function nx(r,e,n,s){let o=typeof e=="string"?ma(e):e,u=yi(o.pathname||"/",n);if(u==null)return null;let h=K1(r);rx(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=mx(u);p=dx(h[g],y,s)}return p}function K1(r,e=[],n=[],s=""){let o=(u,h,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(pt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=pi([s,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),K1(u.children,e,b,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:cx(y,u.index),routesMeta:b})};return r.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,h);else for(let g of $1(u.path))o(u,h,g)}),e}function $1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=$1(s.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function rx(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:hx(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ix=/^:[\w-]+$/,sx=3,ax=2,ox=1,lx=10,ux=-2,e_=r=>r==="*";function cx(r,e){let n=r.split("/"),s=n.length;return n.some(e_)&&(s+=ux),e&&(s+=ax),n.filter(o=>!e_(o)).reduce((o,u)=>o+(ix.test(u)?sx:u===""?ox:lx),s)}function hx(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function dx(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=Sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),x=g.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=Sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:pi([u,T.pathname]),pathnameBase:vx(pi([u,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(u=pi([u,T.pathnameBase]))}return h}function Sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=fx(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:T},x)=>{if(b==="*"){let U=p[x]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const M=p[x];return T&&!M?y[b]=void 0:y[b]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function fx(r,e=!1,n=!0){tr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function mx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function yi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function px(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ma(r):r;return{pathname:n?n.startsWith("/")?n:gx(n,e):e,search:_x(s),hash:Ex(o)}}function gx(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yx(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sp(r){let e=yx(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Rp(r,e,n,s=!1){let o;typeof r=="string"?o=ma(r):(o={...r},pt(!o.pathname||!o.pathname.includes("?"),Dm("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),Dm("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),Dm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}p=T>=0?e[T]:"/"}let g=px(o,p),y=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var pi=r=>r.join("/").replace(/\/\/+/g,"/"),vx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_x=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ex=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function bx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Y1=["POST","PUT","PATCH","DELETE"];new Set(Y1);var wx=["GET",...Y1];new Set(wx);var No=R.createContext(null);No.displayName="DataRouter";var Wh=R.createContext(null);Wh.displayName="DataRouterState";R.createContext(!1);var Q1=R.createContext({isTransitioning:!1});Q1.displayName="ViewTransition";var Tx=R.createContext(new Map);Tx.displayName="Fetchers";var xx=R.createContext(null);xx.displayName="Await";var hr=R.createContext(null);hr.displayName="Navigation";var _u=R.createContext(null);_u.displayName="Location";var zr=R.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var Cp=R.createContext(null);Cp.displayName="RouteError";function Ax(r,{relative:e}={}){pt(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=R.useContext(hr),{hash:o,pathname:u,search:h}=Eu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:pi([n,u])),s.createHref({pathname:p,search:h,hash:o})}function Do(){return R.useContext(_u)!=null}function ys(){return pt(Do(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(_u).location}var W1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X1(r){R.useContext(hr).static||R.useLayoutEffect(r)}function pa(){let{isDataRoute:r}=R.useContext(zr);return r?Lx():Sx()}function Sx(){pt(Do(),"useNavigate() may be used only in the context of a <Router> component.");let r=R.useContext(No),{basename:e,navigator:n}=R.useContext(hr),{matches:s}=R.useContext(zr),{pathname:o}=ys(),u=JSON.stringify(Sp(s)),h=R.useRef(!1);return X1(()=>{h.current=!0}),R.useCallback((g,y={})=>{if(tr(h.current,W1),!h.current)return;if(typeof g=="number"){n.go(g);return}let b=Rp(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:pi([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,o,r])}R.createContext(null);function Eu(r,{relative:e}={}){let{matches:n}=R.useContext(zr),{pathname:s}=ys(),o=JSON.stringify(Sp(n));return R.useMemo(()=>Rp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Rx(r,e){return Z1(r,e)}function Z1(r,e,n,s){var W;pt(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(hr),{matches:u}=R.useContext(zr),h=u[u.length-1],p=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let Z=b&&b.path||"";J1(g,!b||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let T=ys(),x;if(e){let Z=typeof e=="string"?ma(e):e;pt(y==="/"||((W=Z.pathname)==null?void 0:W.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),x=Z}else x=T;let M=x.pathname||"/",U=M;if(y!=="/"){let Z=y.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(Z.length).join("/")}let q=G1(r,{pathname:U});tr(b||q!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),tr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=kx(q&&q.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:pi([y,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?y:pi([y,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,n,s);return e&&O?R.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},O):O}function Cx(){let r=Vx(),e=bx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,h)}var Ix=R.createElement(Cx,null),Nx=class extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?R.createElement(zr.Provider,{value:this.props.routeContext},R.createElement(Cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dx({routeContext:r,match:e,children:n}){let s=R.useContext(No);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(zr.Provider,{value:r},n)}function kx(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);pt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,p=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:b,errors:T}=n,x=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||x){h=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((g,y,b)=>{let T,x=!1,M=null,U=null;n&&(T=u&&y.route.id?u[y.route.id]:void 0,M=y.route.errorElement||Ix,h&&(p<0&&b===0?(J1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,U=null):p===b&&(x=!0,U=y.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,b+1)),O=()=>{let W;return T?W=M:x?W=U:y.route.Component?W=R.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=g,R.createElement(Dx,{match:y,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:W})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?R.createElement(Nx,{location:n.location,revalidation:n.revalidation,component:M,error:T,children:O(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):O()},null)}function Ip(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ox(r){let e=R.useContext(No);return pt(e,Ip(r)),e}function jx(r){let e=R.useContext(Wh);return pt(e,Ip(r)),e}function Mx(r){let e=R.useContext(zr);return pt(e,Ip(r)),e}function Np(r){let e=Mx(r),n=e.matches[e.matches.length-1];return pt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Px(){return Np("useRouteId")}function Vx(){var s;let r=R.useContext(Cp),e=jx("useRouteError"),n=Np("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Lx(){let{router:r}=Ox("useNavigate"),e=Np("useNavigate"),n=R.useRef(!1);return X1(()=>{n.current=!0}),R.useCallback(async(o,u={})=>{tr(n.current,W1),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var t_={};function J1(r,e,n){!e&&!t_[r]&&(t_[r]=!0,tr(!1,n))}R.memo(Ux);function Ux({routes:r,future:e,state:n}){return Z1(r,void 0,n,e)}function Ym({to:r,replace:e,state:n,relative:s}){pt(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(hr);tr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(zr),{pathname:h}=ys(),p=pa(),g=Rp(r,Sp(u),h,s==="path"),y=JSON.stringify(g);return R.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function Nr(r){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bx({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){pt(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=R.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ma(n));let{pathname:g="/",search:y="",hash:b="",state:T=null,key:x="default"}=n,M=R.useMemo(()=>{let U=yi(g,h);return U==null?null:{location:{pathname:U,search:y,hash:b,state:T,key:x},navigationType:s}},[h,g,y,b,T,x,s]);return tr(M!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:R.createElement(hr.Provider,{value:p},R.createElement(_u.Provider,{children:e,value:M}))}function n_({children:r,location:e}){return Rx(Qm(r),e)}function Qm(r,e=[]){let n=[];return R.Children.forEach(r,(s,o)=>{if(!R.isValidElement(s))return;let u=[...e,o];if(s.type===R.Fragment){n.push.apply(n,Qm(s.props.children,u));return}pt(s.type===Nr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Qm(s.props.children,u)),n.push(h)}),n}var fh="get",mh="application/x-www-form-urlencoded";function Xh(r){return r!=null&&typeof r.tagName=="string"}function zx(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function qx(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function Fx(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function Hx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Gx(r,e){return r.button===0&&(!e||e==="_self")&&!Hx(r)}var rh=null;function Kx(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var $x=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(r){return r!=null&&!$x.has(r)?(tr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):r}function Yx(r,e){let n,s,o,u,h;if(qx(r)){let p=r.getAttribute("action");s=p?yi(p,e):null,n=r.getAttribute("method")||fh,o=km(r.getAttribute("enctype"))||mh,u=new FormData(r)}else if(zx(r)||Fx(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?yi(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||fh,o=km(r.getAttribute("formenctype"))||km(p.getAttribute("enctype"))||mh,u=new FormData(p,r),!Kx()){let{name:y,type:b,value:T}=r;if(b==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,T)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,s=null,o=mh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qx(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&yi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Wx(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Zx(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Wx(u,n);return h.links?h.links():[]}return[]}));return nA(s.flat(1).filter(Xx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function r_(r,e,n,s,o,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>{var b;return n[y].pathname!==g.pathname||((b=n[y].route.path)==null?void 0:b.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{var T;let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Jx(r,e,{includeHydrateFallback:n}={}){return eA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function eA(r){return[...new Set(r)]}function tA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function nA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(tA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function eE(){let r=R.useContext(No);return Dp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function rA(){let r=R.useContext(Wh);return Dp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kp=R.createContext(void 0);kp.displayName="FrameworkContext";function tE(){let r=R.useContext(kp);return Dp(r,"You must render this element inside a <HydratedRouter> element"),r}function iA(r,e){let n=R.useContext(kp),[s,o]=R.useState(!1),[u,h]=R.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:T}=e,x=R.useRef(null);R.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let q=W=>{W.forEach(Z=>{h(Z.isIntersecting)})},O=new IntersectionObserver(q,{threshold:.5});return x.current&&O.observe(x.current),()=>{O.disconnect()}}},[r]),R.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let M=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Yl(p,M),onBlur:Yl(g,U),onMouseEnter:Yl(y,M),onMouseLeave:Yl(b,U),onTouchStart:Yl(T,M)}]:[!1,x,{}]}function Yl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function sA({page:r,...e}){let{router:n}=eE(),s=R.useMemo(()=>G1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?R.createElement(oA,{page:r,matches:s,...e}):null}function aA(r){let{manifest:e,routeModules:n}=tE(),[s,o]=R.useState([]);return R.useEffect(()=>{let u=!1;return Zx(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function oA({page:r,matches:e,...n}){let s=ys(),{manifest:o,routeModules:u}=tE(),{basename:h}=eE(),{loaderData:p,matches:g}=rA(),y=R.useMemo(()=>r_(r,e,g,o,s,"data"),[r,e,g,o,s]),b=R.useMemo(()=>r_(r,e,g,o,s,"assets"),[r,e,g,o,s]),T=R.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,q=!1;if(e.forEach(W=>{var re;let Z=o.routes[W.route.id];!Z||!Z.hasLoader||(!y.some(me=>me.route.id===W.route.id)&&W.route.id in p&&((re=u[W.route.id])!=null&&re.shouldRevalidate)||Z.hasClientLoader?q=!0:U.add(W.route.id))}),U.size===0)return[];let O=Qx(r,h,"data");return q&&U.size>0&&O.searchParams.set("_routes",e.filter(W=>U.has(W.route.id)).map(W=>W.route.id).join(",")),[O.pathname+O.search]},[h,p,s,o,y,e,r,u]),x=R.useMemo(()=>Jx(b,o),[b,o]),M=aA(b);return R.createElement(R.Fragment,null,T.map(U=>R.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),x.map(U=>R.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),M.map(({key:U,link:q})=>R.createElement("link",{key:U,nonce:n.nonce,...q})))}function lA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nE&&(window.__reactRouterVersion="7.8.0")}catch{}function uA({basename:r,children:e,window:n}){let s=R.useRef();s.current==null&&(s.current=Z2({window:n,v5Compat:!0}));let o=s.current,[u,h]=R.useState({action:o.action,location:o.location}),p=R.useCallback(g=>{R.startTransition(()=>h(g))},[h]);return R.useLayoutEffect(()=>o.listen(p),[o,p]),R.createElement(Bx,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var rE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Op=R.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:y,preventScrollReset:b,viewTransition:T,...x},M){let{basename:U}=R.useContext(hr),q=typeof y=="string"&&rE.test(y),O,W=!1;if(typeof y=="string"&&q&&(O=y,nE))try{let C=new URL(window.location.href),j=y.startsWith("//")?new URL(C.protocol+y):new URL(y),L=yi(j.pathname,U);j.origin===C.origin&&L!=null?y=L+j.search+j.hash:W=!0}catch{tr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=Ax(y,{relative:o}),[re,me,oe]=iA(s,x),ye=dA(y,{replace:h,state:p,target:g,preventScrollReset:b,relative:o,viewTransition:T});function D(C){e&&e(C),C.defaultPrevented||ye(C)}let S=R.createElement("a",{...x,...oe,href:O||Z,onClick:W||u?e:D,ref:lA(M,me),target:g,"data-discover":!q&&n==="render"?"true":void 0});return re&&!q?R.createElement(R.Fragment,null,S,R.createElement(sA,{page:Z})):S});Op.displayName="Link";var kn=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...y},b){let T=Eu(h,{relative:y.relative}),x=ys(),M=R.useContext(Wh),{navigator:U,basename:q}=R.useContext(hr),O=M!=null&&yA(T)&&p===!0,W=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,Z=x.pathname,re=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),re=re?re.toLowerCase():null,W=W.toLowerCase()),re&&q&&(re=yi(re,q)||re);const me=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let oe=Z===W||!o&&Z.startsWith(W)&&Z.charAt(me)==="/",ye=re!=null&&(re===W||!o&&re.startsWith(W)&&re.charAt(W.length)==="/"),D={isActive:oe,isPending:ye,isTransitioning:O},S=oe?e:void 0,C;typeof s=="function"?C=s(D):C=[s,oe?"active":null,ye?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(D):u;return R.createElement(Op,{...y,"aria-current":S,className:C,ref:b,style:j,to:h,viewTransition:p},typeof g=="function"?g(D):g)});kn.displayName="NavLink";var cA=R.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=fh,action:p,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:T,...x},M)=>{let U=pA(),q=gA(p,{relative:y}),O=h.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&rE.test(p),Z=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let me=re.nativeEvent.submitter,oe=(me==null?void 0:me.getAttribute("formmethod"))||h;U(me||re.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:y,preventScrollReset:b,viewTransition:T})};return R.createElement("form",{ref:M,method:O,action:q,onSubmit:s?g:Z,...x,"data-discover":!W&&r==="render"?"true":void 0})});cA.displayName="Form";function hA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iE(r){let e=R.useContext(No);return pt(e,hA(r)),e}function dA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=pa(),g=ys(),y=Eu(r,{relative:u});return R.useCallback(b=>{if(Gx(b,e)){b.preventDefault();let T=n!==void 0?n:uu(g)===uu(y);p(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,y,n,s,e,r,o,u,h])}var fA=0,mA=()=>`__${String(++fA)}__`;function pA(){let{router:r}=iE("useSubmit"),{basename:e}=R.useContext(hr),n=Px();return R.useCallback(async(s,o={})=>{let{action:u,method:h,encType:p,formData:g,body:y}=Yx(s,e);if(o.navigate===!1){let b=o.fetcherKey||mA();await r.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function gA(r,{relative:e}={}){let{basename:n}=R.useContext(hr),s=R.useContext(zr);pt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Eu(r||".",{relative:e})},h=ys();if(r==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(b=>b==="")){p.delete("index"),g.filter(T=>T).forEach(T=>p.append("index",T));let b=p.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pi([n,u.pathname])),uu(u)}function yA(r,{relative:e}={}){let n=R.useContext(Q1);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iE("useViewTransitionState"),o=Eu(r,{relative:e});if(!n.isTransitioning)return!1;let u=yi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=yi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,h)!=null||Sh(o.pathname,u)!=null}const hn=R.createContext(null);var Fe=(r=>(r.OPEN="OPEN",r.ACCEPTED="ACCEPTED",r.COMPLETED="COMPLETED",r.EXPIRED="EXPIRED",r))(Fe||{}),ia=(r=>(r.PENDING="PENDING",r.APPROVED="APPROVED",r.REJECTED="REJECTED",r))(ia||{}),Ql=(r=>(r.PENDING="PENDING",r.PROCESSED="PROCESSED",r.REJECTED="REJECTED",r))(Ql||{});const ih={id:"normal-user-id",name:"Normal User",phone:"1234567890",email:"user@delu.live"},ts={id:"deliverer-user-id",name:"Deliverer Dave",phone:"9876543210",email:"dave@delu.live"},sh={id:ih.id,name:ih.name,phone:ih.phone,email:ih.email},vA={id:ts.id,name:ts.name,phone:ts.phone,email:ts.email};new Date(Date.now()+7200*1e3),new Date(Date.now()-900*1e3),Fe.OPEN,new Date(Date.now()+3600*1e3),new Date(Date.now()-1800*1e3),Fe.ACCEPTED,ts.id,ts.name,ts.phone,ts.email,new Date(Date.now()-3600*1e3),new Date(Date.now()-10800*1e3),Fe.COMPLETED,new Date(Date.now()-60*1e3),new Date(Date.now()-7200*1e3),Fe.OPEN;const _A={fee:.2,offerBarText:"Use code WELCOME10 for 10% bonus on your first wallet load! ;; Delivery fees starting from just 30!"},EA=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},bA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},aE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,p=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,b=u>>2,T=(u&3)<<4|p>>4;let x=(p&15)<<2|y>>6,M=y&63;g||(M=64,h||(x=64)),s.push(n[b],n[T],n[x],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(sE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):bA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||T==null)throw new wA;const x=u<<2|p>>4;if(s.push(x),y!==64){const M=p<<4&240|y>>2;if(s.push(M),T!==64){const U=y<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TA=function(r){const e=sE(r);return aE.encodeByteArray(e,!0)},Rh=function(r){return TA(r).replace(/\./g,"")},oE=function(r){try{return aE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=()=>xA().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof i_>"u")return;const r=i_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},RA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&oE(r[1]);return e&&JSON.parse(e)},Zh=()=>{try{return EA()||AA()||SA()||RA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lE=r=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},CA=r=>{const e=lE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},uE=()=>{var r;return(r=Zh())===null||r===void 0?void 0:r.config},cE=r=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rh(JSON.stringify(n)),Rh(JSON.stringify(h)),""].join(".")}const nu={};function DA(){const r={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?r.emulator.push(e):r.prod.push(e);return r}function kA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let s_=!1;function dE(r,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||nu[r]===e||nu[r]||s_)return;nu[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=DA().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,M){x.setAttribute("width","24"),x.setAttribute("id",M),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{s_=!0,h()},x}function b(x,M){x.setAttribute("id",M),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=kA(s),M=n("text"),U=document.getElementById(M)||document.createElement("span"),q=n("learnmore"),O=document.getElementById(q)||document.createElement("a"),W=n("preprendIcon"),Z=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const re=x.element;p(re),b(O,q);const me=y();g(Z,W),re.append(Z,U,O,me),document.body.appendChild(re)}u?(U.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function jA(){var r;const e=(r=Zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VA(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function LA(){return!jA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mE(){try{return typeof indexedDB=="object"}catch{return!1}}function pE(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function UA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="FirebaseError";class dr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=BA,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ga.prototype.create)}}class ga{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?zA(u,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new dr(o,p,s)}}function zA(r,e){return r.replace(qA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const qA=/\{\$([^}]+)}/g;function FA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ls(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(a_(u)&&a_(h)){if(!ls(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function a_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Xl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function HA(r,e){const n=new GA(r,e);return n.subscribe.bind(n)}class GA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");KA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Om),o.error===void 0&&(o.error=Om),o.complete===void 0&&(o.complete=Om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=1e3,YA=2,QA=14400*1e3,WA=.5;function o_(r,e=$A,n=YA){const s=e*Math.pow(n,r),o=Math.round(WA*s*(Math.random()-.5)*2);return Math.min(QA,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r){return r&&r._delegate?r._delegate:r}class ur{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new IA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JA(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZA(r){return r===ra?void 0:r}function JA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const tS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},nS=Be.INFO,rS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},iS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=rS[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jh{constructor(e){this.name=e,this._logLevel=nS,this._logHandler=iS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const sS=(r,e)=>e.some(n=>r instanceof n);let l_,u_;function aS(){return l_||(l_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,Wm=new WeakMap,yE=new WeakMap,jm=new WeakMap,jp=new WeakMap;function lS(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(rs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&gE.set(n,r)}).catch(()=>{}),jp.set(e,r),e}function uS(r){if(Wm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Wm.set(r,e)}let Xm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Wm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function cS(r){Xm=r(Xm)}function hS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Mm(this),e,...n);return yE.set(s,e.sort?e.sort():[e]),rs(s)}:oS().includes(r)?function(...e){return r.apply(Mm(this),e),rs(gE.get(this))}:function(...e){return rs(r.apply(Mm(this),e))}}function dS(r){return typeof r=="function"?hS(r):(r instanceof IDBTransaction&&uS(r),sS(r,aS())?new Proxy(r,Xm):r)}function rs(r){if(r instanceof IDBRequest)return lS(r);if(jm.has(r))return jm.get(r);const e=dS(r);return e!==r&&(jm.set(r,e),jp.set(e,r)),e}const Mm=r=>jp.get(r);function vE(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),p=rs(h);return s&&h.addEventListener("upgradeneeded",g=>{s(rs(h.result),g.oldVersion,g.newVersion,rs(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const fS=["get","getKey","getAll","getAllKeys","count"],mS=["put","add","delete","clear"],Pm=new Map;function c_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=mS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fS.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Pm.set(e,u),u}cS(r=>({...r,get:(e,n,s)=>c_(e,n)||r.get(e,n,s),has:(e,n)=>!!c_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function gS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zm="@firebase/app",h_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Jh("@firebase/app"),yS="@firebase/app-compat",vS="@firebase/analytics-compat",_S="@firebase/analytics",ES="@firebase/app-check-compat",bS="@firebase/app-check",wS="@firebase/auth",TS="@firebase/auth-compat",xS="@firebase/database",AS="@firebase/data-connect",SS="@firebase/database-compat",RS="@firebase/functions",CS="@firebase/functions-compat",IS="@firebase/installations",NS="@firebase/installations-compat",DS="@firebase/messaging",kS="@firebase/messaging-compat",OS="@firebase/performance",jS="@firebase/performance-compat",MS="@firebase/remote-config",PS="@firebase/remote-config-compat",VS="@firebase/storage",LS="@firebase/storage-compat",US="@firebase/firestore",BS="@firebase/ai",zS="@firebase/firestore-compat",qS="firebase",FS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",HS={[Zm]:"fire-core",[yS]:"fire-core-compat",[_S]:"fire-analytics",[vS]:"fire-analytics-compat",[bS]:"fire-app-check",[ES]:"fire-app-check-compat",[wS]:"fire-auth",[TS]:"fire-auth-compat",[xS]:"fire-rtdb",[AS]:"fire-data-connect",[SS]:"fire-rtdb-compat",[RS]:"fire-fn",[CS]:"fire-fn-compat",[IS]:"fire-iid",[NS]:"fire-iid-compat",[DS]:"fire-fcm",[kS]:"fire-fcm-compat",[OS]:"fire-perf",[jS]:"fire-perf-compat",[MS]:"fire-rc",[PS]:"fire-rc-compat",[VS]:"fire-gcs",[LS]:"fire-gcs-compat",[US]:"fire-fst",[zS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[qS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,GS=new Map,ep=new Map;function d_(r,e){try{r.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Lr(r){const e=r.name;if(ep.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,r);for(const n of Ch.values())d_(n,r);for(const n of GS.values())d_(n,r);return!0}function ya(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Wn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new ga("app","Firebase",KS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=FS;function _E(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=uE()),!n)throw is.create("no-options");const u=Ch.get(o);if(u){if(ls(n,u.options)&&ls(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const h=new eS(o);for(const g of ep.values())h.addComponent(g);const p=new $S(n,s,h);return Ch.set(o,p),p}function Mp(r=Jm){const e=Ch.get(r);if(!e&&r===Jm&&uE())return _E();if(!e)throw is.create("no-app",{appName:r});return e}function Zn(r,e,n){var s;let o=(s=HS[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(p.join(" "));return}Lr(new ur(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebase-heartbeat-database",QS=1,cu="firebase-heartbeat-store";let Vm=null;function EE(){return Vm||(Vm=vE(YS,QS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),Vm}async function WS(r){try{const n=(await EE()).transaction(cu),s=await n.objectStore(cu).get(bE(r));return await n.done,s}catch(e){if(e instanceof dr)vi.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(n.message)}}}async function f_(r,e){try{const s=(await EE()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,bE(r)),await s.done}catch(n){if(n instanceof dr)vi.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vi.warn(s.message)}}}function bE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=1024,ZS=30;class JS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=m_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>ZS){const h=nR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){vi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=m_(),{heartbeatsToSend:s,unsentEntries:o}=eR(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return vi.warn(n),""}}}function m_(){return new Date().toISOString().substring(0,10)}function eR(r,e=XS){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),p_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),p_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mE()?pE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return f_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return f_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function p_(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function nR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r){Lr(new ur("platform-logger",e=>new pS(e),"PRIVATE")),Lr(new ur("heartbeat",e=>new JS(e),"PRIVATE")),Zn(Zm,h_,r),Zn(Zm,h_,"esm2017"),Zn("fire-js","")}rR("");var iR="firebase",sR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(iR,sR,"app");const wE="@firebase/installations",Pp="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=1e4,xE=`w:${Pp}`,AE="FIS_v2",aR="https://firebaseinstallations.googleapis.com/v1",oR=3600*1e3,lR="installations",uR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},la=new ga(lR,uR,cR);function SE(r){return r instanceof dr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE({projectId:r}){return`${aR}/projects/${r}/installations`}function CE(r){return{token:r.token,requestStatus:2,expiresIn:dR(r.expiresIn),creationTime:Date.now()}}async function IE(r,e){const s=(await e.json()).error;return la.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function NE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function hR(r,{refreshToken:e}){const n=NE(r);return n.append("Authorization",fR(e)),n}async function DE(r){const e=await r();return e.status>=500&&e.status<600?r():e}function dR(r){return Number(r.replace("s","000"))}function fR(r){return`${AE} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=RE(r),o=NE(r),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={fid:n,authVersion:AE,appId:r.appId,sdkVersion:xE},p={method:"POST",headers:o,body:JSON.stringify(h)},g=await DE(()=>fetch(s,p));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:CE(y.authToken)}}else throw await IE("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=/^[cdef][\w-]{21}$/,tp="";function yR(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=vR(r);return gR.test(n)?n:tp}catch{return tp}}function vR(r){return pR(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;function jE(r,e){const n=ed(r);ME(n,e),_R(n,e)}function ME(r,e){const n=OE.get(r);if(n)for(const s of n)s(e)}function _R(r,e){const n=ER();n&&n.postMessage({key:r,fid:e}),bR()}let sa=null;function ER(){return!sa&&"BroadcastChannel"in self&&(sa=new BroadcastChannel("[Firebase] FID Change"),sa.onmessage=r=>{ME(r.data.key,r.data.fid)}),sa}function bR(){OE.size===0&&sa&&(sa.close(),sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebase-installations-database",TR=1,ua="firebase-installations-store";let Lm=null;function Vp(){return Lm||(Lm=vE(wR,TR,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ua)}}})),Lm}async function Ih(r,e){const n=ed(r),o=(await Vp()).transaction(ua,"readwrite"),u=o.objectStore(ua),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&jE(r,e.fid),e}async function PE(r){const e=ed(r),s=(await Vp()).transaction(ua,"readwrite");await s.objectStore(ua).delete(e),await s.done}async function td(r,e){const n=ed(r),o=(await Vp()).transaction(ua,"readwrite"),u=o.objectStore(ua),h=await u.get(n),p=e(h);return p===void 0?await u.delete(n):await u.put(p,n),await o.done,p&&(!h||h.fid!==p.fid)&&jE(r,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(r){let e;const n=await td(r.appConfig,s=>{const o=xR(s),u=AR(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===tp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function xR(r){const e=r||{fid:yR(),registrationStatus:0};return VE(e)}function AR(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(la.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=SR(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:RR(r)}:{installationEntry:e}}async function SR(r,e){try{const n=await mR(r,e);return Ih(r.appConfig,n)}catch(n){throw SE(n)&&n.customData.serverCode===409?await PE(r.appConfig):await Ih(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function RR(r){let e=await g_(r.appConfig);for(;e.registrationStatus===1;)await kE(100),e=await g_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Lp(r);return s||n}return e}function g_(r){return td(r,e=>{if(!e)throw la.create("installation-not-found");return VE(e)})}function VE(r){return CR(r)?{fid:r.fid,registrationStatus:0}:r}function CR(r){return r.registrationStatus===1&&r.registrationTime+TE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR({appConfig:r,heartbeatServiceProvider:e},n){const s=NR(r,n),o=hR(r,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={installation:{sdkVersion:xE,appId:r.appId}},p={method:"POST",headers:o,body:JSON.stringify(h)},g=await DE(()=>fetch(s,p));if(g.ok){const y=await g.json();return CE(y)}else throw await IE("Generate Auth Token",g)}function NR(r,{fid:e}){return`${RE(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(r,e=!1){let n;const s=await td(r.appConfig,u=>{if(!LE(u))throw la.create("not-registered");const h=u.authToken;if(!e&&OR(h))return u;if(h.requestStatus===1)return n=DR(r,e),u;{if(!navigator.onLine)throw la.create("app-offline");const p=MR(u);return n=kR(r,p),p}});return n?await n:s.authToken}async function DR(r,e){let n=await y_(r.appConfig);for(;n.authToken.requestStatus===1;)await kE(100),n=await y_(r.appConfig);const s=n.authToken;return s.requestStatus===0?Up(r,e):s}function y_(r){return td(r,e=>{if(!LE(e))throw la.create("not-registered");const n=e.authToken;return PR(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function kR(r,e){try{const n=await IR(r,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Ih(r.appConfig,s),n}catch(n){if(SE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await PE(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ih(r.appConfig,s)}throw n}}function LE(r){return r!==void 0&&r.registrationStatus===2}function OR(r){return r.requestStatus===2&&!jR(r)}function jR(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+oR}function MR(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function PR(r){return r.requestStatus===1&&r.requestTime+TE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(r){const e=r,{installationEntry:n,registrationPromise:s}=await Lp(e);return s?s.catch(console.error):Up(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(r,e=!1){const n=r;return await UR(n),(await Up(n,e)).token}async function UR(r){const{registrationPromise:e}=await Lp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(r){if(!r||!r.options)throw Um("App Configuration");if(!r.name)throw Um("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Um(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Um(r){return la.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="installations",zR="installations-internal",qR=r=>{const e=r.getProvider("app").getImmediate(),n=BR(e),s=ya(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},FR=r=>{const e=r.getProvider("app").getImmediate(),n=ya(e,UE).getImmediate();return{getId:()=>VR(n),getToken:o=>LR(n,o)}};function HR(){Lr(new ur(UE,qR,"PUBLIC")),Lr(new ur(zR,FR,"PRIVATE"))}HR();Zn(wE,Pp);Zn(wE,Pp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="analytics",GR="firebase_id",KR="origin",$R=60*1e3,YR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new Jh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new ga("analytics","Analytics",QR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(r){if(!r.startsWith(Bp)){const e=jn.create("invalid-gtag-resource",{gtagURL:r});return wn.warn(e.message),""}return r}function BE(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function XR(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function ZR(r,e){const n=XR("firebase-js-sdk-policy",{createScriptURL:WR}),s=document.createElement("script"),o=`${Bp}?l=${r}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function JR(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function eC(r,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const g=(await BE(n)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(p){wn.error(p)}r("config",o,u)}async function tC(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const p=await BE(n);for(const g of h){const y=p.find(T=>T.measurementId===g),b=y&&e[y.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){wn.error(u)}}function nC(r,e,n,s){async function o(u,...h){try{if(u==="event"){const[p,g]=h;await tC(r,e,n,p,g)}else if(u==="config"){const[p,g]=h;await eC(r,e,n,s,p,g)}else if(u==="consent"){const[p,g]=h;r("consent",p,g)}else if(u==="get"){const[p,g,y]=h;r("get",p,g,y)}else if(u==="set"){const[p]=h;r("set",p)}else r(u,...h)}catch(p){wn.error(p)}}return o}function rC(r,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=nC(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function iC(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Bp)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=30,aC=1e3;class oC{constructor(e={},n=aC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const zE=new oC;function lC(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function uC(r){var e;const{appId:n,apiKey:s}=r,o={method:"GET",headers:lC(s)},u=YR.replace("{app-id}",n),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let p="";try{const g=await h.json();!((e=g.error)===null||e===void 0)&&e.message&&(p=g.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:p})}return h.json()}async function cC(r,e=zE,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw jn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw jn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new fC;return setTimeout(async()=>{p.abort()},$R),qE({appId:s,apiKey:o,measurementId:u},h,p,e)}async function qE(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=zE){var u;const{appId:h,measurementId:p}=r;try{await hC(s,e)}catch(g){if(p)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:p};throw g}try{const g=await uC(r);return o.deleteThrottleMetadata(h),g}catch(g){const y=g;if(!dC(y)){if(o.deleteThrottleMetadata(h),p)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:h,measurementId:p};throw g}const b=Number((u=y==null?void 0:y.customData)===null||u===void 0?void 0:u.httpStatus)===503?o_(n,o.intervalMillis,sC):o_(n,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+b,backoffCount:n+1};return o.setThrottleMetadata(h,T),wn.debug(`Calling attemptFetch again in ${b} millis`),qE(r,T,s,o)}}function hC(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function dC(r){if(!(r instanceof dr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class fC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mC(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});r("event",n,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(){if(mE())try{await pE()}catch(r){return wn.warn(jn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return wn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gC(r,e,n,s,o,u,h){var p;const g=cC(r);g.then(M=>{n[M.measurementId]=M.appId,r.options.measurementId&&M.measurementId!==r.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>wn.error(M)),e.push(g);const y=pC().then(M=>{if(M)return s.getId()}),[b,T]=await Promise.all([g,y]);iC(u)||ZR(u,b.measurementId),o("js",new Date);const x=(p=h==null?void 0:h.config)!==null&&p!==void 0?p:{};return x[KR]="firebase",x.update=!0,T!=null&&(x[GR]=T),o("config",b.measurementId,x),b.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.app=e}_delete(){return delete ru[this.app.options.appId],Promise.resolve()}}let ru={},v_=[];const __={};let Bm="dataLayer",vC="gtag",E_,FE,b_=!1;function _C(){const r=[];if(fE()&&r.push("This is a browser extension environment."),UA()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=jn.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function EC(r,e,n){_C();const s=r.options.appId;if(!s)throw jn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(ru[s]!=null)throw jn.create("already-exists",{id:s});if(!b_){JR(Bm);const{wrappedGtag:u,gtagCore:h}=rC(ru,v_,__,Bm,vC);FE=u,E_=h,b_=!0}return ru[s]=gC(r,v_,__,e,E_,Bm,n),new yC(r)}function bC(r=Mp()){r=Mt(r);const e=ya(r,Nh);return e.isInitialized()?e.getImmediate():wC(r)}function wC(r,e={}){const n=ya(r,Nh);if(n.isInitialized()){const o=n.getImmediate();if(ls(e,n.getOptions()))return o;throw jn.create("already-initialized")}return n.initialize({options:e})}function TC(r,e,n,s){r=Mt(r),mC(FE,ru[r.app.options.appId],e,n,s).catch(o=>wn.error(o))}const w_="@firebase/analytics",T_="0.10.17";function xC(){Lr(new ur(Nh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return EC(s,o,n)},"PUBLIC")),Lr(new ur("analytics-internal",r,"PRIVATE")),Zn(w_,T_),Zn(w_,T_,"esm2017");function r(e){try{const n=e.getProvider(Nh).getImmediate();return{logEvent:(s,o,u)=>TC(n,s,o,u)}}catch(n){throw jn.create("interop-component-reg-failed",{reason:n})}}}xC();function zp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function HE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AC=HE,GE=new ga("auth","Firebase",HE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Jh("@firebase/auth");function SC(r,...e){Dh.logLevel<=Be.WARN&&Dh.warn(`Auth (${Oo}): ${r}`,...e)}function ph(r,...e){Dh.logLevel<=Be.ERROR&&Dh.error(`Auth (${Oo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(r,...e){throw qp(r,...e)}function kr(r,...e){return qp(r,...e)}function KE(r,e,n){const s=Object.assign(Object.assign({},AC()),{[e]:n});return new ga("auth","Firebase",s).create(e,{appName:r.name})}function gi(r){return KE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return GE.create(r,...e)}function Re(r,e,...n){if(!r)throw qp(e,...n)}function fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ph(e),new Error(e)}function _i(r,e){r||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function RC(){return x_()==="http:"||x_()==="https:"}function x_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RC()||fE()||"connection"in navigator)?navigator.onLine:!0}function IC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=OA()||PA()}get(){return CC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(r,e){_i(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kC=new wu(3e4,6e4);function vs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _s(r,e,n,s,o={}){return YE(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const p=bu(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},u);return MA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(y.credentials="include"),$E.fetch()(await QE(r,r.config.apiHost,n,p),y)})}async function YE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},NC),e);try{const o=new jC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ah(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw ah(r,"user-disabled",h);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw KE(r,b,y);cr(r,b)}}catch(o){if(o instanceof dr)throw o;cr(r,"network-request-failed",{message:String(o)})}}async function Tu(r,e,n,s,o={}){const u=await _s(r,e,n,s,o);return"mfaPendingCredential"in u&&cr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function QE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Fp(r.config,o):`${r.config.apiScheme}://${o}`;return DC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function OC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(kr(this.auth,"network-request-failed")),kC.get())})}}function ah(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=kr(r,e,s);return o.customData._tokenResponse=n,o}function A_(r){return r!==void 0&&r.enterprise!==void 0}class MC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PC(r,e){return _s(r,"GET","/v2/recaptchaConfig",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(r,e){return _s(r,"POST","/v1/accounts:delete",e)}async function kh(r,e){return _s(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LC(r,e=!1){const n=Mt(r),s=await n.getIdToken(e),o=Hp(s);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:iu(zm(o.auth_time)),issuedAtTime:iu(zm(o.iat)),expirationTime:iu(zm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function zm(r){return Number(r)*1e3}function Hp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=oE(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function S_(r){const e=Hp(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof dr&&UC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function UC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await hu(r,kh(n,{idToken:s}));Re(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?WE(u.providerUserInfo):[],p=qC(r.providerData,h),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),b=g?y:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new rp(u.createdAt,u.lastLoginAt),isAnonymous:b};Object.assign(r,T)}async function zC(r){const e=Mt(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function WE(r){return r.map(e=>{var{providerId:n}=e,s=zp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(r,e){const n=await YE(r,{},async()=>{const s=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await QE(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(g.credentials="include"),$E.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HC(r,e){return _s(r,"POST","/v2/accounts:revokeToken",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=S_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await FC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Eo;return s&&(Re(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new rp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LC(this,e)}reload(){return zC(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await hu(this,VC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,p,g,y,b;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,U=(h=n.photoURL)!==null&&h!==void 0?h:void 0,q=(p=n.tenantId)!==null&&p!==void 0?p:void 0,O=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,W=(y=n.createdAt)!==null&&y!==void 0?y:void 0,Z=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:re,emailVerified:me,isAnonymous:oe,providerData:ye,stsTokenManager:D}=n;Re(re&&D,e,"internal-error");const S=Eo.fromJSON(this.name,D);Re(typeof re=="string",e,"internal-error"),Wi(T,e.name),Wi(x,e.name),Re(typeof me=="boolean",e,"internal-error"),Re(typeof oe=="boolean",e,"internal-error"),Wi(M,e.name),Wi(U,e.name),Wi(q,e.name),Wi(O,e.name),Wi(W,e.name),Wi(Z,e.name);const C=new lr({uid:re,auth:e,email:x,emailVerified:me,displayName:T,isAnonymous:oe,photoURL:U,phoneNumber:M,tenantId:q,stsTokenManager:S,createdAt:W,lastLoginAt:Z});return ye&&Array.isArray(ye)&&(C.providerData=ye.map(j=>Object.assign({},j))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Eo;p.updateFromIdToken(s);const g=new lr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;function mi(r){_i(r instanceof Function,"Expected a class definition");let e=R_.get(r);return e?(_i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,R_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XE.type="NONE";const C_=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r,e,n){return`firebase:${r}:${e}:${n}`}class bo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?lr._fromGetAccountInfoResponse(this.auth,n,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new bo(mi(C_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||mi(C_);const h=gh(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const b=await y._get(h);if(b){let T;if(typeof b=="string"){const x=await kh(e,{idToken:b}).catch(()=>{});if(!x)break;T=await lr._fromGetAccountInfoResponse(e,x,b)}else T=lr._fromJSON(e,b);y!==u&&(p=T),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new bo(u,e,s):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new bo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rb(e))return"Blackberry";if(ib(e))return"Webos";if(JE(e))return"Safari";if((e.includes("chrome/")||eb(e))&&!e.includes("edge/"))return"Chrome";if(nb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ZE(r=cn()){return/firefox\//i.test(r)}function JE(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eb(r=cn()){return/crios\//i.test(r)}function tb(r=cn()){return/iemobile/i.test(r)}function nb(r=cn()){return/android/i.test(r)}function rb(r=cn()){return/blackberry/i.test(r)}function ib(r=cn()){return/webos/i.test(r)}function Gp(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GC(r=cn()){var e;return Gp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KC(){return VA()&&document.documentMode===10}function sb(r=cn()){return Gp(r)||nb(r)||ib(r)||rb(r)||/windows phone/i.test(r)||tb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r,e=[]){let n;switch(r){case"Browser":n=I_(cn());break;case"Worker":n=`${I_(cn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(r,e={}){return _s(r,"GET","/v2/passwordPolicy",vs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=6;class WC{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:QC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new $C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===p)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(gi(this));const n=e?Mt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YC(this),n=new WC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ga("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await HC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function va(r){return Mt(r)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=HA(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZC(r){nd=r}function ob(r){return nd.loadJS(r)}function JC(){return nd.recaptchaEnterpriseScript}function eI(){return nd.gapiScript}function tI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class nI{constructor(){this.enterprise=new rI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iI="recaptcha-enterprise",lb="NO_RECAPTCHA";class sI{constructor(e){this.type=iI,this.auth=va(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{PC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new MC(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,h,p){const g=window.grecaptcha;A_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(lb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(p=>{if(!n&&A_(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=JC();g.length!==0&&(g+=p),ob(g).then(()=>{o(p,u,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function D_(r,e,n,s=!1,o=!1){const u=new sI(r);let h;if(o)h=lb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function ip(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await D_(r,e,n,n==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await D_(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(r,e){const n=ya(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ls(u,e??{}))return o;cr(o,"already-initialized")}return n.initialize({options:e})}function oI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function lI(r,e,n){const s=va(r);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ub(e),{host:h,port:p}=uI(e),g=p===null?"":`:${p}`,y={url:`${u}//${h}${g}/`},b=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(ls(y,s.config.emulator)&&ls(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,ko(h)?(hE(`${u}//${h}${g}`),dE("Auth",!0)):cI()}function ub(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function uI(r){const e=ub(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:k_(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:k_(h)}}}function k_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function cI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function hI(r,e){return _s(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,e){return Tu(r,"POST","/v1/accounts:signInWithPassword",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}async function mI(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Kp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new du(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new du(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,n,"signInWithPassword",dI);case"emailLink":return fI(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,s,"signUpPassword",hI);case"emailLink":return mI(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,e){return Tu(r,"POST","/v1/accounts:signInWithIdp",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="http://localhost";class ca extends Kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=zp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,wo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:pI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yI(r){const e=Wl(Xl(r)).link,n=e?Wl(Xl(e)).deep_link_id:null,s=Wl(Xl(r)).deep_link_id;return(s?Wl(Xl(s)).link:null)||s||n||e||r}class $p{constructor(e){var n,s,o,u,h,p;const g=Wl(Xl(e)),y=(n=g.apiKey)!==null&&n!==void 0?n:null,b=(s=g.oobCode)!==null&&s!==void 0?s:null,T=gI((o=g.mode)!==null&&o!==void 0?o:null);Re(y&&b&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=b,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=yI(e);try{return new $p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,n){return du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=$p.parseLink(n);return Re(s,"argument-error"),du._fromEmailAndCode(e,s.code,s.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends xu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zi.credential(n,s)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends xu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends xu{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,e){return Tu(r,"POST","/v1/accounts:signUp",vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await lr._fromIdTokenResponse(e,s,o),h=O_(s);return new ha({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=O_(s);return new ha({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function O_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends dr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new jh(e,n,s,o)}}function hb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(r,u,e,s):u})}async function _I(r,e,n=!1){const s=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ha._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,e,n=!1){const{auth:s}=r;if(Wn(s.app))return Promise.reject(gi(s));const o="reauthenticate";try{const u=await hu(r,hb(s,o,e,r),n);Re(u.idToken,s,"internal-error");const h=Hp(u.idToken);Re(h,s,"internal-error");const{sub:p}=h;return Re(r.uid===p,s,"user-mismatch"),ha._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&cr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(r,e,n=!1){if(Wn(r.app))return Promise.reject(gi(r));const s="signIn",o=await hb(r,s,e),u=await ha._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function bI(r,e){return db(va(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(r){const e=va(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wI(r,e,n){if(Wn(r.app))return Promise.reject(gi(r));const s=va(r),h=await ip(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&fb(r),g}),p=await ha._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function TI(r,e,n){return Wn(r.app)?Promise.reject(gi(r)):bI(Mt(r),jo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fb(r),s})}function xI(r,e,n,s){return Mt(r).onIdTokenChanged(e,n,s)}function AI(r,e,n){return Mt(r).beforeAuthStateChanged(e,n)}function SI(r,e,n,s){return Mt(r).onAuthStateChanged(e,n,s)}function RI(r){return Mt(r).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1e3,II=10;class pb extends mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);KC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,II):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pb.type="LOCAL";const NI=pb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb extends mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gb.type="SESSION";const yb=gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,u)),g=await DI(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const y=Yp("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const x=T;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function OI(r){Or().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function jI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function PI(){return vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firebaseLocalStorageDb",VI=1,Ph="firebaseLocalStorage",Eb="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(r,e){return r.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function LI(){const r=indexedDB.deleteDatabase(_b);return new Au(r).toPromise()}function sp(){const r=indexedDB.open(_b,VI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ph,{keyPath:Eb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await LI(),e(await sp()))})})}async function j_(r,e,n){const s=id(r,!0).put({[Eb]:e,value:n});return new Au(s).toPromise()}async function UI(r,e){const n=id(r,!1).get(e),s=await new Au(n).toPromise();return s===void 0?null:s.value}function M_(r,e){const n=id(r,!0).delete(e);return new Au(n).toPromise()}const BI=800,zI=3;class bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>zI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(PI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jI(),!this.activeServiceWorker)return;this.sender=new kI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await j_(e,Mh,"1"),await M_(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>j_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>UI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=id(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bb.type="LOCAL";const qI=bb;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r,e){return e?mi(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HI(r){return db(r.auth,new Qp(r),r.bypassAuthState)}function GI(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),EI(n,new Qp(r),r.bypassAuthState)}async function KI(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),_I(n,new Qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HI;case"linkViaPopup":case"linkViaRedirect":return KI;case"reauthViaPopup":case"reauthViaRedirect":return GI;default:cr(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new wu(2e3,1e4);class _o extends wb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$I.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="pendingRedirect",yh=new Map;class QI extends wb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const s=await WI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WI(r,e){const n=JI(e),s=ZI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function XI(r,e){yh.set(r._key(),e)}function ZI(r){return mi(r._redirectPersistence)}function JI(r){return gh(YI,r.config.apiKey,r.name)}async function eN(r,e,n=!1){if(Wn(r.app))return Promise.reject(gi(r));const s=va(r),o=FI(s,e),h=await new QI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=600*1e3;class nN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Tb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tN&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Tb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(r,e={}){return _s(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aN=/^https?/;async function oN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await iN(r);for(const n of e)try{if(lN(n))return}catch{}cr(r,"unauthorized-domain")}function lN(r){const e=np(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!aN.test(n))return!1;if(sN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new wu(3e4,6e4);function V_(){const r=Or().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function cN(r){return new Promise((e,n)=>{var s,o,u;function h(){V_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V_(),n(kr(r,"network-request-failed"))},timeout:uN.get()})}if(!((o=(s=Or().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Or().gapi)===null||u===void 0)&&u.load)h();else{const p=tI("iframefcb");return Or()[p]=()=>{gapi.load?h():n(kr(r,"network-request-failed"))},ob(`${eI()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw vh=null,e})}let vh=null;function hN(r){return vh=vh||cN(r),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new wu(5e3,15e3),fN="__/auth/iframe",mN="emulator/auth/iframe",pN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yN(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Fp(e,mN):`https://${r.config.authDomain}/${fN}`,s={apiKey:e.apiKey,appName:r.name,v:Oo},o=gN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${bu(s).slice(1)}`}async function vN(r){const e=await hN(r),n=Or().gapi;return Re(n,r,"internal-error"),e.open({where:document.body,url:yN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=kr(r,"network-request-failed"),p=Or().setTimeout(()=>{u(h)},dN.get());function g(){Or().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EN=500,bN=600,wN="_blank",TN="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xN(r,e,n,s=EN,o=bN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},_N),{width:s.toString(),height:o.toString(),top:u,left:h}),y=cn().toLowerCase();n&&(p=eb(y)?wN:n),ZE(y)&&(e=e||TN,g.scrollbars="yes");const b=Object.entries(g).reduce((x,[M,U])=>`${x}${M}=${U},`,"");if(GC(y)&&p!=="_self")return AN(e||"",p),new L_(null);const T=window.open(e||"",p,b);Re(T,r,"popup-blocked");try{T.focus()}catch{}return new L_(T)}function AN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="__/auth/handler",RN="emulator/auth/handler",CN=encodeURIComponent("fac");async function U_(r,e,n,s,o,u){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Oo,eventId:o};if(e instanceof cb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",FA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))h[b]=T}if(e instanceof xu){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(h.scopes=b.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const g=await r._getAppCheckToken(),y=g?`#${CN}=${encodeURIComponent(g)}`:"";return`${IN(r)}?${bu(p).slice(1)}${y}`}function IN({config:r}){return r.emulator?Fp(r,RN):`https://${r.authDomain}/${SN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class NN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yb,this._completeRedirectFn=eN,this._overrideRedirectResult=XI}async _openPopup(e,n,s,o){var u;_i((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await U_(e,n,s,np(),o);return xN(e,h,Yp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await U_(e,n,s,np(),o);return OI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_i(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await vN(e),s=new nN(e);return n.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[qm];h!==void 0&&n(!!h),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sb()||JE()||Gp()}}const DN=NN;var B_="@firebase/auth",z_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jN(r){Lr(new ur("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Re(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ab(r)},y=new XC(s,o,u,g);return oI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Lr(new ur("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(s=>new kN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(B_,z_,ON(r)),Zn(B_,z_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=300,PN=cE("authIdTokenMaxAge")||MN;let q_=null;const VN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>PN)return;const o=n==null?void 0:n.token;q_!==o&&(q_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LN(r=Mp()){const e=ya(r,"auth");if(e.isInitialized())return e.getImmediate();const n=aI(r,{popupRedirectResolver:DN,persistence:[qI,NI,yb]}),s=cE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=VN(u.toString());AI(n,h,()=>h(n.currentUser)),xI(n,p=>h(p))}}const o=lE("auth");return o&&lI(n,`http://${o}`),n}function UN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}ZC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=kr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",UN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jN("Browser");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,xb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function C(){}C.prototype=S.prototype,D.D=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(j,L,P){for(var N=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)N[ut-2]=arguments[ut];return S.prototype[L].apply(j,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,C){C||(C=0);var j=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)j[L]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(L=0;16>L;++L)j[L]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],L=D.g[2];var P=D.g[3],N=S+(P^C&(L^P))+j[0]+3614090360&4294967295;S=C+(N<<7&4294967295|N>>>25),N=P+(L^S&(C^L))+j[1]+3905402710&4294967295,P=S+(N<<12&4294967295|N>>>20),N=L+(C^P&(S^C))+j[2]+606105819&4294967295,L=P+(N<<17&4294967295|N>>>15),N=C+(S^L&(P^S))+j[3]+3250441966&4294967295,C=L+(N<<22&4294967295|N>>>10),N=S+(P^C&(L^P))+j[4]+4118548399&4294967295,S=C+(N<<7&4294967295|N>>>25),N=P+(L^S&(C^L))+j[5]+1200080426&4294967295,P=S+(N<<12&4294967295|N>>>20),N=L+(C^P&(S^C))+j[6]+2821735955&4294967295,L=P+(N<<17&4294967295|N>>>15),N=C+(S^L&(P^S))+j[7]+4249261313&4294967295,C=L+(N<<22&4294967295|N>>>10),N=S+(P^C&(L^P))+j[8]+1770035416&4294967295,S=C+(N<<7&4294967295|N>>>25),N=P+(L^S&(C^L))+j[9]+2336552879&4294967295,P=S+(N<<12&4294967295|N>>>20),N=L+(C^P&(S^C))+j[10]+4294925233&4294967295,L=P+(N<<17&4294967295|N>>>15),N=C+(S^L&(P^S))+j[11]+2304563134&4294967295,C=L+(N<<22&4294967295|N>>>10),N=S+(P^C&(L^P))+j[12]+1804603682&4294967295,S=C+(N<<7&4294967295|N>>>25),N=P+(L^S&(C^L))+j[13]+4254626195&4294967295,P=S+(N<<12&4294967295|N>>>20),N=L+(C^P&(S^C))+j[14]+2792965006&4294967295,L=P+(N<<17&4294967295|N>>>15),N=C+(S^L&(P^S))+j[15]+1236535329&4294967295,C=L+(N<<22&4294967295|N>>>10),N=S+(L^P&(C^L))+j[1]+4129170786&4294967295,S=C+(N<<5&4294967295|N>>>27),N=P+(C^L&(S^C))+j[6]+3225465664&4294967295,P=S+(N<<9&4294967295|N>>>23),N=L+(S^C&(P^S))+j[11]+643717713&4294967295,L=P+(N<<14&4294967295|N>>>18),N=C+(P^S&(L^P))+j[0]+3921069994&4294967295,C=L+(N<<20&4294967295|N>>>12),N=S+(L^P&(C^L))+j[5]+3593408605&4294967295,S=C+(N<<5&4294967295|N>>>27),N=P+(C^L&(S^C))+j[10]+38016083&4294967295,P=S+(N<<9&4294967295|N>>>23),N=L+(S^C&(P^S))+j[15]+3634488961&4294967295,L=P+(N<<14&4294967295|N>>>18),N=C+(P^S&(L^P))+j[4]+3889429448&4294967295,C=L+(N<<20&4294967295|N>>>12),N=S+(L^P&(C^L))+j[9]+568446438&4294967295,S=C+(N<<5&4294967295|N>>>27),N=P+(C^L&(S^C))+j[14]+3275163606&4294967295,P=S+(N<<9&4294967295|N>>>23),N=L+(S^C&(P^S))+j[3]+4107603335&4294967295,L=P+(N<<14&4294967295|N>>>18),N=C+(P^S&(L^P))+j[8]+1163531501&4294967295,C=L+(N<<20&4294967295|N>>>12),N=S+(L^P&(C^L))+j[13]+2850285829&4294967295,S=C+(N<<5&4294967295|N>>>27),N=P+(C^L&(S^C))+j[2]+4243563512&4294967295,P=S+(N<<9&4294967295|N>>>23),N=L+(S^C&(P^S))+j[7]+1735328473&4294967295,L=P+(N<<14&4294967295|N>>>18),N=C+(P^S&(L^P))+j[12]+2368359562&4294967295,C=L+(N<<20&4294967295|N>>>12),N=S+(C^L^P)+j[5]+4294588738&4294967295,S=C+(N<<4&4294967295|N>>>28),N=P+(S^C^L)+j[8]+2272392833&4294967295,P=S+(N<<11&4294967295|N>>>21),N=L+(P^S^C)+j[11]+1839030562&4294967295,L=P+(N<<16&4294967295|N>>>16),N=C+(L^P^S)+j[14]+4259657740&4294967295,C=L+(N<<23&4294967295|N>>>9),N=S+(C^L^P)+j[1]+2763975236&4294967295,S=C+(N<<4&4294967295|N>>>28),N=P+(S^C^L)+j[4]+1272893353&4294967295,P=S+(N<<11&4294967295|N>>>21),N=L+(P^S^C)+j[7]+4139469664&4294967295,L=P+(N<<16&4294967295|N>>>16),N=C+(L^P^S)+j[10]+3200236656&4294967295,C=L+(N<<23&4294967295|N>>>9),N=S+(C^L^P)+j[13]+681279174&4294967295,S=C+(N<<4&4294967295|N>>>28),N=P+(S^C^L)+j[0]+3936430074&4294967295,P=S+(N<<11&4294967295|N>>>21),N=L+(P^S^C)+j[3]+3572445317&4294967295,L=P+(N<<16&4294967295|N>>>16),N=C+(L^P^S)+j[6]+76029189&4294967295,C=L+(N<<23&4294967295|N>>>9),N=S+(C^L^P)+j[9]+3654602809&4294967295,S=C+(N<<4&4294967295|N>>>28),N=P+(S^C^L)+j[12]+3873151461&4294967295,P=S+(N<<11&4294967295|N>>>21),N=L+(P^S^C)+j[15]+530742520&4294967295,L=P+(N<<16&4294967295|N>>>16),N=C+(L^P^S)+j[2]+3299628645&4294967295,C=L+(N<<23&4294967295|N>>>9),N=S+(L^(C|~P))+j[0]+4096336452&4294967295,S=C+(N<<6&4294967295|N>>>26),N=P+(C^(S|~L))+j[7]+1126891415&4294967295,P=S+(N<<10&4294967295|N>>>22),N=L+(S^(P|~C))+j[14]+2878612391&4294967295,L=P+(N<<15&4294967295|N>>>17),N=C+(P^(L|~S))+j[5]+4237533241&4294967295,C=L+(N<<21&4294967295|N>>>11),N=S+(L^(C|~P))+j[12]+1700485571&4294967295,S=C+(N<<6&4294967295|N>>>26),N=P+(C^(S|~L))+j[3]+2399980690&4294967295,P=S+(N<<10&4294967295|N>>>22),N=L+(S^(P|~C))+j[10]+4293915773&4294967295,L=P+(N<<15&4294967295|N>>>17),N=C+(P^(L|~S))+j[1]+2240044497&4294967295,C=L+(N<<21&4294967295|N>>>11),N=S+(L^(C|~P))+j[8]+1873313359&4294967295,S=C+(N<<6&4294967295|N>>>26),N=P+(C^(S|~L))+j[15]+4264355552&4294967295,P=S+(N<<10&4294967295|N>>>22),N=L+(S^(P|~C))+j[6]+2734768916&4294967295,L=P+(N<<15&4294967295|N>>>17),N=C+(P^(L|~S))+j[13]+1309151649&4294967295,C=L+(N<<21&4294967295|N>>>11),N=S+(L^(C|~P))+j[4]+4149444226&4294967295,S=C+(N<<6&4294967295|N>>>26),N=P+(C^(S|~L))+j[11]+3174756917&4294967295,P=S+(N<<10&4294967295|N>>>22),N=L+(S^(P|~C))+j[2]+718787259&4294967295,L=P+(N<<15&4294967295|N>>>17),N=C+(P^(L|~S))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+P&4294967295}s.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var C=S-this.blockSize,j=this.B,L=this.h,P=0;P<S;){if(L==0)for(;P<=C;)o(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<S;)if(j[L++]=D.charCodeAt(P++),L==this.blockSize){o(this,j),L=0;break}}else for(;P<S;)if(j[L++]=D[P++],L==this.blockSize){o(this,j),L=0;break}}this.h=L,this.o+=S},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var C=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=C&255,C/=256;for(this.u(D),D=Array(16),S=C=0;4>S;++S)for(var j=0;32>j;j+=8)D[C++]=this.g[S]>>>j&255;return D};function u(D,S){var C=p;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function h(D,S){this.h=S;for(var C=[],j=!0,L=D.length-1;0<=L;L--){var P=D[L]|0;j&&P==S||(C[L]=P,j=!1)}this.g=C}var p={};function g(D){return-128<=D&&128>D?u(D,function(S){return new h([S|0],0>S?-1:0)}):new h([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return O(y(-D));for(var S=[],C=1,j=0;D>=C;j++)S[j]=D/C|0,C*=4294967296;return new h(S,0)}function b(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return O(b(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),j=T,L=0;L<D.length;L+=8){var P=Math.min(8,D.length-L),N=parseInt(D.substring(L,L+P),S);8>P?(P=y(Math.pow(S,P)),j=j.j(P).add(y(N))):(j=j.j(C),j=j.add(y(N)))}return j}var T=g(0),x=g(1),M=g(16777216);r=h.prototype,r.m=function(){if(q(this))return-O(this).m();for(var D=0,S=1,C=0;C<this.g.length;C++){var j=this.i(C);D+=(0<=j?j:4294967296+j)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(q(this))return"-"+O(this).toString(D);for(var S=y(Math.pow(D,6)),C=this,j="";;){var L=me(C,S).g;C=W(C,L.j(S));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=L,U(C))return P+j;for(;6>P.length;)P="0"+P;j=P+j}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function q(D){return D.h==-1}r.l=function(D){return D=W(this,D),q(D)?-1:U(D)?0:1};function O(D){for(var S=D.g.length,C=[],j=0;j<S;j++)C[j]=~D.g[j];return new h(C,~D.h).add(x)}r.abs=function(){return q(this)?O(this):this},r.add=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],j=0,L=0;L<=S;L++){var P=j+(this.i(L)&65535)+(D.i(L)&65535),N=(P>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);j=N>>>16,P&=65535,N&=65535,C[L]=N<<16|P}return new h(C,C[C.length-1]&-2147483648?-1:0)};function W(D,S){return D.add(O(S))}r.j=function(D){if(U(this)||U(D))return T;if(q(this))return q(D)?O(this).j(O(D)):O(O(this).j(D));if(q(D))return O(this.j(O(D)));if(0>this.l(M)&&0>D.l(M))return y(this.m()*D.m());for(var S=this.g.length+D.g.length,C=[],j=0;j<2*S;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(var L=0;L<D.g.length;L++){var P=this.i(j)>>>16,N=this.i(j)&65535,ut=D.i(L)>>>16,He=D.i(L)&65535;C[2*j+2*L]+=N*He,Z(C,2*j+2*L),C[2*j+2*L+1]+=P*He,Z(C,2*j+2*L+1),C[2*j+2*L+1]+=N*ut,Z(C,2*j+2*L+1),C[2*j+2*L+2]+=P*ut,Z(C,2*j+2*L+2)}for(j=0;j<S;j++)C[j]=C[2*j+1]<<16|C[2*j];for(j=S;j<2*S;j++)C[j]=0;return new h(C,0)};function Z(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function re(D,S){this.g=D,this.h=S}function me(D,S){if(U(S))throw Error("division by zero");if(U(D))return new re(T,T);if(q(D))return S=me(O(D),S),new re(O(S.g),O(S.h));if(q(S))return S=me(D,O(S)),new re(O(S.g),S.h);if(30<D.g.length){if(q(D)||q(S))throw Error("slowDivide_ only works with positive integers.");for(var C=x,j=S;0>=j.l(D);)C=oe(C),j=oe(j);var L=ye(C,1),P=ye(j,1);for(j=ye(j,2),C=ye(C,2);!U(j);){var N=P.add(j);0>=N.l(D)&&(L=L.add(C),P=N),j=ye(j,1),C=ye(C,1)}return S=W(D,L.j(S)),new re(L,S)}for(L=T;0<=D.l(S);){for(C=Math.max(1,Math.floor(D.m()/S.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),P=y(C),N=P.j(S);q(N)||0<N.l(D);)C-=j,P=y(C),N=P.j(S);U(P)&&(P=x),L=L.add(P),D=W(D,N)}return new re(L,D)}r.A=function(D){return me(this,D).h},r.and=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],j=0;j<S;j++)C[j]=this.i(j)&D.i(j);return new h(C,this.h&D.h)},r.or=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],j=0;j<S;j++)C[j]=this.i(j)|D.i(j);return new h(C,this.h|D.h)},r.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],j=0;j<S;j++)C[j]=this.i(j)^D.i(j);return new h(C,this.h^D.h)};function oe(D){for(var S=D.g.length+1,C=[],j=0;j<S;j++)C[j]=D.i(j)<<1|D.i(j-1)>>>31;return new h(C,D.h)}function ye(D,S){var C=S>>5;S%=32;for(var j=D.g.length-C,L=[],P=0;P<j;P++)L[P]=0<S?D.i(P+C)>>>S|D.i(P+C+1)<<32-S:D.i(P+C);return new h(L,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=b,ss=h}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ab,Zl,Sb,_h,ap,Rb,Cb,Ib;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,_){return c==Array.prototype||c==Object.prototype||(c[v]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var v=0;v<c.length;++v){var _=c[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,v){if(v)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in _))break e;_=_[F]}c=c[c.length-1],A=_[c],v=v(A),v!=A&&v!=null&&e(_,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var _=0,A=!1,F={next:function(){if(!A&&_<c.length){var Y=_++;return{value:v(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function y(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function b(c,v,_){return c.call.apply(c.bind,arguments)}function T(c,v,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(v,F)}}return function(){return c.apply(v,arguments)}}function x(c,v,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:T,x.apply(null,arguments)}function M(c,v){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,v){function _(){}_.prototype=v.prototype,c.aa=v.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,F,Y){for(var de=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)de[Ge-2]=arguments[Ge];return v.prototype[F].apply(A,de)}}function q(c){const v=c.length;if(0<v){const _=Array(v);for(let A=0;A<v;A++)_[A]=c[A];return _}return[]}function O(c,v){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const F=c.length||0,Y=A.length||0;c.length=F+Y;for(let de=0;de<Y;de++)c[F+de]=A[de]}else c.push(A)}}class W{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Z(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var oe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ye(c,v,_){for(const A in c)v.call(_,c[A],A,c)}function D(c,v){for(const _ in c)v.call(void 0,c[_],_,c)}function S(c){const v={};for(const _ in c)v[_]=c[_];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(c,v){let _,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(_ in A)c[_]=A[_];for(let Y=0;Y<C.length;Y++)_=C[Y],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function L(c){var v=1;c=c.split(":");const _=[];for(;0<v&&c.length;)_.push(c.shift()),v--;return c.length&&_.push(c.join(":")),_}function P(c){p.setTimeout(()=>{throw c},0)}function N(){var c=Ue;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class ut{constructor(){this.h=this.g=null}add(v,_){const A=He.get();A.set(v,_),this.h?this.h.next=A:this.g=A,this.h=A}}var He=new W(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,_e=!1,Ue=new ut,k=()=>{const c=p.Promise.resolve(void 0);he=()=>{c.then(se)}};var se=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){P(_)}var v=He;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}_e=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,v),p.removeEventListener("test",_,v)}catch{}return c}();function xe(c,v){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(oe){e:{try{me(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else _=="mouseover"?v=c.fromElement:_=="mouseout"&&(v=c.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}U(xe,ue);var te={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),z=0;function le(c,v,_,A,F){this.listener=c,this.proxy=null,this.src=v,this.type=_,this.capture=!!A,this.ha=F,this.key=++z,this.da=this.fa=!1}function be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,v,_,A,F){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var de=tt(c,v,A,F);return-1<de?(v=c[de],_||(v.fa=!1)):(v=new le(v,this.src,Y,!!A,F),v.fa=_,c.push(v)),v};function Pe(c,v){var _=v.type;if(_ in c.g){var A=c.g[_],F=Array.prototype.indexOf.call(A,v,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(A,F,1),Y&&(be(v),c.g[_].length==0&&(delete c.g[_],c.h--))}}function tt(c,v,_,A){for(var F=0;F<c.length;++F){var Y=c[F];if(!Y.da&&Y.listener==v&&Y.capture==!!_&&Y.ha==A)return F}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),gt={};function gn(c,v,_,A,F){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)gn(c,v[Y],_,A,F);return null}return _=ju(_),c&&c[Q]?c.K(v,_,y(A)?!!A.capture:!1,F):Vn(c,v,_,!1,A,F)}function Vn(c,v,_,A,F,Y){if(!v)throw Error("Invalid event type");var de=y(F)?!!F.capture:!!F,Ge=Ta(c);if(Ge||(c[qe]=Ge=new ce(c)),_=Ge.add(v,_,A,de,Y),_.proxy)return _;if(A=xd(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)Ee||(F=de),F===void 0&&(F=!1),c.addEventListener(v.toString(),A,F);else if(c.attachEvent)c.attachEvent(ws(v.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function xd(){function c(_){return v.call(c.src,c.listener,_)}const v=Ad;return c}function Uo(c,v,_,A,F){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Uo(c,v[Y],_,A,F);else A=y(A)?!!A.capture:!!A,_=ju(_),c&&c[Q]?(c=c.i,v=String(v).toString(),v in c.g&&(Y=c.g[v],_=tt(Y,_,A,F),-1<_&&(be(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[v],c.h--)))):c&&(c=Ta(c))&&(v=c.g[v.toString()],c=-1,v&&(c=tt(v,_,A,F)),(_=-1<c?v[c]:null)&&wa(_))}function wa(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Q])Pe(v.i,c);else{var _=c.type,A=c.proxy;v.removeEventListener?v.removeEventListener(_,A,c.capture):v.detachEvent?v.detachEvent(ws(_),A):v.addListener&&v.removeListener&&v.removeListener(A),(_=Ta(v))?(Pe(_,c),_.h==0&&(_.src=null,v[qe]=null)):be(c)}}}function ws(c){return c in gt?gt[c]:gt[c]="on"+c}function Ad(c,v){if(c.da)c=!0;else{v=new xe(v,this);var _=c.listener,A=c.ha||c.src;c.fa&&wa(c),c=_.call(A,v)}return c}function Ta(c){return c=c[qe],c instanceof ce?c:null}var Bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(c){return typeof c=="function"?c:(c[Bo]||(c[Bo]=function(v){return c.handleEvent(v)}),c[Bo])}function bt(){fe.call(this),this.i=new ce(this),this.M=this,this.F=null}U(bt,fe),bt.prototype[Q]=!0,bt.prototype.removeEventListener=function(c,v,_,A){Uo(this,c,v,_,A)};function nt(c,v){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=v.type||v,typeof v=="string")v=new ue(v,c);else if(v instanceof ue)v.target=v.target||c;else{var F=v;v=new ue(A,c),j(v,F)}if(F=!0,_)for(var Y=_.length-1;0<=Y;Y--){var de=v.g=_[Y];F=Tn(de,A,!0,v)&&F}if(de=v.g=c,F=Tn(de,A,!0,v)&&F,F=Tn(de,A,!1,v)&&F,_)for(Y=0;Y<_.length;Y++)de=v.g=_[Y],F=Tn(de,A,!1,v)&&F}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var _=c.g[v],A=0;A<_.length;A++)be(_[A]);delete c.g[v],c.h--}}this.F=null},bt.prototype.K=function(c,v,_,A){return this.i.add(String(c),v,!1,_,A)},bt.prototype.L=function(c,v,_,A){return this.i.add(String(c),v,!0,_,A)};function Tn(c,v,_,A){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,Y=0;Y<v.length;++Y){var de=v[Y];if(de&&!de.da&&de.capture==_){var Ge=de.listener,Vt=de.ha||de.src;de.fa&&Pe(c.i,de),F=Ge.call(Vt,A)!==!1&&F}}return F&&!A.defaultPrevented}function rn(c,v,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:p.setTimeout(c,v||0)}function Mu(c){c.g=rn(()=>{c.g=null,c.i&&(c.i=!1,Mu(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Sd extends fe{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Mu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){fe.call(this),this.h=c,this.g={}}U(Ts,fe);var xs=[];function As(c){ye(c.g,function(v,_){this.g.hasOwnProperty(_)&&wa(v)},c),c.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),As(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=p.JSON.stringify,xa=p.JSON.parse,Ss=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function zo(){}zo.prototype.h=null;function qo(c){return c.h||(c.h=c.i())}function Fo(){}var qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fr(){ue.call(this,"d")}U(Fr,ue);function Ho(){ue.call(this,"c")}U(Ho,ue);var mr={},Go=null;function wi(){return Go=Go||new bt}mr.La="serverreachability";function Aa(c){ue.call(this,mr.La,c)}U(Aa,ue);function Ti(c){const v=wi();nt(v,new Aa(v))}mr.STAT_EVENT="statevent";function Pu(c,v){ue.call(this,mr.STAT_EVENT,c),this.stat=v}U(Pu,ue);function ft(c){const v=wi();nt(v,new Pu(v,c))}mr.Ma="timingevent";function Pt(c,v){ue.call(this,mr.Ma,c),this.size=v}U(Pt,ue);function It(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},v)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function Ko(c,v,_,A,F,Y){c.info(function(){if(c.g)if(Y)for(var de="",Ge=Y.split("&"),Vt=0;Vt<Ge.length;Vt++){var Ke=Ge[Vt].split("=");if(1<Ke.length){var Ht=Ke[0];Ke=Ke[1];var Lt=Ht.split("_");de=2<=Lt.length&&Lt[1]=="type"?de+(Ht+"="+Ke+"&"):de+(Ht+"=redacted&")}}else de=null;else de=Y;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+_+`
`+de})}function Rd(c,v,_,A,F,Y,de){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+_+`
`+Y+" "+de})}function xi(c,v,_,A){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Rs(c,_)+(A?" "+A:"")})}function Vu(c,v){c.info(function(){return"TIMEOUT: "+v})}Ln.prototype.info=function(){};function Rs(c,v){if(!c.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var de=1;de<F.length;de++)F[de]=""}}}}return nr(_)}catch{return v}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function gr(){}U(gr,zo),gr.prototype.g=function(){return new XMLHttpRequest},gr.prototype.i=function(){return{}},pr=new gr;function dn(c,v,_,A){this.j=c,this.i=v,this.l=_,this.R=A||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var $o={},Sa={};function rr(c,v,_){c.L=1,c.v=ks(xn(v)),c.m=_,c.P=!0,Gr(c,null)}function Gr(c,v){c.F=Date.now(),Cs(c),c.A=xn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Jo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new xt,c.g=Ju(c.j,_?v:null,!c.m),0<c.O&&(c.M=new Sd(x(c.Y,c,c.g),c.O)),v=c.U,_=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(xs[0]=F.toString()),F=xs);for(var Y=0;Y<F.length;Y++){var de=gn(_,F[Y],A||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),Ti(),Ko(c.i,c.u,c.A,c.l,c.R,c.m)}dn.prototype.ca=function(c){c=c.target;const v=this.M;v&&qn(c)==3?v.j():this.Y(c)},dn.prototype.Y=function(c){try{if(c==this.g)e:{const Lt=qn(this.g);var v=this.g.Ba();const Jr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||Lt!=4||v==7||(v==8||0>=Jr?Ti(3):Ti(2)),Si(this);var _=this.g.Z();this.X=_;t:if(Lu(this)){var A=Gu(this.g);c="";var F=A.length,Y=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),yr(this);var de="";break t}this.h.i=new p.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,c+=this.h.i.decode(A[v],{stream:!(Y&&v==F-1)});A.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=_==200,Rd(this.i,this.u,this.A,this.l,this.R,Lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Vt=this.g;if((Ge=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ge)){var Ke=Ge;break t}}Ke=null}if(_=Ke)xi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,_);else{this.o=!1,this.s=3,ft(12),Qt(this),yr(this);break e}}if(this.P){_=!0;let Wt;for(;!this.J&&this.C<de.length;)if(Wt=Uu(this,de),Wt==Sa){Lt==4&&(this.s=4,ft(14),_=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==$o){this.s=4,ft(15),xi(this.i,this.l,de,"[Invalid Chunk]"),_=!1;break}else xi(this.i,this.l,Wt,null),Is(this,Wt);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||de.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)xi(this.i,this.l,de,"[Invalid Chunked Response]"),Qt(this),yr(this);else if(0<de.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Bs(Ht),Ht.M=!0,ft(11))}}else xi(this.i,this.l,de,null),Is(this,de);Lt==4&&Qt(this),this.o&&!this.J&&(Lt==4?Wu(this.j,this):(this.o=!1,Cs(this)))}else kd(this.g),_==400&&0<de.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Qt(this),yr(this)}}}catch{}finally{}};function Lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Uu(c,v){var _=c.C,A=v.indexOf(`
`,_);return A==-1?Sa:(_=Number(v.substring(_,A)),isNaN(_)?$o:(A+=1,A+_>v.length?Sa:(v=v.slice(A,A+_),c.C=A+_,v)))}dn.prototype.cancel=function(){this.J=!0,Qt(this)};function Cs(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=It(x(c.ba,c),v)}function Si(c){c.B&&(p.clearTimeout(c.B),c.B=null)}dn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Vu(this.i,this.A),this.L!=2&&(Ti(),ft(17)),Qt(this),this.s=2,yr(this)):Bu(this,this.S-c)};function yr(c){c.j.G==0||c.J||Wu(c.j,c)}function Qt(c){Si(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,As(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Is(c,v){try{var _=c.j;if(_.G!=0&&(_.g==c||Yo(_.h,c))){if(!c.K&&Yo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)La(_),Pa(_);else break e;il(_),ft(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=It(x(_.Za,_),6e3));if(1>=Ca(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zr(_,11)}else if((c.K||_.g==c)&&La(_),!Z(v))for(F=_.Da.g.parse(v),v=0;v<F.length;v++){let Ke=F[v];if(_.T=Ke[0],Ke=Ke[1],_.G==2)if(Ke[0]=="c"){_.K=Ke[1],_.ia=Ke[2];const Ht=Ke[3];Ht!=null&&(_.la=Ht,_.j.info("VER="+_.la));const Lt=Ke[4];Lt!=null&&(_.Aa=Lt,_.j.info("SVER="+_.Aa));const Jr=Ke[5];Jr!=null&&typeof Jr=="number"&&0<Jr&&(A=1.5*Jr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Wt=c.g;if(Wt){const xr=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var Y=A.h;Y.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ia(Y,Y.h),Y.h=null))}if(A.D){const al=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(A.ya=al,st(A.I,A.D,al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var de=c;if(A.qa=Zu(A,A.J?A.ia:null,A.W),de.K){fn(A.h,de);var Ge=de,Vt=A.L;Vt&&(Ge.I=Vt),Ge.B&&(Si(Ge),Cs(Ge)),A.g=de}else Yu(A);0<_.i.length&&Va(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Zr(_,7);else _.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Zr(_,7):nl(_):Ke[0]!="noop"&&_.l&&_.l.ta(Ke),_.v=0)}}Ti(4)}catch{}}var zu=class{constructor(c,v){this.g=c,this.map=v}};function Kr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ra(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ca(c){return c.h?1:c.g?c.g.size:0}function Yo(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Ia(c,v){c.g?c.g.add(v):c.h=v}function fn(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Kr.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const _ of c.g.values())v=v.concat(_.D);return v}return q(c.i)}function Cd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var v=[],_=c.length,A=0;A<_;A++)v.push(c[A]);return v}v=[],_=0;for(A in c)v[_++]=c[A];return v}function Na(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var v=[];c=c.length;for(var _=0;_<c;_++)v.push(_);return v}v=[],_=0;for(const A in c)v[_++]=A;return v}}}function Wo(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var _=Na(c),A=Cd(c),F=A.length,Y=0;Y<F;Y++)v.call(void 0,A[Y],_&&_[Y],c)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Id(c,v){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),F=null;if(0<=A){var Y=c[_].substring(0,A);F=c[_].substring(A+1)}else Y=c[_];v(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Nt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Nt){this.h=c.h,Ds(this,c.j),this.o=c.o,this.g=c.g,Ri(this,c.s),this.l=c.l;var v=c.i,_=new Yr;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),$r(this,_),this.m=c.m}else c&&(v=String(c).match(Ns))?(this.h=!1,Ds(this,v[1]||"",!0),this.o=Un(v[2]||""),this.g=Un(v[3]||"",!0),Ri(this,v[4]),this.l=Un(v[5]||"",!0),$r(this,v[6]||"",!0),this.m=Un(v[7]||"")):(this.h=!1,this.i=new Yr(null,this.h))}Nt.prototype.toString=function(){var c=[],v=this.j;v&&c.push(Os(v,Xo,!0),":");var _=this.g;return(_||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Os(v,Xo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Os(_,_.charAt(0)=="/"?Nd:Zo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Os(_,Da)),c.join("")};function xn(c){return new Nt(c)}function Ds(c,v,_){c.j=_?Un(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Ri(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function $r(c,v,_){v instanceof Yr?(c.i=v,Fu(c.i,c.h)):(_||(v=Os(v,Dd)),c.i=new Yr(v,c.h))}function st(c,v,_){c.i.set(v,_)}function ks(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Un(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,v,_){return typeof c=="string"?(c=encodeURI(c).replace(v,qu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,Zo=/[#\?:]/g,Nd=/[#\?]/g,Dd=/[#\?@]/g,Da=/#/g;function Yr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Id(c.i,function(v,_){c.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}r=Yr.prototype,r.add=function(c,v){Bn(this),this.i=null,c=vr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(v),this.h+=1,this};function Qr(c,v){Bn(c),v=vr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Wr(c,v){return Bn(c),v=vr(c,v),c.g.has(v)}r.forEach=function(c,v){Bn(this),this.g.forEach(function(_,A){_.forEach(function(F){c.call(v,F,A,this)},this)},this)},r.na=function(){Bn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let A=0;A<v.length;A++){const F=c[A];for(let Y=0;Y<F.length;Y++)_.push(v[A])}return _},r.V=function(c){Bn(this);let v=[];if(typeof c=="string")Wr(this,c)&&(v=v.concat(this.g.get(vr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)v=v.concat(c[_])}return v},r.set=function(c,v){return Bn(this),this.i=null,c=vr(this,c),Wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},r.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function Jo(c,v,_){Qr(c,v),0<_.length&&(c.i=null,c.g.set(vr(c,v),q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var A=v[_];const Y=encodeURIComponent(String(A)),de=this.V(A);for(A=0;A<de.length;A++){var F=Y;de[A]!==""&&(F+="="+encodeURIComponent(String(de[A]))),c.push(F)}}return this.i=c.join("&")};function vr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Fu(c,v){v&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(_,A){var F=A.toLowerCase();A!=F&&(Qr(this,A),Jo(this,F,_))},c)),c.j=v}function js(c,v){const _=new Ln;if(p.Image){const A=new Image;A.onload=M(zn,_,"TestLoadImage: loaded",!0,v,A),A.onerror=M(zn,_,"TestLoadImage: error",!1,v,A),A.onabort=M(zn,_,"TestLoadImage: abort",!1,v,A),A.ontimeout=M(zn,_,"TestLoadImage: timeout",!1,v,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else v(!1)}function ir(c,v){const _=new Ln,A=new AbortController,F=setTimeout(()=>{A.abort(),zn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(F),Y.ok?zn(_,"TestPingServer: ok",!0,v):zn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),zn(_,"TestPingServer: error",!1,v)})}function zn(c,v,_,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(_)}catch{}}function Ms(){this.g=new Ss}function _r(c,v,_){const A=_||"";try{Wo(c,function(F,Y){let de=F;y(F)&&(de=nr(F)),v.push(A+Y+"="+encodeURIComponent(de))})}catch(F){throw v.push(A+"type="+encodeURIComponent("_badmap")),F}}function Ci(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Ci,zo),Ci.prototype.g=function(){return new Xr(this.l,this.j)},Ci.prototype.i=function(c){return function(){return c}}({});function Xr(c,v){bt.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Xr,bt),r=Xr.prototype,r.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,br(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||p).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Er(this):br(this),this.readyState==3&&el(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Er(this))},r.Qa=function(c){this.g&&(this.response=c,Er(this))},r.ga=function(){this.g&&Er(this)};function Er(c){c.readyState=4,c.l=null,c.j=null,c.v=null,br(c)}r.setRequestHeader=function(c,v){this.u.append(c,v)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=v.next();return c.join(`\r
`)};function br(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tl(c){let v="";return ye(c,function(_,A){v+=A,v+=":",v+=_,v+=`\r
`}),v}function Ft(c,v,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=tl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):st(c,v,_))}function Je(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Je,bt);var ka=/^https?$/i,Ps=["POST","PUT"];r=Je.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,v,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?qo(this.o):qo(pr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Y){Hu(this,Y);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)_.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ps,v,void 0))||A||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,de]of _)this.g.setRequestHeader(Y,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Hu(this,Y)}};function Hu(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,Oa(c),wr(c)}function Oa(c){c.A||(c.A=!0,nt(c,"complete"),nt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,nt(this,"complete"),nt(this,"abort"),wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},r.bb=function(){ja(this)};function ja(c){if(c.h&&typeof h<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)rn(c.Ea,0,c);else if(nt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var A;if(A=de===0){var F=String(c.D).match(Ns)[1]||null;!F&&p.self&&p.self.location&&(F=p.self.location.protocol.slice(0,-1)),A=!ka.test(F?F.toLowerCase():"")}_=A}if(_)nt(c,"complete"),nt(c,"success");else{c.m=6;try{var Y=2<qn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Oa(c)}}finally{wr(c)}}}}function wr(c,v){if(c.g){Vs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||nt(c,"ready");try{_.onreadystatechange=A}catch{}}}function Vs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),xa(v)}};function Gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kd(c){const v={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Z(c[A]))continue;var _=L(c[A]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=v[F]||[];v[F]=Y,Y.push(_)}D(v,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(c,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||v}function Ma(c){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,c),this.cb=Ls("retryDelaySeedMs",1e4,c),this.Wa=Ls("forwardChannelMaxRetries",2,c),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Kr(c&&c.concurrentRequestLimit),this.Da=new Ms,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ma.prototype,r.la=8,r.G=1,r.connect=function(c,v,_,A){ft(0),this.W=c,this.H=v||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Zu(this,null,this.W),Va(this)};function nl(c){if(Ku(c),c.G==3){var v=c.U++,_=xn(c.I);if(st(_,"SID",c.K),st(_,"RID",v),st(_,"TYPE","terminate"),Us(c,_),v=new dn(c,c.j,v),v.L=2,v.v=ks(xn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=v.v,_=!0),_||(v.g=Ju(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Cs(v)}Xu(c)}function Pa(c){c.g&&(Bs(c),c.g.cancel(),c.g=null)}function Ku(c){Pa(c),c.u&&(p.clearTimeout(c.u),c.u=null),La(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Va(c){if(!Ra(c.h)&&!c.s){c.s=!0;var v=c.Ga;he||k(),_e||(he(),_e=!0),Ue.add(v,c),c.B=0}}function Od(c,v){return Ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=It(x(c.Ga,c,v),sl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new dn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=S(Y),j(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=$u(this,F,v),_=xn(this.I),st(_,"RID",c),st(_,"CVER",22),this.D&&st(_,"X-HTTP-Session-Id",this.D),Us(this,_),Y&&(this.O?v="headers="+encodeURIComponent(String(tl(Y)))+"&"+v:this.m&&Ft(_,this.m,Y)),Ia(this.h,F),this.Ua&&st(_,"TYPE","init"),this.P?(st(_,"$req",v),st(_,"SID","null"),F.T=!0,rr(F,_,null)):rr(F,_,v),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||Ra(this.h)||rl(this))};function rl(c,v){var _;v?_=v.l:_=c.U++;const A=xn(c.I);st(A,"SID",c.K),st(A,"RID",_),st(A,"AID",c.T),Us(c,A),c.m&&c.o&&Ft(A,c.m,c.o),_=new dn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),v&&(c.i=v.D.concat(c.i)),v=$u(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ia(c.h,_),rr(_,A,v)}function Us(c,v){c.H&&ye(c.H,function(_,A){st(v,A,_)}),c.l&&Wo({},function(_,A){st(v,A,_)})}function $u(c,v,_){_=Math.min(c.i.length,_);var A=c.l?x(c.l.Na,c.l,c):null;e:{var F=c.i;let Y=-1;for(;;){const de=["count="+_];Y==-1?0<_?(Y=F[0].g,de.push("ofs="+Y)):Y=0:de.push("ofs="+Y);let Ge=!0;for(let Vt=0;Vt<_;Vt++){let Ke=F[Vt].g;const Ht=F[Vt].map;if(Ke-=Y,0>Ke)Y=Math.max(0,F[Vt].g-100),Ge=!1;else try{_r(Ht,de,"req"+Ke+"_")}catch{A&&A(Ht)}}if(Ge){A=de.join("&");break e}}}return c=c.i.splice(0,_),v.D=c,A}function Yu(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;he||k(),_e||(he(),_e=!0),Ue.add(v,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=It(x(c.Fa,c),sl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=It(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Pa(this),Qu(this))};function Bs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Qu(c){c.g=new dn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=xn(c.qa);st(v,"RID","rpc"),st(v,"SID",c.K),st(v,"AID",c.T),st(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(v,"TO",c.ja),st(v,"TYPE","xmlhttp"),Us(c,v),c.m&&c.o&&Ft(v,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ks(xn(v)),_.m=null,_.P=!0,Gr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Pa(this),il(this),ft(19))};function La(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Wu(c,v){var _=null;if(c.g==v){La(c),Bs(c),c.g=null;var A=2}else if(Yo(c.h,v))_=v.D,fn(c.h,v),A=1;else return;if(c.G!=0){if(v.o)if(A==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var F=c.B;A=wi(),nt(A,new Pt(A,_)),Va(c)}else Yu(c);else if(F=v.s,F==3||F==0&&0<v.X||!(A==1&&Od(c,v)||A==2&&il(c)))switch(_&&0<_.length&&(v=c.h,v.i=v.i.concat(_)),F){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function sl(c,v){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*v}function Zr(c,v){if(c.j.info("Error code "+v),v==2){var _=x(c.fb,c),A=c.Xa;const F=!A;A=new Nt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ds(A,"https"),ks(A),F?js(A.toString(),_):ir(A.toString(),_)}else ft(2);c.G=0,c.l&&c.l.sa(v),Xu(c),Ku(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Xu(c){if(c.G=0,c.ka=[],c.l){const v=Qo(c.h);(v.length!=0||c.i.length!=0)&&(O(c.ka,v),O(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Zu(c,v,_){var A=_ instanceof Nt?xn(_):new Nt(_);if(A.g!="")v&&(A.g=v+"."+A.g),Ri(A,A.s);else{var F=p.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var Y=new Nt(null);A&&Ds(Y,A),v&&(Y.g=v),F&&Ri(Y,F),_&&(Y.l=_),A=Y}return _=c.D,v=c.ya,_&&v&&st(A,_,v),st(A,"VER",c.la),Us(c,A),A}function Ju(c,v,_){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new Je(new Ci({eb:_})):new Je(c.pa),v.Ha(c.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}r=ec.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ua(){}Ua.prototype.g=function(c,v){return new mn(c,v)};function mn(c,v){bt.call(this),this.g=new Ma(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!Z(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Z(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Tr(this)}U(mn,bt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){nl(this.g)},mn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=nr(c),c=_);v.i.push(new zu(v.Ya++,c)),v.G==3&&Va(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,mn.aa.N.call(this)};function tc(c){Fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const _ in v){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}U(tc,Fr);function nc(){Ho.call(this),this.status=1}U(nc,Ho);function Tr(c){this.g=c}U(Tr,ec),Tr.prototype.ua=function(){nt(this.g,"a")},Tr.prototype.ta=function(c){nt(this.g,new tc(c))},Tr.prototype.sa=function(c){nt(this.g,new nc)},Tr.prototype.ra=function(){nt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ib=function(){return new Ua},Cb=function(){return wi()},Rb=mr,ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,_h=Ai,Hr.COMPLETE="complete",Sb=Hr,Fo.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Zl=Fo,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,Ab=Je}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",G_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Jh("@firebase/firestore");function po(){return da.logLevel}function pe(r,...e){if(da.logLevel<=Be.DEBUG){const n=e.map(Wp);da.debug(`Firestore (${Mo}): ${r}`,...n)}}function Ei(r,...e){if(da.logLevel<=Be.ERROR){const n=e.map(Wp);da.error(`Firestore (${Mo}): ${r}`,...n)}}function us(r,...e){if(da.logLevel<=Be.WARN){const n=e.map(Wp);da.warn(`Firestore (${Mo}): ${r}`,...n)}}function Wp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Nb(r,s,n)}function Nb(r,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ei(s),new Error(s)}function et(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Nb(e,o,s)}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class zN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qN{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new as;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new as,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new as)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new Db(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class FN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new FN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=KN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function op(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return je(s,o);{const u=kb(),h=$N(u.encode($_(r,n)),u.encode($_(e,n)));return h!==0?h:je(s,o)}}n+=s>65535?2:1}return je(r.length,e.length)}function $_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function $N(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return je(r[n],e[n]);return je(r.length,e.length)}function Ao(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class Dr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Dr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const s=Dr.isNumericId(e),o=Dr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Dr.extractNumericId(e).compare(Dr.extractNumericId(n)):op(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class dt extends Dr{construct(e,n,s){return new dt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const YN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Dr{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return YN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new tn([Y_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(u(),o++)}if(u(),h)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(dt.fromString(e))}static fromName(e){return new Te(dt.fromString(e).popFirst(5))}static empty(){return new Te(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r,e,n){if(!n)throw new ve(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function QN(r,e,n,s){if(e===!0&&s===!0)throw new ve(ae.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Q_(r){if(!Te.isDocumentKey(r))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function W_(r){if(Te.isDocumentKey(r))throw new ve(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Zp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function Jn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zp(r);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Su(r,e){if(!jb(r))throw new ve(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ve(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,Z_=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Z_);return new We(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X_)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Su(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:jt("string",We._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new We(0,0))}static max(){return new Ne(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function WN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new We(n+1,0):new We(n,s));return new cs(o,Te.empty(),e)}function XN(r){return new cs(r.readTime,r.key,fu)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(Ne.min(),Te.empty(),fu)}static max(){return new cs(Ne.max(),Te.empty(),fu)}}function ZN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==JN)throw r;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let o=0,u=0,h=!1;e.forEach(p=>{++o,p.next(()=>{++u,h&&u===o&&n()},g=>s(g))}),h=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(o=>o?ie.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(b=>{h[y]=b,++p,p===u&&s(h)},b=>o(b))}})}static doWhile(e,n){return new ie((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function t5(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}sd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function ad(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function n5(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="";function r5(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=J_(e)),e=i5(r.get(n),e);return J_(e)}function i5(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Mb:n+="";break;default:n+=u}}return n}function J_(r){return r+Mb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Pb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new en(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t1(this.data.getIterator())}getIteratorFrom(e){return new t1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class t1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new On([])}unionWith(e){let n=new qt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Vb("Invalid base64 string: "+u):u}}(e);return new nn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const s5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(et(!!r,39018),typeof r=="string"){let e=0;const n=s5.exec(r);if(et(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(r.seconds),nanos:Rt(r.nanos)}}function Rt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="server_timestamp",Ub="__type__",Bb="__previous_value__",zb="__local_write_time__";function eg(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ub])===null||n===void 0?void 0:n.stringValue)===Lb}function od(r){const e=r.mapValue.fields[Bb];return eg(e)?od(e):e}function mu(r){const e=hs(r.mapValue.fields[zb].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n,s,o,u,h,p,g,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const Lh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__type__",o5="__max__",uh={mapValue:{}},Fb="__vector__",Uh="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?eg(r)?4:u5(r)?9007199254740991:l5(r)?10:11:Ce(28295,{value:r})}function Ur(r,e){if(r===e)return!0;const n=fs(r);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=hs(o.timestampValue),p=hs(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Rt(o.geoPointValue.latitude)===Rt(u.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Rt(o.integerValue)===Rt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Rt(o.doubleValue),p=Rt(u.doubleValue);return h===p?Vh(h)===Vh(p):isNaN(h)&&isNaN(p)}return!1}(r,e);case 9:return Ao(r.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(e1(h)!==e1(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Ur(h[g],p[g])))return!1;return!0}(r,e);default:return Ce(52216,{left:r})}}function gu(r,e){return(r.values||[]).find(n=>Ur(n,e))!==void 0}function So(r,e){if(r===e)return 0;const n=fs(r),s=fs(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return function(u,h){const p=Rt(u.integerValue||u.doubleValue),g=Rt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,e);case 3:return n1(r.timestampValue,e.timestampValue);case 4:return n1(mu(r),mu(e));case 5:return op(r.stringValue,e.stringValue);case 6:return function(u,h){const p=ds(u),g=ds(h);return p.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const p=u.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const b=je(p[y],g[y]);if(b!==0)return b}return je(p.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const p=je(Rt(u.latitude),Rt(h.latitude));return p!==0?p:je(Rt(u.longitude),Rt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return r1(r.arrayValue,e.arrayValue);case 10:return function(u,h){var p,g,y,b;const T=u.fields||{},x=h.fields||{},M=(p=T[Uh])===null||p===void 0?void 0:p.arrayValue,U=(g=x[Uh])===null||g===void 0?void 0:g.arrayValue,q=je(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((b=U==null?void 0:U.values)===null||b===void 0?void 0:b.length)||0);return q!==0?q:r1(M,U)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===uh.mapValue&&h===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(h===uh.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=h.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let T=0;T<g.length&&T<b.length;++T){const x=op(g[T],b[T]);if(x!==0)return x;const M=So(p[g[T]],y[b[T]]);if(M!==0)return M}return je(g.length,b.length)}(r.mapValue,e.mapValue);default:throw Ce(23264,{le:n})}}function n1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=hs(r),s=hs(e),o=je(n.seconds,s.seconds);return o!==0?o:je(n.nanos,s.nanos)}function r1(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return je(n.length,s.length)}function Ro(r){return lp(r)}function lp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ds(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Te.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=lp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${lp(n.fields[h])}`;return o+"}"}(r.mapValue):Ce(61005,{value:r})}function Eh(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=od(r);return e?16+Eh(e):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Eh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Es(s.fields,(u,h)=>{o+=u.length+Eh(h)}),o}(r.mapValue);default:throw Ce(13486,{value:r})}}function up(r){return!!r&&"integerValue"in r}function tg(r){return!!r&&"arrayValue"in r}function i1(r){return!!r&&"nullValue"in r}function s1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bh(r){return!!r&&"mapValue"in r}function l5(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[qb])===null||n===void 0?void 0:n.stringValue)===Fb}function su(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=su(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return Object.assign({},r)}function u5(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===o5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=tn.emptyPath(),s={},o=[];e.forEach((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=su(h):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new bn(su(this.value))}}function Hb(r){const e=[];return Es(r.fields,(n,s)=>{const o=new tn([n]);if(bh(s)){const u=Hb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,s,o,u,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new un(e,0,Ne.min(),Ne.min(),Ne.min(),bn.empty(),0)}static newFoundDocument(e,n,s,o){return new un(e,1,n,Ne.min(),s,o,0)}static newNoDocument(e,n){return new un(e,2,n,Ne.min(),Ne.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ne.min(),Ne.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function a1(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),n.key):s=So(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function o1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ur(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function c5(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{}class zt extends Gb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new d5(e,n,s):n==="array-contains"?new p5(e,s):n==="in"?new g5(e,s):n==="not-in"?new y5(e,s):n==="array-contains-any"?new v5(e,s):new zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new f5(e,s):new m5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends Gb{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Br(e,n)}matches(e){return Kb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Kb(r){return r.op==="and"}function $b(r){return h5(r)&&Kb(r)}function h5(r){for(const e of r.filters)if(e instanceof Br)return!1;return!0}function cp(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if($b(r))return r.filters.map(e=>cp(e)).join(",");{const e=r.filters.map(n=>cp(n)).join(",");return`${r.op}(${e})`}}function Yb(r,e){return r instanceof zt?function(s,o){return o instanceof zt&&s.op===o.op&&s.field.isEqual(o.field)&&Ur(s.value,o.value)}(r,e):r instanceof Br?function(s,o){return o instanceof Br&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,p)=>u&&Yb(h,o.filters[p]),!0):!1}(r,e):void Ce(19439)}function Qb(r){return r instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`}(r):r instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(Qb).join(" ,")+"}"}(r):"Filter"}class d5 extends zt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class f5 extends zt{constructor(e,n){super(e,"in",n),this.keys=Wb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m5 extends zt{constructor(e,n){super(e,"not-in",n),this.keys=Wb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wb(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Te.fromName(s.referenceValue))}class p5 extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tg(n)&&gu(n.arrayValue,this.value)}}class g5 extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class y5 extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class v5 extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n=null,s=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Pe=null}}function l1(r,e=null,n=[],s=[],o=null,u=null,h=null){return new _5(r,e,n,s,o,u,h)}function ng(r){const e=De(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>cp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ro(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ro(s)).join(",")),e.Pe=n}return e.Pe}function rg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!c5(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Yb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!o1(r.startAt,e.startAt)&&o1(r.endAt,e.endAt)}function hp(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n=null,s=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function E5(r,e,n,s,o,u,h,p){return new ld(r,e,n,s,o,u,h,p)}function ud(r){return new ld(r)}function u1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function b5(r){return r.collectionGroup!==null}function au(r){const e=De(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new qt(tn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new zh(u,s))}),n.has(tn.keyField().canonicalString())||e.Te.push(new zh(tn.keyField(),s))}return e.Te}function jr(r){const e=De(r);return e.Ie||(e.Ie=w5(e,au(r))),e.Ie}function w5(r,e){if(r.limitType==="F")return l1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new zh(o.field,u)});const n=r.endAt?new Bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Bh(r.startAt.position,r.startAt.inclusive):null;return l1(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function dp(r,e,n){return new ld(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function cd(r,e){return rg(jr(r),jr(e))&&r.limitType===e.limitType}function Xb(r){return`${ng(jr(r))}|lt:${r.limitType}`}function go(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Qb(o)).join(", ")}]`),ad(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ro(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ro(o)).join(",")),`Target(${s})`}(jr(r))}; limitType=${r.limitType})`}function hd(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,p,g){const y=a1(h,p,g);return h.inclusive?y<=0:y<0}(s.startAt,au(s),o)||s.endAt&&!function(h,p,g){const y=a1(h,p,g);return h.inclusive?y>=0:y>0}(s.endAt,au(s),o))}(r,e)}function T5(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Zb(r){return(e,n)=>{let s=!1;for(const o of au(r)){const u=x5(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function x5(r,e,n){const s=r.field.isKeyField()?Te.comparator(e.key,n.key):function(u,h,p){const g=h.data.field(u),y=p.data.field(u);return g!==null&&y!==null?So(g,y):Ce(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Pb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=new vt(Te.comparator);function bi(){return A5}const Jb=new vt(Te.comparator);function Jl(...r){let e=Jb;for(const n of r)e=e.insert(n.key,n);return e}function ew(r){let e=Jb;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function aa(){return ou()}function tw(){return ou()}function ou(){return new _a(r=>r.toString(),(r,e)=>r.isEqual(e))}const S5=new vt(Te.comparator),R5=new qt(Te.comparator);function ze(...r){let e=R5;for(const n of r)e=e.add(n);return e}const C5=new qt(je);function I5(){return C5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function nw(r){return{integerValue:""+r}}function N5(r,e){return n5(e)?nw(e):ig(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function D5(r,e,n){return r instanceof qh?function(o,u){const h={fields:{[Ub]:{stringValue:Lb},[zb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&eg(u)&&(u=od(u)),u&&(h.fields[Bb]=u),{mapValue:h}}(n,e):r instanceof yu?iw(r,e):r instanceof vu?sw(r,e):function(o,u){const h=rw(o,u),p=c1(h)+c1(o.Ee);return up(h)&&up(o.Ee)?nw(p):ig(o.serializer,p)}(r,e)}function k5(r,e,n){return r instanceof yu?iw(r,e):r instanceof vu?sw(r,e):n}function rw(r,e){return r instanceof Fh?function(s){return up(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class qh extends dd{}class yu extends dd{constructor(e){super(),this.elements=e}}function iw(r,e){const n=aw(e);for(const s of r.elements)n.some(o=>Ur(o,s))||n.push(s);return{arrayValue:{values:n}}}class vu extends dd{constructor(e){super(),this.elements=e}}function sw(r,e){let n=aw(e);for(const s of r.elements)n=n.filter(o=>!Ur(o,s));return{arrayValue:{values:n}}}class Fh extends dd{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function c1(r){return Rt(r.integerValue||r.doubleValue)}function aw(r){return tg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function O5(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof yu&&o instanceof yu||s instanceof vu&&o instanceof vu?Ao(s.elements,o.elements,Ur):s instanceof Fh&&o instanceof Fh?Ur(s.Ee,o.Ee):s instanceof qh&&o instanceof qh}(r.transform,e.transform)}class j5{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class fd{}function ow(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sg(r.key,er.none()):new Ru(r.key,r.data,er.none());{const n=r.data,s=bn.empty();let o=new qt(tn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new bs(r.key,s,new On(o.toArray()),er.none())}}function M5(r,e,n){r instanceof Ru?function(o,u,h){const p=o.value.clone(),g=d1(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,n):r instanceof bs?function(o,u,h){if(!wh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=d1(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(lw(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function lu(r,e,n,s){return r instanceof Ru?function(u,h,p,g){if(!wh(u.precondition,h))return p;const y=u.value.clone(),b=f1(u.fieldTransforms,g,h);return y.setAll(b),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof bs?function(u,h,p,g){if(!wh(u.precondition,h))return p;const y=f1(u.fieldTransforms,g,h),b=h.data;return b.setAll(lw(u)),b.setAll(y),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,n,s):function(u,h,p){return wh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p}(r,e,n)}function P5(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=rw(s.transform,o||null);u!=null&&(n===null&&(n=bn.empty()),n.set(s.field,u))}return n||null}function h1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,(u,h)=>O5(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ru extends fd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends fd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lw(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function d1(r,e,n){const s=new Map;et(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,p=e.data.field(u.field);s.set(u.field,k5(h,p,n[o]))}return s}function f1(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,D5(u,h,e))}return s}class sg extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V5 extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&M5(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const g=ow(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ne.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(n,s)=>h1(n,s))&&Ao(this.baseMutations,e.baseMutations,(n,s)=>h1(n,s))}}class ag{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){et(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return S5}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ag(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Ye;function z5(r){switch(r){case ae.OK:return Ce(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function uw(r){if(r===void 0)return Ei("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Ot.OK:return ae.OK;case Ot.CANCELLED:return ae.CANCELLED;case Ot.UNKNOWN:return ae.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ae.INTERNAL;case Ot.UNAVAILABLE:return ae.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ae.NOT_FOUND;case Ot.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ot.ABORTED:return ae.ABORTED;case Ot.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ot.DATA_LOSS:return ae.DATA_LOSS;default:return Ce(39323,{code:r})}}(Ye=Ot||(Ot={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=new ss([4294967295,4294967295],0);function m1(r){const e=kb().encode(r),n=new xb;return n.update(e),new Uint8Array(n.digest())}function p1(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class og{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ss.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(q5)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=m1(e),[s,o]=p1(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new og(u,o,n);return s.forEach(p=>h.insert(p)),h}insert(e){if(this.fe===0)return;const n=m1(e),[s,o]=p1(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new md(Ne.min(),o,new vt(je),bi(),ze())}}class Cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cu(s,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class cw{constructor(e,n){this.targetId=e,this.De=n}}class hw{constructor(e,n,s=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class g1{constructor(){this.ve=0,this.Ce=y1(),this.Fe=nn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ze(),n=ze(),s=ze();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ce(38017,{changeType:u})}}),new Cu(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=y1()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class F5{constructor(e){this.We=e,this.Ge=new Map,this.ze=bi(),this.je=ch(),this.Je=ch(),this.He=new vt(je)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(hp(u))if(s===0){const h=new Te(u.path);this.Xe(n,h,un.newNoDocument(h,Ne.min()))}else et(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const p=this._t(e),g=p?this.ut(p,e,h):1;if(g!==0){this.rt(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=ds(s).toUint8Array()}catch(g){if(g instanceof Vb)return us("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new og(h,o,u)}catch(g){return us(g instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.fe===0?null:p}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.We.lt(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,h)=>{const p=this.st(h);if(p){if(u.current&&hp(p.target)){const g=new Te(p.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,un.newNoDocument(g,e))}u.Ne&&(n.set(h,u.Le()),u.ke())}});let s=ze();this.Je.forEach((u,h)=>{let p=!0;h.forEachWhile(g=>{const y=this.st(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new md(e,n,this.He,this.ze,s);return this.ze=bi(),this.je=ch(),this.Je=ch(),this.He=new vt(je),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new g1,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new qt(je),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new qt(je),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new g1),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function ch(){return new vt(Te.comparator)}function y1(){return new vt(Te.comparator)}const H5={asc:"ASCENDING",desc:"DESCENDING"},G5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K5={and:"AND",or:"OR"};class $5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(r,e){return r.useProto3Json||ad(e)?e:{value:e}}function Hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Y5(r,e){return Hh(r,e.toTimestamp())}function Mr(r){return et(!!r,49232),Ne.fromTimestamp(function(n){const s=hs(n);return new We(s.seconds,s.nanos)}(r))}function lg(r,e){return mp(r,e).canonicalString()}function mp(r,e){const n=function(o){return new dt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function fw(r){const e=dt.fromString(r);return et(vw(e),10190,{key:e.toString()}),e}function pp(r,e){return lg(r.databaseId,e.path)}function Fm(r,e){const n=fw(e);if(n.get(1)!==r.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Te(pw(n))}function mw(r,e){return lg(r.databaseId,e)}function Q5(r){const e=fw(r);return e.length===4?dt.emptyPath():pw(e)}function gp(r){return new dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pw(r){return et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function v1(r,e,n){return{name:pp(r,e),fields:n.value.mapValue.fields}}function W5(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ce(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,b){return y.useProto3Json?(et(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(et(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(y){const b=y.code===void 0?ae.UNKNOWN:uw(y.code);return new ve(b,y.message||"")}(h);n=new hw(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fm(r,s.document.name),u=Mr(s.document.updateTime),h=s.document.createTime?Mr(s.document.createTime):Ne.min(),p=new bn({mapValue:{fields:s.document.fields}}),g=un.newFoundDocument(o,u,h,p),y=s.targetIds||[],b=s.removedTargetIds||[];n=new Th(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Fm(r,s.document),u=s.readTime?Mr(s.readTime):Ne.min(),h=un.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Th([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Fm(r,s.document),u=s.removedTargetIds||[];n=new Th([],u,o,null)}else{if(!("filter"in e))return Ce(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new B5(o,u),p=s.targetId;n=new cw(p,h)}}return n}function X5(r,e){let n;if(e instanceof Ru)n={update:v1(r,e.key,e.value)};else if(e instanceof sg)n={delete:pp(r,e.key)};else if(e instanceof bs)n={update:v1(r,e.key,e.data),updateMask:a3(e.fieldMask)};else{if(!(e instanceof V5))return Ce(16599,{Rt:e.type});n={verify:pp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const p=h.transform;if(p instanceof qh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fh)return{fieldPath:h.field.canonicalString(),increment:p.Ee};throw Ce(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Y5(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce(27497)}(r,e.precondition)),n}function Z5(r,e){return r&&r.length>0?(et(e!==void 0,14353),r.map(n=>function(o,u){let h=o.updateTime?Mr(o.updateTime):Mr(u);return h.isEqual(Ne.min())&&(h=Mr(u)),new j5(h,o.transformResults||[])}(n,e))):[]}function J5(r,e){return{documents:[mw(r,e.path)]}}function e3(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mw(r,o);const u=function(y){if(y.length!==0)return yw(Br.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(b=>function(x){return{field:yo(x.field),direction:r3(x.dir)}}(b))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=fp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:n,parent:o}}function t3(r){let e=Q5(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){et(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=function(T){const x=gw(T);return x instanceof Br&&$b(x)?x.getFilters():[x]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(x=>function(U){return new zh(vo(U.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(x))}(n.orderBy));let p=null;n.limit&&(p=function(T){let x;return x=typeof T=="object"?T.value:T,ad(x)?null:x}(n.limit));let g=null;n.startAt&&(g=function(T){const x=!!T.before,M=T.values||[];return new Bh(M,x)}(n.startAt));let y=null;return n.endAt&&(y=function(T){const x=!T.before,M=T.values||[];return new Bh(M,x)}(n.endAt)),E5(e,o,h,u,p,"F",g,y)}function n3(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gw(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=vo(n.unaryFilter.field);return zt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(r):r.fieldFilter!==void 0?function(n){return zt.create(vo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(s=>gw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(r):Ce(30097,{filter:r})}function r3(r){return H5[r]}function i3(r){return G5[r]}function s3(r){return K5[r]}function yo(r){return{fieldPath:r.canonicalString()}}function vo(r){return tn.fromServerFormat(r.fieldPath)}function yw(r){return r instanceof zt?function(n){if(n.op==="=="){if(s1(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(i1(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s1(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(i1(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:i3(n.op),value:n.value}}}(r):r instanceof Br?function(n){const s=n.getFilters().map(o=>yw(o));return s.length===1?s[0]:{compositeFilter:{op:s3(n.op),filters:s}}}(r):Ce(54877,{filter:r})}function a3(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,s,o,u=Ne.min(),h=Ne.min(),p=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.gt=e}}function l3(r){const e=t3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.Dn=new c3}addToCollectionParentIndex(e,n){return this.Dn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(cs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class c3{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new qt(dt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new qt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_w=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(_w,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Co(0)}static ur(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="LruGarbageCollector",h3=1048576;function b1([r,e],[n,s]){const o=je(r,n);return o===0?je(e,s):o}class d3{constructor(e){this.Tr=e,this.buffer=new qt(b1),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();b1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class f3{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){pe(E1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?pe(E1,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Rr(3e5)})}}class m3{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(sd.ue);const s=new d3(n);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(_1)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_1):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,h,p,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,p=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(y=Date.now(),po()<=Be.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function p3(r,e){return new m3(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.changes=new _a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&lu(s.mutation,o,On.empty(),We.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ze()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ze()){const o=aa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Jl();return u.forEach((p,g)=>{h=h.insert(p,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ze()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,p)=>{n.set(h,p)})})}computeViews(e,n,s,o){let u=bi();const h=ou(),p=function(){return ou()}();return n.forEach((g,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof bs)?u=u.insert(y.key,y):b!==void 0?(h.set(y.key,b.mutation.getFieldMask()),lu(b.mutation,y,b.mutation.getFieldMask(),We.now())):h.set(y.key,On.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,b)=>h.set(y,b)),n.forEach((y,b)=>{var T;return p.set(y,new y3(b,(T=h.get(y))!==null&&T!==void 0?T:null))}),p))}recalculateAndSaveOverlays(e,n){const s=ou();let o=new vt((h,p)=>h-p),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const p of h)p.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let b=s.get(g)||On.empty();b=p.applyToLocalView(y,b),s.set(g,b);const T=(o.get(p.batchId)||ze()).add(g);o=o.insert(p.batchId,T)})}).next(()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,b=g.value,T=tw();b.forEach(x=>{if(!u.has(x)){const M=ow(n.get(x),s.get(x));M!==null&&T.set(x,M),u=u.add(x)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ie.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(aa());let p=fu,g=u;return h.next(y=>ie.forEach(y,(b,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(b)?ie.resolve():this.remoteDocumentCache.getEntry(e,b).next(x=>{g=g.insert(b,x)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,ze())).next(b=>({batchId:p,changes:ew(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next(p=>ie.forEach(p,g=>{const y=function(T,x){return new ld(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(b=>{b.forEach((T,x)=>{h=h.insert(T,x)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((g,y)=>{const b=y.getKey();h.get(b)===null&&(h=h.insert(b,un.newInvalidDocument(b)))});let p=Jl();return h.forEach((g,y)=>{const b=u.get(g);b!==void 0&&lu(b.mutation,y,On.empty(),We.now()),hd(n,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Mr(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:l3(o.bundledQuery),readTime:Mr(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.overlays=new vt(Te.comparator),this.kr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.wt(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),u=n.length+1,h=new Te(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new vt((y,b)=>y-b);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=aa(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=aa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,b)=>p.set(y,b)),!(p.size()>=o)););return ie.resolve(p)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new U5(n,s));let u=this.kr.get(n);u===void 0&&(u=ze(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.qr=new qt(Yt.Qr),this.$r=new qt(Yt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new Yt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new Yt(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new Te(new dt([])),s=new Yt(n,e),o=new Yt(n,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Te(new dt([])),s=new Yt(n,e),o=new Yt(n,e+1);let u=ze();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Yt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Te.comparator(e.key,n.key)||je(e.Hr,n.Hr)}static Ur(e,n){return je(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new qt(Yt.Qr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new L5(u,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Yr=this.Yr.add(new Yt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Jp:this.er-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Yt(n,0),o=new Yt(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const p=this.Zr(h.Hr);u.push(p)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new qt(je);return n.forEach(o=>{const u=new Yt(o,0),h=new Yt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],p=>{s=s.add(p.Hr)})}),ie.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new Yt(new Te(u),0);let p=new qt(je);return this.Yr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)},h),ie.resolve(this.ei(p))}ei(e){const n=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){et(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ie.forEach(n.mutations,o=>{const u=new Yt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new Yt(n,0),o=this.Yr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.ni=e,this.docs=function(){return new vt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=bi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=bi();const h=n.path,p=new Te(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||ZN(XN(b),s)<=0||(o.has(b.key)||hd(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ce(9500)}ri(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new x3(this)}getSize(e){return ie.resolve(this.size)}}class x3 extends g3{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.persistence=e,this.ii=new _a(n=>ng(n),rg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.si=0,this.oi=new ug,this.targetCount=0,this._i=Co.ar()}forEachTarget(e,n){return this.ii.forEach((s,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),ie.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.hr(n),ie.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n){this.ai={},this.overlays={},this.ui=new sd(0),this.ci=!1,this.ci=!0,this.li=new b3,this.referenceDelegate=e(this),this.hi=new A3(this),this.indexManager=new u3,this.remoteDocumentCache=function(o){return new T3(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new o3(n),this.Ti=new _3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new w3(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const o=new S3(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return ie.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class S3 extends e5{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ai=new ug,this.Ri=null}static Vi(e){return new cg(e)}get mi(){if(this.Ri)return this.Ri;throw Ce(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.mi,s=>{const o=Te.fromPath(s);return this.fi(e,o).next(u=>{u||n.removeEntry(o,Ne.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ie.or([()=>ie.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.gi=new _a(s=>r5(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=p3(this,n)}static Vi(e,n){return new Gh(e,n)}Ii(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return ie.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,n).next(p=>{p||(s++,u.removeEntry(h,Ne.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}Sr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return LA()?8:t5(cn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new R3;return this.ws(e,n,h).next(p=>{if(u.result=p,this.Rs)return this.Ss(e,n,h,p.size)})}).next(()=>u.result)}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(po()<=Be.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(po()<=Be.DEBUG&&pe("QueryEngine","Query:",go(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(po()<=Be.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):ie.resolve())}ps(e,n){if(u1(n))return ie.resolve(null);let s=jr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=dp(n,null,"F"),s=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ze(...u);return this.gs.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.bs(n,p);return this.Ds(n,y,h,g.readTime)?this.ps(e,dp(n,null,"F")):this.vs(e,y,n,g)}))})))}ys(e,n,s,o){return u1(n)||o.isEqual(Ne.min())?ie.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(n,u);return this.Ds(n,h,s,o)?ie.resolve(null):(po()<=Be.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),go(n)),this.vs(e,h,n,WN(o,fu)).next(p=>p))})}bs(e,n){let s=new qt(Zb(e));return n.forEach((o,u)=>{hd(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return po()<=Be.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",go(n)),this.gs.getDocumentsMatchingQuery(e,n,cs.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LocalStore",I3=3e8;class N3{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new vt(je),this.Ms=new _a(u=>ng(u),rg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v3(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function D3(r,e,n,s){return new N3(r,e,n,s)}async function bw(r,e){const n=De(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],p=[];let g=ze();for(const y of o){h.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){p.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Bs:y,removedBatchIds:h,addedBatchIds:p}))})})}function k3(r,e){const n=De(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(p,g,y,b){const T=y.batch,x=T.keys();let M=ie.resolve();return x.forEach(U=>{M=M.next(()=>b.getEntry(g,U)).next(q=>{const O=y.docVersions.get(U);et(O!==null,48541),q.version.compareTo(O)<0&&(T.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),b.addEntry(q)))})}),M.next(()=>p.mutationQueue.removeMutationBatch(g,T))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=ze();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function ww(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function O3(r,e){const n=De(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const p=[];e.targetChanges.forEach((b,T)=>{const x=o.get(T);if(!x)return;p.push(n.hi.removeMatchingKeys(u,b.removedDocuments,T).next(()=>n.hi.addMatchingKeys(u,b.addedDocuments,T)));let M=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(nn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):b.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(b.resumeToken,s)),o=o.insert(T,M),function(q,O,W){return q.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=I3?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(x,M,b)&&p.push(n.hi.updateTargetData(u,M))});let g=bi(),y=ze();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))}),p.push(j3(u,h,e.documentUpdates).next(b=>{g=b.Ls,y=b.ks})),!s.isEqual(Ne.min())){const b=n.hi.getLastRemoteSnapshotVersion(u).next(T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(b)}return ie.waitFor(p).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Fs=o,u))}function j3(r,e,n){let s=ze(),o=ze();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=bi();return n.forEach((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ne.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):pe(dg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{Ls:h,ks:o}})}function M3(r,e){const n=De(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function P3(r,e){const n=De(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):n.hi.allocateTargetId(s).next(h=>(o=new ns(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function yp(r,e,n){const s=De(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Vo(h))throw h;pe(dg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function w1(r,e,n){const s=De(r);let o=Ne.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,b){const T=De(g),x=T.Ms.get(b);return x!==void 0?ie.resolve(T.Fs.get(x)):T.hi.getTargetData(y,b)}(s,h,jr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,p.targetId).next(g=>{u=g})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ne.min(),n?u:ze())).next(p=>(V3(s,T5(e),p),{documents:p,qs:u})))}function V3(r,e,n){let s=r.xs.get(e)||Ne.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class T1{constructor(){this.activeTargetIds=I5()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L3{constructor(){this.Fo=new T1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new T1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="ConnectivityMonitor";class A1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pe(x1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pe(x1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function vp(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="RestConnection",B3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=vp(),p=this.Go(e,n.toUriEncodedString());pe(Hm,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:y}=new URL(p),b=ko(y);return this.jo(e,p,g,s,b).then(T=>(pe(Hm,`Received RPC '${e}' ${h}: `,T),T),T=>{throw us(Hm,`RPC '${e}' ${h} failed with error: `,T,"url: ",p,"request:",s),T})}Jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const s=B3[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class F3 extends z3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const h=vp();return new Promise((p,g)=>{const y=new Ab;y.setWithCredentials(!0),y.listenOnce(Sb.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case _h.NO_ERROR:const T=y.getResponseJson();pe(on,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),p(T);break;case _h.TIMEOUT:pe(on,`RPC '${e}' ${h} timed out`),g(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const x=y.getStatus();if(pe(on,`RPC '${e}' ${h} failed with status:`,x,"response text:",y.getResponseText()),x>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M==null?void 0:M.error;if(U&&U.status&&U.message){const q=function(W){const Z=W.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Z)>=0?Z:ae.UNKNOWN}(U.status);g(new ve(q,U.message))}else g(new ve(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{c_:e,streamId:h,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{pe(on,`RPC '${e}' ${h} completed.`)}});const b=JSON.stringify(o);pe(on,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",b,s,15)})}P_(e,n,s){const o=vp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ib(),p=Cb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const b=u.join("");pe(on,`Creating RPC '${e}' stream ${o}: ${b}`,g);const T=h.createWebChannel(b,g);this.T_(T);let x=!1,M=!1;const U=new q3({Ho:O=>{M?pe(on,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(x||(pe(on,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),pe(on,`RPC '${e}' stream ${o} sending:`,O),T.send(O))},Yo:()=>T.close()}),q=(O,W,Z)=>{O.listen(W,re=>{try{Z(re)}catch(me){setTimeout(()=>{throw me},0)}})};return q(T,Zl.EventType.OPEN,()=>{M||(pe(on,`RPC '${e}' stream ${o} transport opened.`),U.s_())}),q(T,Zl.EventType.CLOSE,()=>{M||(M=!0,pe(on,`RPC '${e}' stream ${o} transport closed`),U.__(),this.I_(T))}),q(T,Zl.EventType.ERROR,O=>{M||(M=!0,us(on,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),U.__(new ve(ae.UNAVAILABLE,"The operation could not be completed")))}),q(T,Zl.EventType.MESSAGE,O=>{var W;if(!M){const Z=O.data[0];et(!!Z,16349);const re=Z,me=(re==null?void 0:re.error)||((W=re[0])===null||W===void 0?void 0:W.error);if(me){pe(on,`RPC '${e}' stream ${o} received error:`,me);const oe=me.status;let ye=function(C){const j=Ot[C];if(j!==void 0)return uw(j)}(oe),D=me.message;ye===void 0&&(ye=ae.INTERNAL,D="Unknown error status: "+oe+" with message "+me.message),M=!0,U.__(new ve(ye,D)),T.close()}else pe(on,`RPC '${e}' stream ${o} received:`,Z),U.a_(Z)}}),q(p,Rb.STAT_EVENT,O=>{O.stat===ap.PROXY?pe(on,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===ap.NOPROXY&&pe(on,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.o_()},0),U}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(r){return new $5(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="PersistentStream";class xw{constructor(e,n,s,o,u,h,p,g){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Tw(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{e(()=>{const o=new ve(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return pe(S1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(pe(S1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H3 extends xw{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=W5(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ne.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ne.min():h.readTime?Mr(h.readTime):Ne.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=gp(this.serializer),n.addTarget=function(u,h){let p;const g=h.target;if(p=hp(g)?{documents:J5(u,g)}:{query:e3(u,g).Vt},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=dw(u,h.resumeToken);const y=fp(u,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ne.min())>0){p.readTime=Hh(u,h.snapshotVersion.toTimestamp());const y=fp(u,h.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const s=n3(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=gp(this.serializer),n.removeTarget=e,this.k_(n)}}class G3 extends xw{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Z5(e.writeResults,e.commitTime),s=Mr(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=gp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>X5(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{}class $3 extends K3{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,mp(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ae.UNKNOWN,u.toString())})}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Jo(e,mp(n,s),o,h,p,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(ae.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Y3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ei(n),this._a=!1):pe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class Q3{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Ea(this)&&(pe(fa,"Restarting streams for network reachability change."),await async function(g){const y=De(g);y.Ia.add(4),await Iu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await gd(y)}(this))})}),this.Aa=new Y3(s,o)}}async function gd(r){if(Ea(r))for(const e of r.da)await e(!0)}async function Iu(r){for(const e of r.da)await e(!1)}function Aw(r,e){const n=De(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),gg(n)?pg(n):Lo(n).x_()&&mg(n,e))}function fg(r,e){const n=De(r),s=Lo(n);n.Ta.delete(e),s.x_()&&Sw(n,e),n.Ta.size===0&&(s.x_()?s.B_():Ea(n)&&n.Aa.set("Unknown"))}function mg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(r).H_(e)}function Sw(r,e){r.Ra.$e(e),Lo(r).Y_(e)}function pg(r){r.Ra=new F5({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Lo(r).start(),r.Aa.aa()}function gg(r){return Ea(r)&&!Lo(r).M_()&&r.Ta.size>0}function Ea(r){return De(r).Ia.size===0}function Rw(r){r.Ra=void 0}async function W3(r){r.Aa.set("Online")}async function X3(r){r.Ta.forEach((e,n)=>{mg(r,e)})}async function Z3(r,e){Rw(r),gg(r)?(r.Aa.la(e),pg(r)):r.Aa.set("Unknown")}async function J3(r,e,n){if(r.Aa.set("Online"),e instanceof hw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ta.delete(p),o.Ra.removeTarget(p))}(r,e)}catch(s){pe(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kh(r,s)}else if(e instanceof Th?r.Ra.Ye(e):e instanceof cw?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Ne.min()))try{const s=await ww(r.localStore);n.compareTo(s)>=0&&await function(u,h){const p=u.Ra.Pt(h);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ta.get(y);b&&u.Ta.set(y,b.withResumeToken(g.resumeToken,h))}}),p.targetMismatches.forEach((g,y)=>{const b=u.Ta.get(g);if(!b)return;u.Ta.set(g,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),Sw(u,g);const T=new ns(b.target,g,y,b.sequenceNumber);mg(u,T)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){pe(fa,"Failed to raise snapshot:",s),await Kh(r,s)}}async function Kh(r,e,n){if(!Vo(e))throw e;r.Ia.add(1),await Iu(r),r.Aa.set("Offline"),n||(n=()=>ww(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pe(fa,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await gd(r)})}function Cw(r,e){return e().catch(n=>Kh(r,n,e))}async function yd(r){const e=De(r),n=ms(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Jp;for(;e4(e);)try{const o=await M3(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,t4(e,o)}catch(o){await Kh(e,o)}Iw(e)&&Nw(e)}function e4(r){return Ea(r)&&r.Pa.length<10}function t4(r,e){r.Pa.push(e);const n=ms(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function Iw(r){return Ea(r)&&!ms(r).M_()&&r.Pa.length>0}function Nw(r){ms(r).start()}async function n4(r){ms(r).na()}async function r4(r){const e=ms(r);for(const n of r.Pa)e.X_(n.mutations)}async function i4(r,e,n){const s=r.Pa.shift(),o=ag.from(s,e,n);await Cw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await yd(r)}async function s4(r,e){e&&ms(r).Z_&&await async function(s,o){if(function(h){return z5(h)&&h!==ae.ABORTED}(o.code)){const u=s.Pa.shift();ms(s).N_(),await Cw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await yd(s)}}(r,e),Iw(r)&&Nw(r)}async function R1(r,e){const n=De(r);n.asyncQueue.verifyOperationInProgress(),pe(fa,"RemoteStore received new credentials");const s=Ea(n);n.Ia.add(3),await Iu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await gd(n)}async function a4(r,e){const n=De(r);e?(n.Ia.delete(2),await gd(n)):e||(n.Ia.add(2),await Iu(n),n.Aa.set("Unknown"))}function Lo(r){return r.Va||(r.Va=function(n,s,o){const u=De(n);return u.ia(),new H3(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:W3.bind(null,r),e_:X3.bind(null,r),n_:Z3.bind(null,r),J_:J3.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),gg(r)?pg(r):r.Aa.set("Unknown")):(await r.Va.stop(),Rw(r))})),r.Va}function ms(r){return r.ma||(r.ma=function(n,s,o){const u=De(n);return u.ia(),new G3(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:n4.bind(null,r),n_:s4.bind(null,r),ea:r4.bind(null,r),ta:i4.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await yd(r)):(await r.ma.stop(),r.Pa.length>0&&(pe(fa,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,p=new yg(e,n,h,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(r,e){if(Ei("AsyncQueue",`${e}: ${r}`),Vo(r))return new ve(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.fa=new vt(Te.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ce(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Io{constructor(e,n,s,o,u,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(p=>{h.push({type:0,doc:p})}),new Io(e,n,To.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class l4{constructor(){this.queries=I1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=De(n),u=o.queries;o.queries=I1(),u.forEach((h,p)=>{for(const g of p.wa)g.onError(s)})})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function I1(){return new _a(r=>Xb(r),cd)}async function Dw(r,e){const n=De(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new o4,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=vg(h,`Initialization of query '${go(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&_g(n)}async function kw(r,e){const n=De(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function u4(r,e){const n=De(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.wa)p.Ca(o)&&(s=!0);h.ya=o}}s&&_g(n)}function c4(r,e,n){const s=De(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function _g(r){r.Da.forEach(e=>{e.next()})}var _p,N1;(N1=_p||(_p={})).Fa="default",N1.Cache="cache";class Ow{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.key=e}}class Mw{constructor(e){this.key=e}}class h4{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ze(),this.mutatedKeys=ze(),this.Xa=Zb(e),this.eu=new To(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new C1,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,T)=>{const x=o.get(b),M=hd(this.query,T)?T:null,U=!!x&&this.mutatedKeys.has(x.key),q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let O=!1;x&&M?x.data.isEqual(M.data)?U!==q&&(s.track({type:3,doc:M}),O=!0):this.iu(x,M)||(s.track({type:2,doc:M}),O=!0,(g&&this.Xa(M,g)>0||y&&this.Xa(M,y)<0)&&(p=!0)):!x&&M?(s.track({type:0,doc:M}),O=!0):x&&!M&&(s.track({type:1,doc:x}),O=!0,(g||y)&&(p=!0)),O&&(M?(h=h.add(M),u=q?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{eu:h,ru:s,Ds:p,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((b,T)=>function(M,U){const q=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{At:O})}};return q(M)-q(U)}(b.type,T.type)||this.Xa(b.doc,T.doc)),this.su(s),o=o!=null&&o;const p=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,y=g!==this.Ya;return this.Ya=g,h.length!==0||y?{snapshot:new Io(this.query,e.eu,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new C1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ze(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new Mw(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new jw(s))}),n}uu(e){this.Ha=e.qs,this.Za=ze();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Io.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Eg="SyncEngine";class d4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class f4{constructor(e){this.key=e,this.lu=!1}}class m4{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new _a(p=>Xb(p),cd),this.Tu=new Map,this.Iu=new Set,this.du=new vt(Te.comparator),this.Eu=new Map,this.Au=new ug,this.Ru={},this.Vu=new Map,this.mu=Co.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function p4(r,e,n=!0){const s=zw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Pw(s,e,n,!0),o}async function g4(r,e){const n=zw(r);await Pw(n,e,!0,!1)}async function Pw(r,e,n,s){const o=await P3(r.localStore,jr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await y4(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&Aw(r.remoteStore,o),p}async function y4(r,e,n,s,o){r.gu=(T,x,M)=>async function(q,O,W,Z){let re=O.view.nu(W);re.Ds&&(re=await w1(q.localStore,O.query,!1).then(({documents:D})=>O.view.nu(D,re)));const me=Z&&Z.targetChanges.get(O.targetId),oe=Z&&Z.targetMismatches.get(O.targetId)!=null,ye=O.view.applyChanges(re,q.isPrimaryClient,me,oe);return k1(q,O.targetId,ye._u),ye.snapshot}(r,T,x,M);const u=await w1(r.localStore,e,!0),h=new h4(e,u.qs),p=h.nu(u.documents),g=Cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=h.applyChanges(p,r.isPrimaryClient,g);k1(r,n,y._u);const b=new d4(e,n,h);return r.Pu.set(e,b),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),y.snapshot}async function v4(r,e,n){const s=De(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!cd(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&fg(s.remoteStore,o.targetId),Ep(s,o.targetId)}).catch(Po)):(Ep(s,o.targetId),await yp(s.localStore,o.targetId,!0))}async function _4(r,e){const n=De(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),fg(n.remoteStore,s.targetId))}async function E4(r,e,n){const s=R4(r);try{const o=await function(h,p){const g=De(h),y=We.now(),b=p.reduce((M,U)=>M.add(U.key),ze());let T,x;return g.persistence.runTransaction("Locally write mutations","readwrite",M=>{let U=bi(),q=ze();return g.Os.getEntries(M,b).next(O=>{U=O,U.forEach((W,Z)=>{Z.isValidDocument()||(q=q.add(W))})}).next(()=>g.localDocuments.getOverlayedDocuments(M,U)).next(O=>{T=O;const W=[];for(const Z of p){const re=P5(Z,T.get(Z.key).overlayedDocument);re!=null&&W.push(new bs(Z.key,re,Hb(re.value.mapValue),er.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,W,p)}).next(O=>{x=O;const W=O.applyToLocalDocumentSet(T,q);return g.documentOverlayCache.saveOverlays(M,O.batchId,W)})}).then(()=>({batchId:x.batchId,changes:ew(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,p,g){let y=h.Ru[h.currentUser.toKey()];y||(y=new vt(je)),y=y.insert(p,g),h.Ru[h.currentUser.toKey()]=y}(s,o.batchId,n),await Nu(s,o.changes),await yd(s.remoteStore)}catch(o){const u=vg(o,"Failed to persist write");n.reject(u)}}async function Vw(r,e){const n=De(r);try{const s=await O3(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?et(h.lu,14607):o.removedDocuments.size>0&&(et(h.lu,42227),h.lu=!1))}),await Nu(n,s,e)}catch(s){await Po(s)}}function D1(r,e,n){const s=De(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(h,p){const g=De(h);g.onlineState=p;let y=!1;g.queries.forEach((b,T)=>{for(const x of T.wa)x.va(p)&&(y=!0)}),y&&_g(g)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function b4(r,e,n){const s=De(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new vt(Te.comparator);h=h.insert(u,un.newNoDocument(u,Ne.min()));const p=ze().add(u),g=new md(Ne.min(),new Map,new vt(je),h,p);await Vw(s,g),s.du=s.du.remove(u),s.Eu.delete(e),bg(s)}else await yp(s.localStore,e,!1).then(()=>Ep(s,e,n)).catch(Po)}async function w4(r,e){const n=De(r),s=e.batch.batchId;try{const o=await k3(n.localStore,e);Uw(n,s,null),Lw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await Po(o)}}async function T4(r,e,n){const s=De(r);try{const o=await function(h,p){const g=De(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return g.mutationQueue.lookupMutationBatch(y,p).next(T=>(et(T!==null,37113),b=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>g.localDocuments.getDocuments(y,b))})}(s.localStore,e);Uw(s,e,n),Lw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nu(s,o)}catch(o){await Po(o)}}function Lw(r,e){(r.Vu.get(e)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(e)}function Uw(r,e,n){const s=De(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Ep(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||Bw(r,s)})}function Bw(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(fg(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),bg(r))}function k1(r,e,n){for(const s of n)s instanceof jw?(r.Au.addReference(s.key,e),x4(r,s)):s instanceof Mw?(pe(Eg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||Bw(r,s.key)):Ce(19791,{yu:s})}function x4(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(pe(Eg,"New document in limbo: "+n),r.Iu.add(s),bg(r))}function bg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Te(dt.fromString(e)),s=r.mu.next();r.Eu.set(s,new f4(n)),r.du=r.du.insert(n,s),Aw(r.remoteStore,new ns(jr(ud(n.path)),s,"TargetPurposeLimboResolution",sd.ue))}}async function Nu(r,e,n){const s=De(r),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((p,g)=>{h.push(s.gu(g,e,n).then(y=>{var b;if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:(b=n==null?void 0:n.targetChanges.get(g.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=hg.Es(g.targetId,y);u.push(T)}}))}),await Promise.all(h),s.hu.J_(o),await async function(g,y){const b=De(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ie.forEach(y,x=>ie.forEach(x.Is,M=>b.persistence.referenceDelegate.addReference(T,x.targetId,M)).next(()=>ie.forEach(x.ds,M=>b.persistence.referenceDelegate.removeReference(T,x.targetId,M)))))}catch(T){if(!Vo(T))throw T;pe(dg,"Failed to update sequence numbers: "+T)}for(const T of y){const x=T.targetId;if(!T.fromCache){const M=b.Fs.get(x),U=M.snapshotVersion,q=M.withLastLimboFreeSnapshotVersion(U);b.Fs=b.Fs.insert(x,q)}}}(s.localStore,u))}async function A4(r,e){const n=De(r);if(!n.currentUser.isEqual(e)){pe(Eg,"User change. New user:",e.toKey());const s=await bw(n.localStore,e);n.currentUser=e,function(u,h){u.Vu.forEach(p=>{p.forEach(g=>{g.reject(new ve(ae.CANCELLED,h))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Bs)}}function S4(r,e){const n=De(r),s=n.Eu.get(e);if(s&&s.lu)return ze().add(s.key);{let o=ze();const u=n.Tu.get(e);if(!u)return o;for(const h of u){const p=n.Pu.get(h);o=o.unionWith(p.view.tu)}return o}}function zw(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b4.bind(null,e),e.hu.J_=u4.bind(null,e.eventManager),e.hu.pu=c4.bind(null,e.eventManager),e}function R4(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T4.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return D3(this.persistence,new C3,e.initialUser,this.serializer)}Du(e){return new Ew(cg.Vi,this.serializer)}bu(e){return new L3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class C4 extends $h{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){et(this.persistence.referenceDelegate instanceof Gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new f3(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Ew(s=>Gh.Vi(s,n),this.serializer)}}class bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>D1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=A4.bind(null,this.syncEngine),await a4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l4}()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),s=function(u){return new F3(u)}(e.databaseInfo);return function(u,h,p,g){return new $3(u,h,p,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,p){return new Q3(s,o,u,h,p)}(this.localStore,this.datastore,e.asyncQueue,n=>D1(this.syncEngine,n,0),function(){return A1.C()?new A1:new U3}())}createSyncEngine(e,n){return function(o,u,h,p,g,y,b){const T=new m4(o,u,h,p,g,y);return b&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=De(o);pe(fa,"RemoteStore shutting down."),u.Ia.add(5),await Iu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bp.provider={build:()=>new bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="FirestoreClient";class I4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{pe(ps,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(pe(ps,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=vg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Km(r,e){r.asyncQueue.verifyOperationInProgress(),pe(ps,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await bw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{us("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{pe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{us("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function O1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await N4(r);pe(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>R1(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>R1(e.remoteStore,o)),r._onlineComponents=e}async function N4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(ps,"Using user provided OfflineComponentProvider");try{await Km(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;us("Error using user provided cache. Falling back to memory cache: "+n),await Km(r,new $h)}}else pe(ps,"Using default OfflineComponentProvider"),await Km(r,new C4(void 0));return r._offlineComponents}async function Fw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(ps,"Using user provided OnlineComponentProvider"),await O1(r,r._uninitializedComponentsProvider._online)):(pe(ps,"Using default OnlineComponentProvider"),await O1(r,new bp))),r._onlineComponents}function D4(r){return Fw(r).then(e=>e.syncEngine)}async function wp(r){const e=await Fw(r),n=e.eventManager;return n.onListen=p4.bind(null,e.syncEngine),n.onUnlisten=v4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_4.bind(null,e.syncEngine),n}function k4(r,e,n={}){const s=new as;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,p,g,y){const b=new qw({next:x=>{b.Ou(),h.enqueueAndForget(()=>kw(u,T));const M=x.docs.has(p);!M&&x.fromCache?y.reject(new ve(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&x.fromCache&&g&&g.source==="server"?y.reject(new ve(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new Ow(ud(p.path),b,{includeMetadataChanges:!0,ka:!0});return Dw(u,T)}(await wp(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firestore.googleapis.com",M1=!0;class P1{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gw,this.ssl=M1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:M1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_w;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h3)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new BN;switch(s.type){case"firstParty":return new HN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=j1.get(n);s&&(pe("ComponentProvider","Removing Datastore"),j1.delete(n),s.terminate())}(this),Promise.resolve()}}function O4(r,e,n,s={}){var o;r=Jn(r,vd);const u=ko(e),h=r._getSettings(),p=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${n}`;u&&(hE(`https://${g}`),dE("Firestore",!0)),h.host!==Gw&&h.host!==g&&us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:s});if(!ls(y,p)&&(r._setSettings(y),s.mockUserToken)){let b,T;if(typeof s.mockUserToken=="string")b=s.mockUserToken,T=ln.MOCK_USER;else{b=NA(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ve(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(x)}r._authCredentials=new zN(new Db(b,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _d(this.firestore,e,this._query)}}class Ct{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Su(n,Ct._jsonSchema))return new Ct(e,s||null,new Te(dt.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:jt("string",Ct._jsonSchemaVersion),referencePath:jt("string")};class os extends _d{constructor(e,n,s){super(e,n,ud(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new Te(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function fr(r,e,...n){if(r=Mt(r),Ob("collection","path",e),r instanceof vd){const s=dt.fromString(e,...n);return W_(s),new os(r,null,s)}{if(!(r instanceof Ct||r instanceof os))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return W_(s),new os(r.firestore,null,s)}}function Pn(r,e,...n){if(r=Mt(r),arguments.length===1&&(e=Xp.newId()),Ob("doc","path",e),r instanceof vd){const s=dt.fromString(e,...n);return Q_(s),new Ct(r,null,new Te(s))}{if(!(r instanceof Ct||r instanceof os))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return Q_(s),new Ct(r.firestore,r instanceof os?r.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="AsyncQueue";class L1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Tw(this,"async_queue_retry"),this.oc=()=>{const s=Gm();s&&pe(V1,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new as;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Vo(e))throw e;pe(V1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Ei("INTERNAL UNHANDLED ERROR: ",U1(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=yg.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ce(47125,{hc:U1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function U1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class gs extends vd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new L1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L1(e),this._firestoreClient=void 0,await e}}}function j4(r,e){const n=typeof r=="object"?r:Mp(),s=typeof r=="string"?r:Lh,o=ya(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=CA("firestore");u&&O4(o,...u)}return o}function wg(r){if(r._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||M4(r),r._firestoreClient}function M4(r){var e,n,s;const o=r._freezeSettings(),u=function(p,g,y,b){return new a5(p,g,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Hw(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new I4(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(nn.fromBase64String(e))}catch(n){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Su(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:jt("string",Xn._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(Su(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:jt("string",Pr._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Su(e,Vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Vr(e.vectorValues);throw new ve(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:jt("string",Vr._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=/^__.*__$/;class V4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class Kw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $w(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ec:r})}}class xg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Yh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if($w(this.Ec)&&P4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class L4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||pd(e)}Dc(e,n,s,o=!1){return new xg({Ec:e,methodName:n,bc:s,path:tn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ag(r){const e=r._freezeSettings(),n=pd(r._databaseId);return new L4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Yw(r,e,n,s,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Sg("Data must be an object, but it was:",h,s);const p=Qw(s,h);let g,y;if(u.merge)g=new On(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const x=Tp(e,T,n);if(!h.contains(x))throw new ve(ae.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Xw(b,x)||b.push(x)}g=new On(b),y=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,y=h.fieldTransforms;return new V4(new bn(p),g,y)}class bd extends Tg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}function U4(r,e,n,s){const o=r.Dc(1,e,n);Sg("Data must be an object, but it was:",o,s);const u=[],h=bn.empty();Es(s,(g,y)=>{const b=Rg(e,g,n);y=Mt(y);const T=o.gc(b);if(y instanceof bd)u.push(b);else{const x=wd(y,T);x!=null&&(u.push(b),h.set(b,x))}});const p=new On(u);return new Kw(h,p,o.fieldTransforms)}function B4(r,e,n,s,o,u){const h=r.Dc(1,e,n),p=[Tp(e,s,n)],g=[o];if(u.length%2!=0)throw new ve(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(Tp(e,u[x])),g.push(u[x+1]);const y=[],b=bn.empty();for(let x=p.length-1;x>=0;--x)if(!Xw(y,p[x])){const M=p[x];let U=g[x];U=Mt(U);const q=h.gc(M);if(U instanceof bd)y.push(M);else{const O=wd(U,q);O!=null&&(y.push(M),b.set(M,O))}}const T=new On(y);return new Kw(b,T,h.fieldTransforms)}function wd(r,e){if(Ww(r=Mt(r)))return Sg("Unsupported field value:",e,r),Qw(r,e);if(r instanceof Tg)return function(s,o){if(!$w(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const p of s){let g=wd(p,o.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return N5(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=We.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof We){const u=new We(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Pr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:dw(o.serializer,s._byteString)};if(s instanceof Ct){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vr)return function(h,p){return{mapValue:{fields:{[qb]:{stringValue:Fb},[Uh]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw p.wc("VectorValues must only contain numeric values.");return ig(p.serializer,y)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Zp(s)}`)}(r,e)}function Qw(r,e){const n={};return Pb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,(s,o)=>{const u=wd(o,e.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Ww(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof We||r instanceof Pr||r instanceof Xn||r instanceof Ct||r instanceof Tg||r instanceof Vr)}function Sg(r,e,n){if(!Ww(n)||!jb(n)){const s=Zp(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Tp(r,e,n){if((e=Mt(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return Rg(r,e);throw Yh("Field path arguments must be of type string or ",r,!1,void 0,n)}const z4=new RegExp("[~\\*/\\[\\]]");function Rg(r,e,n){if(e.search(z4)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ed(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Yh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ve(ae.INVALID_ARGUMENT,p+r+g)}function Xw(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class q4 extends Zw{data(){return super.data()}}function Jw(r,e){return typeof e=="string"?Rg(r,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H4{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Rt(h.doubleValue));return new Vr(u)}convertGeoPoint(e){return new Pr(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=od(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=hs(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=dt.fromString(e);et(vw(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(n)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends Zw{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:jt("string",oa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class xh extends oa{data(e={}){return super.data(e)}}class xo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new tu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(p=>{const g=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new tu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const g=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new tu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),b=h.indexOf(p.doc.key)),{type:G4(p.type),doc:g,oldIndex:y,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(r){r=Jn(r,Ct);const e=Jn(r.firestore,gs);return k4(wg(e),r._key).then(n=>rT(e,r,n))}xo._jsonSchemaVersion="firestore/querySnapshot/1.0",xo._jsonSchema={type:jt("string",xo._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class tT extends H4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function nT(r,e,n){r=Jn(r,Ct);const s=Jn(r.firestore,gs),o=eT(r.converter,e,n);return Td(s,[Yw(Ag(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,er.none())])}function Du(r,e,n,...s){r=Jn(r,Ct);const o=Jn(r.firestore,gs),u=Ag(o);let h;return h=typeof(e=Mt(e))=="string"||e instanceof Ed?B4(u,"updateDoc",r._key,e,n,s):U4(u,"updateDoc",r._key,e),Td(o,[h.toMutation(r._key,er.exists(!0))])}function Cg(r){return Td(Jn(r.firestore,gs),[new sg(r._key,er.none())])}function ku(r,e){const n=Jn(r.firestore,gs),s=Pn(r),o=eT(r.converter,e);return Td(n,[Yw(Ag(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,er.exists(!1))]).then(()=>s)}function ba(r,...e){var n,s,o;r=Mt(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||B1(e[h])||(u=e[h++]);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(B1(e[h])){const T=e[h];e[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let g,y,b;if(r instanceof Ct)y=Jn(r.firestore,gs),b=ud(r._key.path),g={next:T=>{e[h]&&e[h](rT(y,r,T))},error:e[h+1],complete:e[h+2]};else{const T=Jn(r,_d);y=Jn(T.firestore,gs),b=T._query;const x=new tT(y);g={next:M=>{e[h]&&e[h](new xo(y,x,T,M))},error:e[h+1],complete:e[h+2]},F4(r._query)}return function(x,M,U,q){const O=new qw(q),W=new Ow(M,O,U);return x.asyncQueue.enqueueAndForget(async()=>Dw(await wp(x),W)),()=>{O.Ou(),x.asyncQueue.enqueueAndForget(async()=>kw(await wp(x),W))}}(wg(y),b,p,g)}function Td(r,e){return function(s,o){const u=new as;return s.asyncQueue.enqueueAndForget(async()=>E4(await D4(s),o,u)),u.promise}(wg(r),e)}function rT(r,e,n){const s=n.docs.get(e._key),o=new tT(r);return new oa(r,o,e._key,s,new tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Mo=o})(Oo),Lr(new ur("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),p=new gs(new qN(s.getProvider("auth-internal")),new GN(h,s.getProvider("app-check-internal")),function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(y.options.projectId,b)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Zn(H_,G_,e),Zn(H_,G_,"esm2017")})();const $4={apiKey:"AIzaSyDxuTrW-QOQoxUFmCWULRySkV-kbeDQP7E",authDomain:"dellu-app.firebaseapp.com",projectId:"dellu-app",storageBucket:"dellu-app.firebasestorage.app",messagingSenderId:"822716749786",appId:"1:822716749786:web:c0adae9cb7500880c2d2e3",measurementId:"G-PFLW63SHC5"},Ig=_E($4);bC(Ig);const Ah=LN(Ig),_t=j4(Ig),Et={USERS:"users",GIGS:"gigs",WALLET_REQUESTS:"walletRequests",WITHDRAWAL_REQUESTS:"withdrawalRequests",TRANSACTIONS:"transactions",COUPONS:"coupons",PLATFORM_CONFIG:"platformConfig"},iT=async(r,e)=>{try{await nT(Pn(_t,Et.USERS,r),{...e,createdAt:We.fromDate(e.createdAt)})}catch(n){throw console.error("Error creating user document:",n),new Error(n.message)}},sT=async r=>{try{const e=await K4(Pn(_t,Et.USERS,r));if(e.exists()){const n=e.data();return{...n,id:e.id,createdAt:n.createdAt.toDate()}}return null}catch(e){throw console.error("Error getting user document:",e),new Error(e.message)}},na=async(r,e)=>{try{const n=Pn(_t,Et.USERS,r);await Du(n,e)}catch(n){throw console.error("Error updating user document:",n),new Error(n.message)}},Y4=async r=>{try{await Cg(Pn(_t,Et.USERS,r))}catch(e){throw console.error("Error deleting user document:",e),new Error(e.message)}},Q4=async(r,e)=>{try{const n={...r,requester:e,postedAt:We.now(),status:"OPEN",otp:Math.floor(1e5+Math.random()*9e5).toString(),deliveryDeadline:We.fromDate(r.deliveryDeadline)};return(await ku(fr(_t,Et.GIGS),n)).id}catch(n){throw console.error("Error adding gig:",n),new Error(n.message)}},W4=async(r,e)=>{try{const n=Pn(_t,Et.GIGS,r),s={...e};e.deliveryDeadline&&(s.deliveryDeadline=We.fromDate(e.deliveryDeadline)),e.postedAt&&(s.postedAt=We.fromDate(e.postedAt)),await Du(n,s)}catch(n){throw console.error("Error updating gig:",n),new Error(n.message)}},X4=async r=>{try{await Cg(Pn(_t,Et.GIGS,r))}catch(e){throw console.error("Error deleting gig:",e),new Error(e.message)}},Z4=async r=>{try{const e={...r,requestedAt:We.now()};return(await ku(fr(_t,Et.WALLET_REQUESTS),e)).id}catch(e){throw console.error("Error adding wallet request:",e),new Error(e.message)}},z1=async(r,e)=>{try{const n=Pn(_t,Et.WALLET_REQUESTS,r);await Du(n,e)}catch(n){throw console.error("Error updating wallet request:",n),new Error(n.message)}},J4=async r=>{try{const e={...r,requestedAt:We.now()};return(await ku(fr(_t,Et.WITHDRAWAL_REQUESTS),e)).id}catch(e){throw console.error("Error adding withdrawal request:",e),new Error(e.message)}},q1=async(r,e)=>{try{const n=Pn(_t,Et.WITHDRAWAL_REQUESTS,r);await Du(n,e)}catch(n){throw console.error("Error updating withdrawal request:",n),new Error(n.message)}},eD=async r=>{try{const e={...r,timestamp:We.now()};return(await ku(fr(_t,Et.TRANSACTIONS),e)).id}catch(e){throw console.error("Error adding transaction:",e),new Error(e.message)}},tD=async r=>{try{return(await ku(fr(_t,Et.COUPONS),r)).id}catch(e){throw console.error("Error adding coupon:",e),new Error(e.message)}},nD=async(r,e)=>{try{const n=Pn(_t,Et.COUPONS,r);await Du(n,e)}catch(n){throw console.error("Error updating coupon:",n),new Error(n.message)}},rD=async r=>{try{await Cg(Pn(_t,Et.COUPONS,r))}catch(e){throw console.error("Error deleting coupon:",e),new Error(e.message)}},F1=async r=>{try{const e=Pn(_t,Et.PLATFORM_CONFIG,"main");await nT(e,r,{merge:!0})}catch(e){throw console.error("Error updating platform config:",e),new Error(e.message)}},iD=r=>ba(fr(_t,Et.USERS),e=>{const n=e.docs.map(s=>{var o;return{...s.data(),id:s.id,createdAt:((o=s.data().createdAt)==null?void 0:o.toDate())||new Date}});r(n)}),sD=r=>ba(fr(_t,Et.GIGS),e=>{const n=e.docs.map(s=>{var u,h;const o=s.data();return{...o,id:s.id,postedAt:((u=o.postedAt)==null?void 0:u.toDate())||new Date,deliveryDeadline:((h=o.deliveryDeadline)==null?void 0:h.toDate())||new Date}});r(n)}),aD=r=>ba(fr(_t,Et.WALLET_REQUESTS),e=>{const n=e.docs.map(s=>{var o;return{...s.data(),id:s.id,requestedAt:((o=s.data().requestedAt)==null?void 0:o.toDate())||new Date}});r(n)}),oD=r=>ba(fr(_t,Et.WITHDRAWAL_REQUESTS),e=>{const n=e.docs.map(s=>{var o;return{...s.data(),id:s.id,requestedAt:((o=s.data().requestedAt)==null?void 0:o.toDate())||new Date}});r(n)}),lD=r=>ba(fr(_t,Et.TRANSACTIONS),e=>{const n=e.docs.map(s=>{var o;return{...s.data(),id:s.id,timestamp:((o=s.data().timestamp)==null?void 0:o.toDate())||new Date}});r(n)}),uD=r=>ba(fr(_t,Et.COUPONS),e=>{const n=e.docs.map(s=>({...s.data(),id:s.id}));r(n)}),cD=r=>ba(Pn(_t,Et.PLATFORM_CONFIG,"main"),e=>{e.exists()&&r(e.data())}),dh=({children:r})=>{const e=R.useContext(hn),n=pa(),{currentUser:s,isAuthLoading:o,openAuthModal:u}=e||{};return R.useEffect(()=>{!o&&!s&&(u&&u(),n("/live",{replace:!0}))},[s,o,u,n]),o||!s?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-brand-primary"})}):f.jsx(f.Fragment,{children:r})},hD=({children:r})=>{const e=R.useContext(hn);return e!=null&&e.isAuthLoading?f.jsx("div",{className:"min-h-screen bg-brand-dark flex justify-center items-center",children:f.jsx("div",{className:"animate-spin rounded-full h-24 w-24 border-t-4 border-b-4 border-brand-primary"})}):!(e!=null&&e.currentUser)||!e.currentUser.isAdmin?f.jsx(Ym,{to:"/live",replace:!0}):f.jsx(f.Fragment,{children:r})},dD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 10.5h.375c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125H21M4.5 10.5H18V15H4.5v-4.5ZM3.75 18h15A2.25 2.25 0 0 0 21 15.75v-6.375A2.25 2.25 0 0 0 18.75 7.5h-15A2.25 2.25 0 0 0 1.5 9.375v6.375A2.25 2.25 0 0 0 3.75 18Z"})}),fD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),Qh=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),aT=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ou=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6l-3-3h1.5a3 3 0 100-6M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ng=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),oT=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})}),mD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h6m3-5.25h6m-6 2.25h6m3-10.5h-19.5a2.25 2.25 0 00-2.25 2.25v10.5a2.25 2.25 0 002.25 2.25h19.5a2.25 2.25 0 002.25-2.25v-10.5a2.25 2.25 0 00-2.25-2.25z"})}),lT=r=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.776 48.776 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008v-.008z"})]}),pD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),gD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...r,children:f.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354l-4.757 2.822c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.007z",clipRule:"evenodd"})}),yD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),uT=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 00-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),Dg=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),cT=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),hT=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),dT=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a2.25 2.25 0 01-2.25 2.25H5.25a2.25 2.25 0 01-2.25-2.25v-8.25M12 4.875A2.625 2.625 0 109.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1114.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),vD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 100-2.186m0 2.186c-.18.324-.283.696-.283 1.093s.103.77.283 1.093m0-2.186l-9.566-5.314"})}),_D=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625l-2.25-2.25m0 0l-2.25 2.25M15.75 12l2.25-2.25M15.75 12l-2.25 2.25"})}),ED=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625l-2.25-2.25m0 0l-2.25 2.25m-6-6l2.25-2.25m0 0l2.25 2.25m0 0l-2.25 2.25m-2.25-2.25l2.25-2.25"})}),fT=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),bD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.136 11.886c3.87-3.87 10.154-3.87 14.024 0M19.95 8.732c-5.48-5.48-14.42-5.48-19.9 0M12 21.75h.008v.008H12v-.008z"})}),wD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"})}),TD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),xD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h6m3-5.25h6m-6 2.25h6m3-10.5h-19.5a2.25 2.25 0 00-2.25 2.25v10.5a2.25 2.25 0 002.25 2.25h19.5a2.25 2.25 0 002.25-2.25v-10.5a2.25 2.25 0 00-2.25-2.25z"})}),AD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v-2.25m0 2.25l-2.25-2.25m2.25 2.25l2.25 2.25M15 12l2.25-2.25M15 12l-2.25 2.25m-7.5-3l2.25-2.25m0 0l2.25 2.25m0 0l-2.25 2.25m-2.25-2.25l2.25 2.25"})}),SD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5zM3.181 18.72a9.094 9.094 0 013.741-.479 3 3 0 014.682-2.72m-7.5-2.962a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5zM12 15.75a3 3 0 01-3-3m3 3a3 3 0 003-3m-3 3V6.75m3 3H9m3 3a3 3 0 01-3-3m0 0c0-1.657 1.343-3 3-3s3 1.343 3 3m-3 3a3 3 0 013-3m-6 0a3 3 0 013-3m-3 3a3 3 0 00-3 3m0 0c0 1.657 1.343 3 3 3s3-1.343 3-3m-3-3s0 0 0 0"})}),RD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.352-6.044-.98m-3.528-10.726c-1.01-.143-2.01-.317-3-.52m3 .52l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.989 5.989 0 002.036.243c2.132 0 4.14-.352 6.044-.98"})}),CD=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-1.5h5.25m-5.25 0h5.25m0 0h5.25m-5.25 0h5.25m0 0h5.25M9 4.5h12a2.25 2.25 0 012.25 2.25v10.5a2.25 2.25 0 01-2.25 2.25H9a2.25 2.25 0 01-2.25-2.25V6.75A2.25 2.25 0 019 4.5z"})}),ID=r=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.003 1.11-1.226.55-.223 1.159-.223 1.71 0 .55.223 1.02.684 1.11 1.226l.078.479a1.533 1.533 0 001.372 1.372l.48.078c.542.09.993.56 1.226 1.11.223.55.223 1.159 0 1.71-.223.55-.684 1.02-1.226 1.11l-.479.078a1.533 1.533 0 00-1.372 1.372l-.078.48c-.09.542-.56.993-1.11 1.226-.55.223-1.159.223-1.71 0-.55-.223-1.02-.684-1.11-1.226l-.078-.479a1.533 1.533 0 00-1.372-1.372l-.48-.078c-.542-.09-.993-.56-1.226-1.11-.223.55-.223-1.159 0-1.71.223.55.684-1.02 1.226-1.11l.479-.078a1.533 1.533 0 001.372-1.372l.078-.48zM12 15a3 3 0 100-6 3 3 0 000 6z"})}),Qe=({children:r,fullWidth:e=!1,variant:n="primary",...s})=>{const o="px-4 py-2.5 rounded-lg font-semibold text-white transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-dark",u={primary:"bg-brand-primary hover:bg-brand-primary/90 focus:ring-brand-primary disabled:bg-brand-primary/50",secondary:"bg-brand-dark-300 hover:bg-brand-dark-300/80 focus:ring-brand-dark-300 disabled:bg-brand-dark-300/50"},h=e?"w-full":"w-auto";return f.jsx("button",{className:`${o} ${u[n]} ${h}`,...s,children:r})},ND=()=>{const r=R.useContext(hn),{currentUser:e,openAuthModal:n,logout:s}=r??{},o=pa(),u=()=>{s&&s(),o("/live",{replace:!0})},h=({isActive:b})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors ${b?"bg-brand-primary text-white":"text-gray-300 hover:bg-brand-dark-300 hover:text-white"}`,p=()=>f.jsx("div",{className:"hidden md:block",children:f.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:f.jsx(kn,{to:"/admin",className:h,children:"Admin Dashboard"})})}),g=()=>f.jsx("div",{className:"hidden md:block",children:f.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[f.jsx(kn,{to:"/live",className:h,children:"Live Gigs"}),f.jsx(kn,{to:"/my-gigs",className:h,children:"My Gigs"}),f.jsx(kn,{to:"/create",className:h,children:"Create Gig"}),f.jsx(kn,{to:"/wallet",className:h,children:"Wallet"}),f.jsx(kn,{to:"/refer-and-earn",className:h,children:"Refer & Earn"})]})}),y=()=>f.jsx("div",{className:"md:hidden flex justify-around p-2 bg-brand-dark-300",children:e!=null&&e.isAdmin?f.jsx(kn,{to:"/admin",className:h,children:"Admin"}):f.jsxs(f.Fragment,{children:[f.jsx(kn,{to:"/live",className:h,children:"Live Gigs"}),f.jsx(kn,{to:"/my-gigs",className:h,children:"My Gigs"}),f.jsx(kn,{to:"/create",className:h,children:"Create Gig"}),f.jsx(kn,{to:"/wallet",className:h,children:"Wallet"}),f.jsx(kn,{to:"/refer-and-earn",className:h,children:"Refer"})]})});return f.jsx("header",{className:"bg-brand-dark-200 shadow-md sticky top-0 z-50",children:f.jsxs("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsxs(Op,{to:e!=null&&e.isAdmin?"/admin":"/live",className:"flex-shrink-0 flex items-center gap-2",children:[f.jsx(dD,{className:"h-8 w-auto text-brand-primary"}),f.jsx("span",{className:"font-bold text-xl text-white",children:"delu.live"})]}),e&&(e.isAdmin?f.jsx(p,{}):f.jsx(g,{}))]}),f.jsx("div",{className:"flex items-center",children:e?f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"text-right mr-3 hidden sm:block",children:[f.jsx("div",{className:"text-white text-sm font-medium",children:e.name}),f.jsxs("div",{className:"text-xs text-brand-secondary font-semibold",children:["",e.walletBalance.toFixed(2)]})]}),f.jsx("img",{className:"h-9 w-9 rounded-full object-cover",src:e.profilePhotoUrl,alt:"User"}),f.jsx("button",{onClick:u,className:"ml-4 px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-brand-dark-300 hover:text-white transition-colors","aria-label":"Logout",children:"Logout"})]}):f.jsx(Qe,{onClick:n,children:"Login / Sign Up"})})]}),e&&f.jsx(y,{})]})})},DD=()=>{const r=R.useContext(hn),n=((r==null?void 0:r.offerBarText)||"").split(";;").map(s=>s.trim()).filter(Boolean);return n.length===0?null:f.jsxs("div",{className:"bg-brand-secondary text-brand-dark font-bold overflow-hidden whitespace-nowrap relative py-2",children:[f.jsx("div",{className:"inline-block animate-marquee",children:n.map((s,o)=>f.jsx("span",{className:"mx-8",children:s},o))}),f.jsx("div",{className:"inline-block animate-marquee","aria-hidden":"true",children:n.map((s,o)=>f.jsx("span",{className:"mx-8",children:s},`dup-${o}`))})]})},kD=({status:r})=>{const e={[Fe.OPEN]:"bg-green-500/20 text-green-300",[Fe.ACCEPTED]:"bg-yellow-500/20 text-yellow-300",[Fe.COMPLETED]:"bg-blue-500/20 text-blue-300",[Fe.EXPIRED]:"bg-red-500/20 text-red-300"};return f.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${e[r]||"bg-gray-500/20 text-gray-300"}`,children:r})},mT=({gig:r,onAction:e,actionLabel:n,showRequesterInfo:s=!1,platformFee:o=.2,showOtp:u=!1})=>{const[h,p]=R.useState("");R.useEffect(()=>{if(r.status===Fe.COMPLETED){p("Completed");return}if(r.status===Fe.EXPIRED){p("Expired");return}const b=new Date(r.deliveryDeadline),T=()=>{const M=b.getTime()-new Date().getTime();if(M<=0){r.status!==Fe.ACCEPTED?p("Deadline Passed"):p("Overdue");return}const U=Math.floor(M/(1e3*60*60)),q=Math.floor(M%(1e3*60*60)/(1e3*60));U>0?p(`in ${U}h ${q}m`):p(`in ${q}m`)};T();const x=setInterval(T,3e4);return()=>clearInterval(x)},[r.deliveryDeadline,r.status]);const g=b=>{const T=Math.floor((new Date().getTime()-b.getTime())/1e3);let x=T/31536e3;return x>1?Math.floor(x)+" years ago":(x=T/2592e3,x>1?Math.floor(x)+" months ago":(x=T/86400,x>1?Math.floor(x)+" days ago":(x=T/3600,x>1?Math.floor(x)+" hours ago":(x=T/60,x>1?Math.floor(x)+" minutes ago":Math.floor(T)+" seconds ago"))))},y=e&&n&&(r.status===Fe.OPEN||r.status===Fe.ACCEPTED&&s);return f.jsxs("div",{className:`bg-brand-dark-200 rounded-xl shadow-lg p-5 flex flex-col justify-between transition-transform hover:scale-105 duration-300 ${r.status===Fe.EXPIRED?"opacity-60":""}`,children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("h3",{className:"text-lg font-bold text-white pr-2 flex items-center gap-2",children:[r.isUrgent&&f.jsx(Dg,{className:"h-5 w-5 text-yellow-400 flex-shrink-0"}),r.parcelInfo]}),f.jsx(kD,{status:r.status})]}),f.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Qh,{className:"h-5 w-5 text-brand-primary"}),f.jsxs("span",{children:["From ",f.jsx("strong",{children:r.pickupBlock})," to ",f.jsx("strong",{children:r.destinationBlock})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(hT,{className:"h-5 w-5 text-brand-primary"}),f.jsxs("span",{children:["Size: ",f.jsx("strong",{children:r.size})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(aT,{className:"h-5 w-5 text-brand-primary"}),f.jsxs("span",{children:["Deliver by ",f.jsx("strong",{children:new Date(r.deliveryDeadline).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})," (",h,")"]})]}),r.note&&s&&f.jsxs("div",{className:"flex items-start space-x-2 pt-2 border-t border-brand-dark-300",children:[f.jsx(cT,{className:"h-5 w-5 text-gray-400 mt-1 flex-shrink-0"}),f.jsxs("p",{className:"text-gray-400",children:["Note: ",f.jsx("span",{className:"text-gray-300",children:r.note})]})]}),r.status!==Fe.OPEN&&r.deliverer&&f.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t border-brand-dark-300",children:[f.jsx(Ng,{className:"h-5 w-5 text-brand-secondary"}),f.jsxs("span",{className:"font-semibold",children:[r.status===Fe.ACCEPTED?"Deliverer:":"Delivered by:"," ",f.jsx("strong",{children:r.deliverer.name})]})]}),u&&f.jsxs("div",{className:"space-y-2 pt-2 border-t border-brand-dark-300",children:[f.jsx("h4",{className:"text-sm font-semibold text-gray-400",children:"Collection OTP"}),f.jsx("p",{className:"text-2xl font-bold tracking-widest text-brand-secondary bg-brand-dark p-2 mt-1 rounded-md text-center",children:r.otp})]}),r.status===Fe.COMPLETED&&f.jsxs("div",{className:"flex items-center space-x-2 text-brand-secondary",children:[f.jsx(yD,{className:"h-5 w-5"}),f.jsx("span",{className:"font-semibold",children:"Completed"})]})]})]}),f.jsxs("div",{className:"mt-5",children:[r.status!==Fe.EXPIRED&&f.jsxs("div",{className:"flex items-center justify-between bg-brand-dark-300/50 p-3 rounded-lg mb-4",children:[f.jsx("span",{className:"text-gray-400 font-medium",children:"Payout"}),f.jsxs("div",{className:"flex items-center space-x-1 text-brand-secondary text-xl font-bold",children:[f.jsx(Ou,{className:"h-5 w-5"}),f.jsx("span",{children:(r.price*(1-o)).toFixed(0)})]})]}),y&&f.jsx(Qe,{onClick:e,fullWidth:!0,children:n}),f.jsxs("p",{className:"text-xs text-gray-500 text-center mt-3",children:["Posted ",g(r.postedAt),s&&` by ${r.requester.name}`]})]})]})},Mn=({isOpen:r,onClose:e,title:n,children:s})=>(R.useEffect(()=>{const o=u=>{u.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e]),r?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",onClick:e,children:f.jsxs("div",{className:"bg-brand-dark-200 rounded-xl shadow-2xl w-full max-w-md mx-auto p-6 relative",onClick:o=>o.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-bold text-white",children:n}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:f.jsx(pD,{className:"h-6 w-6"})})]}),s]})}):null),xp=({onCapture:r,trigger:e})=>{const[n,s]=R.useState(!1),[o,u]=R.useState(null),h=R.useRef(null),p=R.useRef(null),g=R.useRef(null),y=R.useCallback(async()=>{u(null);try{const U=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});g.current=U,h.current&&(h.current.srcObject=U)}catch(U){console.error("Error accessing camera:",U),u("Could not access camera. Please check permissions.")}},[]),b=R.useCallback(()=>{g.current&&(g.current.getTracks().forEach(U=>U.stop()),g.current=null)},[]),T=()=>{s(!0),y()},x=()=>{s(!1),b()},M=()=>{if(h.current&&p.current){const U=h.current,q=p.current;q.width=U.videoWidth,q.height=U.videoHeight;const O=q.getContext("2d");if(O){O.drawImage(U,0,0,q.width,q.height);const W=q.toDataURL("image/jpeg");r(W),x()}else u("Could not process image.")}};return f.jsxs(f.Fragment,{children:[f.jsx("div",{onClick:T,children:e}),f.jsx(Mn,{isOpen:n,onClose:x,title:"Take Photo",children:f.jsxs("div",{className:"space-y-4",children:[o&&f.jsx("p",{className:"text-red-400 bg-red-900/50 p-3 rounded-md",children:o}),f.jsx("div",{className:"bg-brand-dark rounded-lg overflow-hidden",children:f.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-auto"})}),f.jsx("canvas",{ref:p,className:"hidden"}),f.jsx(Qe,{onClick:M,disabled:!!o,fullWidth:!0,children:"Capture"})]})})]})},OD=({isOpen:r,onClose:e,onConfirm:n,gig:s})=>{const[o,u]=R.useState("selfie"),[h,p]=R.useState(null),[g,y]=R.useState(60),b=R.useCallback(()=>{u("selfie"),p(null),y(60),e()},[e]);R.useEffect(()=>{r||b()},[r,b]),R.useEffect(()=>{let q=null;return o==="confirm"&&g>0?q=window.setInterval(()=>{y(O=>O-1)},1e3):g===0&&b(),()=>{q&&window.clearInterval(q)}},[o,g,b]);const T=q=>{p(q),u("confirm")},x=()=>{h&&n(h)},M=()=>f.jsxs("div",{className:"space-y-4 text-white",children:[f.jsx("p",{className:"text-gray-300",children:"Please take a quick selfie to verify your identity before accepting the gig."}),f.jsx("div",{className:"flex flex-col items-center space-y-2",children:f.jsx(xp,{onCapture:T,trigger:f.jsx("button",{type:"button",className:"w-full h-64 rounded-lg bg-brand-dark-300 flex items-center justify-center text-gray-400 hover:bg-brand-dark-300/80 transition-colors",children:f.jsxs("div",{className:"text-center",children:[f.jsx(lT,{className:"h-16 w-16 mx-auto"}),f.jsx("p",{className:"mt-2 font-semibold",children:"Tap to open camera"})]})})})})]}),U=()=>f.jsxs("div",{className:"space-y-4 text-white text-center",children:[f.jsx("img",{src:h,alt:"Selfie Preview",className:"w-48 h-48 rounded-lg object-cover mx-auto mb-4 border-2 border-brand-primary"}),f.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 text-yellow-300 p-4 rounded-lg text-sm",children:[f.jsx("p",{className:"font-bold",children:"Important: Responsibility Notice"}),f.jsx("p",{className:"mt-2",children:"Once accepted, this gig must be delivered on time. You are solely responsible for the safe and timely delivery of the parcel. Cancellations are not permitted after this step."}),s.isUrgent&&f.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 font-bold text-yellow-200",children:[f.jsx(Dg,{className:"h-5 w-5"}),f.jsx("span",{children:"This is an URGENT delivery and requires immediate action!"})]})]}),f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[f.jsx(Qe,{onClick:b,variant:"secondary",children:"Cancel"}),f.jsx(Qe,{onClick:x,children:`Accept (${g}s)`})]})]});return f.jsxs(Mn,{isOpen:r,onClose:b,title:o==="selfie"?"Confirm Your Identity":"Final Confirmation",children:[o==="selfie"&&f.jsx(M,{}),o==="confirm"&&f.jsx(U,{})]})},jD=()=>{const r=R.useContext(hn),[e,n]=R.useState(null),[s,o]=R.useState(null),[u,h]=R.useState(null);if(!r)return f.jsx("div",{children:"Loading..."});const{gigs:p,currentUser:g,updateGig:y,openAuthModal:b,platformFee:T}=r,x=p.filter(q=>q.status===Fe.OPEN&&q.requester.id!==(g==null?void 0:g.id)),M=q=>{if(!g){b();return}const O=new Date().getTime(),W=new Date(g.createdAt).getTime(),Z=3600*1e3;if(O-W<Z){const re=Z-(O-W),me=Math.ceil(re/(60*1e3));h(`Your account is new. You can start accepting gigs in about ${me} minutes.`);return}o(q)},U=q=>{if(!s||!g||!q)return;const O={id:g.id,name:g.name,phone:g.phone,email:g.email},W={status:Fe.ACCEPTED,deliverer:O,acceptanceSelfieUrl:q};y(s.id,W),n({...s,...W}),o(null)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-white",children:"Live Gigs"}),f.jsx("p",{className:"text-gray-400 mt-1",children:"Accept a gig to earn money by delivering parcels."})]}),x.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(q=>f.jsx(mT,{gig:q,onAction:()=>M(q),actionLabel:"Accept Gig",platformFee:T},q.id))}):f.jsxs("div",{className:"text-center py-16 bg-brand-dark-200 rounded-xl",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"No Live Gigs Available"}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Check back later or post your own gig!"})]}),u&&f.jsx(Mn,{isOpen:!!u,onClose:()=>h(null),title:"Account Restriction",children:f.jsxs("div",{className:"text-white text-center space-y-4",children:[f.jsx("p",{children:u}),f.jsx(Qe,{onClick:()=>h(null),children:"OK"})]})}),s&&f.jsx(OD,{isOpen:!!s,onClose:()=>o(null),onConfirm:U,gig:s}),e&&f.jsx(Mn,{isOpen:!!e,onClose:()=>n(null),title:"Gig Accepted!",children:f.jsxs("div",{className:"space-y-4 text-white",children:[f.jsx("p",{className:"text-gray-300",children:"You are now assigned to deliver this parcel. Here are the details:"}),f.jsxs("div",{className:"bg-brand-dark-300 p-4 rounded-lg space-y-3",children:[f.jsx("p",{className:"text-lg font-bold",children:e.parcelInfo}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-semibold text-gray-400",children:"Requester Details"}),f.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[f.jsx(Ng,{className:"h-5 w-5 text-brand-primary"}),f.jsx("span",{children:e.requester.name})]}),f.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[f.jsx(oT,{className:"h-5 w-5 text-brand-primary"}),f.jsx("span",{children:e.requester.phone})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-semibold text-gray-400",children:"Collection OTP"}),f.jsx("p",{className:"text-2xl font-bold tracking-widest text-brand-secondary bg-brand-dark-200 p-2 mt-1 rounded-md text-center",children:e.otp}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Show this OTP at the pickup location to collect the parcel."})]})]}),f.jsx(Qe,{onClick:()=>n(null),fullWidth:!0,children:"Got it!"})]})})]})},MD=({isOpen:r,onClose:e,onSubmit:n,targetName:s})=>{const[o,u]=R.useState(0),[h,p]=R.useState(0),[g,y]=R.useState(""),b=()=>{o>0&&n(o,g)},T=()=>{u(0),p(0),y(""),e()};return f.jsx(Mn,{isOpen:r,onClose:T,title:`Rate your experience with ${s}`,children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-gray-400 mb-4",children:"How was your experience?"}),f.jsx("div",{className:"flex justify-center space-x-2",children:[1,2,3,4,5].map(x=>f.jsx("button",{onMouseEnter:()=>p(x),onMouseLeave:()=>p(0),onClick:()=>u(x),"aria-label":`Rate ${x} stars`,children:f.jsx(gD,{className:`h-8 w-8 transition-colors ${(h||o)>=x?"text-yellow-400":"text-gray-600"}`})},x))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-300 mb-2",children:"Additional Comments (Optional)"}),f.jsx("textarea",{id:"comments",rows:3,value:g,onChange:x=>y(x.target.value),placeholder:"Tell us more...",className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),f.jsx(Qe,{onClick:b,disabled:o===0,fullWidth:!0,children:"Submit Feedback"})]})})},PD=()=>{var q;const[r,e]=R.useState(0),[n,s]=R.useState(null),o=R.useContext(hn);if(!o)return f.jsx("div",{children:"Loading..."});const{gigs:u,currentUser:h,updateGig:p,platformFee:g}=o;if(!h)return null;const y=u.filter(O=>O.requester.id===h.id),b=u.filter(O=>{var W;return((W=O.deliverer)==null?void 0:W.id)===h.id}),T=(O,W)=>{const Z=u.find(re=>re.id===O);Z&&Z.otp===W?p(O,{status:Fe.COMPLETED}):alert("Incorrect OTP!")},x=({gig:O})=>{const[W,Z]=R.useState("");return f.jsxs("div",{className:"mt-2 flex gap-2",children:[f.jsx("input",{type:"text",value:W,onChange:re=>Z(re.target.value),placeholder:"Enter OTP from deliverer",className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-2 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"}),f.jsx(Qe,{onClick:()=>T(O.id,W),children:"Confirm"})]})},M=(O,W)=>{if(!n)return;const{gig:Z,target:re}=n;let me={};re==="deliverer"?me={delivererRating:O,delivererComments:W}:me={requesterRating:O,requesterComments:W},p(Z.id,me),s(null)},U=(O,W)=>{var oe;const Z=!W&&O.status===Fe.ACCEPTED,re=W&&O.status===Fe.COMPLETED&&!O.delivererRating,me=!W&&O.status===Fe.COMPLETED&&!O.requesterRating;return f.jsxs("div",{children:[f.jsx(mT,{gig:O,showRequesterInfo:!0,platformFee:g,showOtp:Z}),W&&O.status===Fe.ACCEPTED&&f.jsx(x,{gig:O}),re&&f.jsxs(Qe,{fullWidth:!0,className:"mt-2",variant:"secondary",onClick:()=>s({gig:O,target:"deliverer"}),children:["Rate ",((oe=O.deliverer)==null?void 0:oe.name)||"Deliverer"]}),me&&f.jsxs(Qe,{fullWidth:!0,className:"mt-2",variant:"secondary",onClick:()=>s({gig:O,target:"requester"}),children:["Rate ",O.requester.name]})]},O.id)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Gigs"}),f.jsx("p",{className:"text-gray-400 mt-1",children:"Track your delivery requests and jobs."})]}),f.jsxs("div",{className:"flex space-x-1 bg-brand-dark-200 p-1 rounded-lg",children:[f.jsx("button",{onClick:()=>e(0),className:`w-full p-2 rounded-md font-semibold transition-colors ${r===0?"bg-brand-primary text-white":"text-gray-300 hover:bg-brand-dark-300"}`,children:"Posted by Me"}),f.jsx("button",{onClick:()=>e(1),className:`w-full p-2 rounded-md font-semibold transition-colors ${r===1?"bg-brand-primary text-white":"text-gray-300 hover:bg-brand-dark-300"}`,children:"Accepted by Me"})]}),f.jsxs("div",{children:[r===0&&(y.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(O=>U(O,!0))}):f.jsx("p",{className:"text-center text-gray-400 py-8",children:"You haven't posted any gigs yet."})),r===1&&(b.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(O=>U(O,!1))}):f.jsx("p",{className:"text-center text-gray-400 py-8",children:"You haven't accepted any gigs yet."}))]}),n&&f.jsx(MD,{isOpen:!!n,onClose:()=>s(null),onSubmit:M,targetName:n.target==="deliverer"?((q=n.gig.deliverer)==null?void 0:q.name)||"the deliverer":n.gig.requester.name})]})},VD=()=>{var j,L;const r=R.useContext(hn),e=pa(),[n,s]=R.useState(""),[o,u]=R.useState(""),[h,p]=R.useState(((j=r==null?void 0:r.currentUser)==null?void 0:j.block)||""),[g,y]=R.useState(""),[b,T]=R.useState(""),[x,M]=R.useState(""),[U,q]=R.useState("Medium"),[O,W]=R.useState(!1),[Z,re]=R.useState(""),me=typeof g=="number"&&g>0?g:0,oe=O?me*.25:0,ye=me+oe,D=(ye*(1-((r==null?void 0:r.platformFee)||.2))).toFixed(2),S=(ye*((r==null?void 0:r.platformFee)||.2)).toFixed(2);R.useEffect(()=>{if(O){const P=new Date;P.setMinutes(P.getMinutes()+15);const N=P.getHours().toString().padStart(2,"0"),ut=P.getMinutes().toString().padStart(2,"0");T(`${N}:${ut}`)}},[O]);const C=P=>{if(P.preventDefault(),re(""),!n||!o||!h||!g||g<=0||!b){re("Please fill out all fields with valid values.");return}if(!r||!r.currentUser){re("You must be logged in to create a gig.");return}if(r.currentUser.walletBalance<ye){re(`Insufficient wallet balance. Your current balance is ${r.currentUser.walletBalance.toFixed(2)}. Required: ${ye.toFixed(2)}`);return}const[N,ut]=b.split(":").map(Number),He=new Date;if(He.setHours(N,ut,0,0),He.getTime()<Date.now()&&He.setDate(He.getDate()+1),O){const he=new Date(Date.now()+18e5);if(He.getTime()>he.getTime()){re("Urgent deliveries must be scheduled for within the next 30 minutes.");return}}r.addGig({parcelInfo:n,pickupBlock:o,destinationBlock:h,price:ye,deliveryDeadline:He,note:x,size:U,isUrgent:O})?e("/my-gigs"):re("There was an error creating the gig. Please try again.")};return f.jsxs("div",{className:"max-w-2xl mx-auto bg-brand-dark-200 p-4 md:p-8 rounded-xl shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create a New Gig"}),f.jsx("p",{className:"text-gray-400",children:"Need a parcel delivered? Post a job for others to accept."})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm text-gray-400",children:"Your Balance"}),f.jsxs("div",{className:"text-lg font-bold text-brand-secondary",children:["",(L=r==null?void 0:r.currentUser)==null?void 0:L.walletBalance.toFixed(2)]})]})]}),Z&&f.jsx("div",{className:"bg-red-500/20 text-red-300 p-3 rounded-lg text-center mb-6",children:Z}),f.jsxs("form",{onSubmit:C,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"parcelInfo",className:"block text-sm font-medium text-gray-300 mb-2",children:"Parcel Information"}),f.jsxs("div",{className:"relative",children:[f.jsx(fD,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{id:"parcelInfo",type:"text",placeholder:"e.g., Amazon Box, Swiggy Food",value:n,onChange:P=>s(P.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"parcelSize",className:"block text-sm font-medium text-gray-300 mb-2",children:"Parcel Size"}),f.jsxs("div",{className:"relative",children:[f.jsx(hT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsxs("select",{id:"parcelSize",value:U,onChange:P=>q(P.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary appearance-none",children:[f.jsx("option",{value:"Small",children:"Small (e.g., Letter, Phone)"}),f.jsx("option",{value:"Medium",children:"Medium (e.g., Shoebox)"}),f.jsx("option",{value:"Large",children:"Large (e.g., Backpack)"})]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"pickupBlock",className:"block text-sm font-medium text-gray-300 mb-2",children:"Pickup Point / Block"}),f.jsxs("div",{className:"relative",children:[f.jsx(Qh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{id:"pickupBlock",type:"text",placeholder:"e.g., Main Gate, Library",value:o,onChange:P=>u(P.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"destinationBlock",className:"block text-sm font-medium text-gray-300 mb-2",children:"Destination Block"}),f.jsxs("div",{className:"relative",children:[f.jsx(Qh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{id:"destinationBlock",type:"text",placeholder:"Your Hostel Block Number",value:h,onChange:P=>p(P.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-300 mb-2",children:"Note (Optional)"}),f.jsxs("div",{className:"relative",children:[f.jsx(cT,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),f.jsx("textarea",{id:"note",placeholder:"e.g., It's fragile, please handle with care.",value:x,onChange:P=>M(P.target.value),rows:2,className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-300 mb-2",children:"Offer Price (INR)"}),f.jsxs("div",{className:"relative",children:[f.jsx(Ou,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{id:"price",type:"number",placeholder:"e.g., 50",value:g,onChange:P=>y(P.target.value===""?"":Number(P.target.value)),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"deliveryTime",className:"block text-sm font-medium text-gray-300 mb-2",children:"Deliver By (Time)"}),f.jsxs("div",{className:"relative",children:[f.jsx(aT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{id:"deliveryTime",type:"time",value:b,onChange:P=>T(P.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]})]}),f.jsxs("div",{className:"bg-brand-dark-300/50 p-4 rounded-lg space-y-3",children:[f.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Dg,{className:"h-6 w-6 text-yellow-400 mr-2"}),f.jsx("span",{className:"font-semibold text-white",children:"Mark as Urgent Parcel (+25% fee)"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"checkbox",className:"sr-only",checked:O,onChange:P=>W(P.target.checked)}),f.jsx("div",{className:"block bg-brand-dark w-14 h-8 rounded-full"}),f.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${O?"translate-x-full bg-brand-primary":""}`})]})]}),f.jsx("p",{className:"text-xs text-yellow-300/80 text-center",children:"Urgent parcels are delivered ASAP (within 30 mins) for a surcharge."}),f.jsxs("div",{className:"border-t border-brand-dark-300 pt-3 space-y-1 text-sm",children:[f.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[f.jsx("span",{children:"Base Price:"}),f.jsxs("span",{className:"font-semibold",children:["",me.toFixed(2)]})]}),O&&f.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[f.jsx("span",{children:"Urgent Fee:"}),f.jsxs("span",{className:"font-semibold",children:["",oe.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between items-center text-white text-base pt-1",children:[f.jsx("span",{className:"font-bold",children:"Total Cost:"}),f.jsxs("span",{className:"font-bold",children:["",ye.toFixed(2)]})]})]})]}),f.jsxs("div",{className:"bg-brand-dark-300/50 p-4 rounded-lg text-sm",children:[f.jsxs("div",{className:"flex justify-between items-center text-gray-300",children:[f.jsxs("span",{children:["Deliverer's Earnings (",(1-((r==null?void 0:r.platformFee)||.2))*100,"%):"]}),f.jsxs("span",{className:"font-semibold text-brand-secondary",children:["",D]})]}),f.jsxs("div",{className:"flex justify-between items-center text-gray-400 mt-1",children:[f.jsxs("span",{children:["Platform Fee (",((r==null?void 0:r.platformFee)||.2)*100,"%):"]}),f.jsxs("span",{className:"font-semibold",children:["",S]})]})]}),f.jsxs(Qe,{type:"submit",fullWidth:!0,children:["Post Gig for ",ye.toFixed(2)]})]})]})},LD=({onSwitch:r})=>{const e=R.useContext(hn),n=pa(),[s,o]=R.useState(""),[u,h]=R.useState(""),[p,g]=R.useState(""),[y,b]=R.useState(!1),T=async x=>{if(x.preventDefault(),g(""),b(!0),!e){g("Application context not available."),b(!1);return}try{const M=await e.login(s,u);e.closeAuthModal(),M.isAdmin?n("/admin",{replace:!0}):n("/my-gigs",{replace:!0})}catch(M){g(M.message||"Failed to log in. Please check your credentials.")}finally{b(!1)}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-white",children:"Log In"}),f.jsx("p",{className:"text-gray-400 mt-2",children:"Welcome back to delu.live."}),f.jsxs("div",{className:"text-xs text-gray-500 mt-4 bg-brand-dark-300 p-2 rounded-lg",children:[f.jsxs("p",{children:[f.jsx("strong",{className:"font-semibold text-gray-400",children:"Admin:"})," admin@delu.live"]}),f.jsxs("p",{children:[f.jsx("strong",{className:"font-semibold text-gray-400",children:"User:"})," user@delu.live"]}),f.jsx("p",{children:"(Password can be anything for demo)"})]})]}),p&&f.jsx("div",{className:"bg-red-500/20 text-red-300 p-3 rounded-lg text-center mt-4",children:p}),f.jsxs("form",{onSubmit:T,className:"space-y-6 mt-6",children:[f.jsxs("div",{className:"relative",children:[f.jsx(fT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"email",placeholder:"Email Address",value:s,onChange:x=>o(x.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary",autoComplete:"email",required:!0})]}),f.jsxs("div",{className:"relative",children:[f.jsx(uT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"password",placeholder:"Password",value:u,onChange:x=>h(x.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary",autoComplete:"current-password",required:!0})]}),f.jsx(Qe,{type:"submit",fullWidth:!0,disabled:y,children:y?"Logging in...":"Log In"})]}),f.jsxs("p",{className:"text-center text-sm text-gray-400",children:["Don't have an account?"," ",f.jsx("button",{onClick:r,className:"font-medium text-brand-primary hover:underline focus:outline-none",children:"Sign Up"})]})]})},UD=({onSwitch:r})=>{const e=R.useContext(hn),[n,s]=R.useState(""),[o,u]=R.useState(""),[h,p]=R.useState(""),[g,y]=R.useState(""),[b,T]=R.useState(""),[x,M]=R.useState(null),[U,q]=R.useState(null),[O,W]=R.useState(""),[Z,re]=R.useState(""),[me,oe]=R.useState(!1),ye=R.useCallback(async D=>{if(D.preventDefault(),!n||!o||!g||!b||!x||!U||!h){re("All fields, including email, password and photos, are required.");return}re(""),oe(!0);try{await(e==null?void 0:e.signup({name:n,phone:o,email:h,block:b,profilePhotoUrl:x,collegeIdUrl:U},g,O)),e==null||e.closeAuthModal()}catch(S){re(S.message||"An error occurred during signup.")}finally{oe(!1)}},[n,o,g,b,x,U,h,O,e]);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-white",children:"Join delu.live"}),f.jsx("p",{className:"text-gray-400 mt-2",children:"Let's get you set up to send and receive parcels."})]}),Z&&f.jsx("div",{className:"bg-red-500/20 text-red-300 p-3 rounded-lg text-center",children:Z}),f.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Ng,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Full Name",value:n,onChange:D=>s(D.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(oT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"tel",placeholder:"Phone Number",value:o,onChange:D=>u(D.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Qh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Hostel Block",value:b,onChange:D=>T(D.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(fT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"email",placeholder:"Email Address",value:h,onChange:D=>p(D.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary",autoComplete:"email",required:!0})]}),f.jsxs("div",{className:"relative",children:[f.jsx(uT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"password",placeholder:"Password (min. 6 characters)",value:g,onChange:D=>y(D.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary",autoComplete:"new-password",required:!0})]}),f.jsxs("div",{className:"relative",children:[f.jsx(dT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Referral Code (Optional)",value:O,onChange:D=>W(D.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-center",children:[f.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[f.jsx("h3",{className:"font-semibold text-gray-300",children:"Profile Photo"}),f.jsx(xp,{onCapture:M,trigger:f.jsx("button",{type:"button",className:"w-32 h-32 rounded-full bg-brand-dark-300 flex items-center justify-center text-gray-400 hover:bg-brand-dark-300/80 transition-colors",children:x?f.jsx("img",{src:x,alt:"Profile Preview",className:"w-full h-full rounded-full object-cover"}):f.jsx(lT,{className:"h-12 w-12"})})})]}),f.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[f.jsx("h3",{className:"font-semibold text-gray-300",children:"College ID"}),f.jsx(xp,{onCapture:q,trigger:f.jsx("button",{type:"button",className:"w-48 h-32 rounded-lg bg-brand-dark-300 flex items-center justify-center text-gray-400 hover:bg-brand-dark-300/80 transition-colors",children:U?f.jsx("img",{src:U,alt:"ID Preview",className:"w-full h-full rounded-lg object-cover"}):f.jsx(mD,{className:"h-12 w-12"})})})]})]}),f.jsx(Qe,{type:"submit",fullWidth:!0,disabled:me,children:me?"Creating Account...":"Create Account"})]}),f.jsxs("p",{className:"text-center text-sm text-gray-400",children:["Already have an account?"," ",f.jsx("button",{onClick:r,className:"font-medium text-brand-primary hover:underline focus:outline-none",children:"Log In"})]})]})},BD=()=>{const r=R.useContext(hn),[e,n]=R.useState(!0);if(!r)return null;const{isAuthModalOpen:s,closeAuthModal:o}=r,u=()=>{n(!0),o()};return f.jsx(Mn,{isOpen:s,onClose:u,title:"",children:f.jsx("div",{className:"space-y-6",children:e?f.jsx(LD,{onSwitch:()=>n(!1)}):f.jsx(UD,{onSwitch:()=>n(!0)})})})},zD=({isOpen:r,onClose:e})=>{const n=R.useContext(hn),[s,o]=R.useState(""),[u,h]=R.useState(""),[p,g]=R.useState(""),[y,b]=R.useState(null),[T,x]=R.useState(""),[M,U]=R.useState(!1),[q,O]=R.useState(""),W=R.useCallback(()=>{o(""),h(""),g(""),b(null),x(""),O(""),U(!1)},[]),Z=R.useCallback(()=>{W(),e()},[W,e]);R.useEffect(()=>{if(M){const oe=setTimeout(()=>{Z()},4e3);return()=>clearTimeout(oe)}},[M,Z]);const re=oe=>{var S;const ye=(S=oe.target.files)==null?void 0:S[0];if(!ye)return;if(!ye.type.startsWith("image/")){O("Please upload a valid image file (PNG, JPG, etc.).");return}const D=new FileReader;D.onloadend=()=>{b(D.result),x(ye.name),O("")},D.onerror=()=>{O("Failed to read file.")},D.readAsDataURL(ye)},me=async oe=>{if(oe.preventDefault(),O(""),!s||s<=0||!u.trim()||!y){O("Please fill out amount, UTR, and upload a payment screenshot.");return}if(n)try{await n.requestWalletLoad({amount:Number(s),utr:u.trim(),screenshotUrl:y},p.trim()),U(!0)}catch{O("An error occurred while submitting the request.")}else O("Context is not available. Please try again later.")};return M?f.jsx(Mn,{isOpen:r,onClose:Z,title:"Request Submitted",children:f.jsxs("div",{className:"text-center p-6 space-y-4",children:[f.jsx("h3",{className:"text-2xl font-bold text-green-400",children:"Request Submitted!"}),f.jsx("p",{className:"text-gray-300",children:"Your wallet load request has been submitted for review. It will be processed shortly."}),f.jsx(Qe,{onClick:Z,children:"Close"})]})}):f.jsx(Mn,{isOpen:r,onClose:Z,title:"Load Money into Wallet",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center bg-white p-4 rounded-lg",children:[f.jsx("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=upi://pay?pa=delu@live&pn=DeluLive",alt:"UPI QR Code",className:"mx-auto w-40 h-40 object-contain rounded-md"}),f.jsx("p",{className:"mt-2 text-sm text-brand-dark font-semibold",children:"Scan to pay using any UPI app"}),f.jsxs("p",{className:"mt-1 text-xs text-brand-dark-300",children:["UPI ID: ",f.jsx("span",{className:"font-mono font-bold",children:"delu@live"})]})]}),q&&f.jsx("div",{className:"bg-red-500/20 text-red-300 p-3 rounded-lg text-center",children:q}),f.jsxs("form",{onSubmit:me,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount (INR)"}),f.jsxs("div",{className:"relative",children:[f.jsx(Ou,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{id:"amount",type:"number",placeholder:"e.g., 200",value:s,onChange:oe=>o(oe.target.value===""?"":Number(oe.target.value)),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"utr",className:"block text-sm font-medium text-gray-300 mb-2",children:"UTR / Transaction ID"}),f.jsx("input",{id:"utr",type:"text",placeholder:"Enter the 12-digit UTR from your app",value:u,onChange:oe=>h(oe.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"screenshot",className:"block text-sm font-medium text-gray-300 mb-2",children:"Payment Screenshot"}),f.jsxs("label",{className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary flex items-center justify-center cursor-pointer hover:bg-brand-dark-300/80",children:[f.jsx("span",{children:T||"Click to upload screenshot"}),f.jsx("input",{id:"screenshot",type:"file",accept:"image/*",onChange:re,className:"hidden"})]}),y&&f.jsx("img",{src:y,alt:"Screenshot preview",className:"mt-2 rounded-lg max-h-40 mx-auto"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"coupon",className:"block text-sm font-medium text-gray-300 mb-2",children:"Coupon Code (Optional)"}),f.jsx("input",{id:"coupon",type:"text",placeholder:"e.g., WELCOME10",value:p,onChange:oe=>g(oe.target.value.toUpperCase()),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),f.jsx(Qe,{type:"submit",fullWidth:!0,children:"Submit Request"})]})]})})},qD=({isOpen:r,onClose:e})=>{const n=R.useContext(hn),[s,o]=R.useState(""),[u,h]=R.useState(""),[p,g]=R.useState(""),[y,b]=R.useState(!1),T=n==null?void 0:n.currentUser,x=(T==null?void 0:T.walletBalance)||0,M=q=>{if(q.preventDefault(),g(""),!s||!u){g("Please fill out all fields.");return}if(s<100){g("Minimum withdrawal amount is 100.");return}if(s>x){g("Withdrawal amount cannot exceed your wallet balance.");return}(n==null?void 0:n.requestWithdrawal(s,u))?(b(!0),setTimeout(()=>{U()},4e3)):g("An error occurred. Please try again.")},U=()=>{o(""),h(""),g(""),b(!1),e()};return y?f.jsx(Mn,{isOpen:r,onClose:U,title:"Request Submitted",children:f.jsxs("div",{className:"text-center p-6 space-y-4",children:[f.jsx("h3",{className:"text-2xl font-bold text-green-400",children:"Thank You!"}),f.jsx("p",{className:"text-gray-300",children:"Your withdrawal request has been submitted. It will be processed within 24-48 hours."}),f.jsx(Qe,{onClick:U,children:"Close"})]})}):f.jsx(Mn,{isOpen:r,onClose:U,title:"Withdraw Money",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-brand-dark-300 p-4 rounded-lg",children:[f.jsx("p",{className:"text-sm text-gray-400",children:"Current Balance"}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:["",x.toFixed(2)]})]}),p&&f.jsx("div",{className:"bg-red-500/20 text-red-300 p-3 rounded-lg text-center",children:p}),f.jsxs("form",{onSubmit:M,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount to Withdraw (INR)"}),f.jsxs("div",{className:"relative",children:[f.jsx(Ou,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"number",placeholder:"Min. 100",value:s,onChange:q=>o(q.target.value===""?"":Number(q.target.value)),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 pl-10 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your UPI ID"}),f.jsx("input",{type:"text",placeholder:"e.g., yourname@okbank",value:u,onChange:q=>h(q.target.value),className:"w-full bg-brand-dark-300 border border-brand-dark-300 rounded-lg p-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),f.jsx(Qe,{type:"submit",fullWidth:!0,children:"Request Withdrawal"})]})]})})},FD=({transaction:r})=>{const e=["CREDIT","TOPUP","PAYOUT"].includes(r.type),n=e?"text-green-400":"text-red-400",s=e?"+":"-";return f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-dark-300",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-white",children:r.description}),f.jsx("p",{className:"text-xs text-gray-500",children:r.timestamp.toLocaleString()})]}),f.jsxs("p",{className:`font-bold text-lg ${n}`,children:[s," ",r.amount.toFixed(2)]})]})},HD=()=>{const r=R.useContext(hn),[e,n]=R.useState(!1),[s,o]=R.useState(!1);if(!r||!r.currentUser)return f.jsx("div",{children:"Loading..."});const{currentUser:u,transactions:h}=r,p=h.filter(y=>y.userId===u.id),g=u.walletBalance>=100;return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Wallet"}),f.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your balance and view your transaction history."})]}),f.jsxs("div",{className:"bg-brand-dark-200 p-6 md:p-8 rounded-xl flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400",children:"Current Balance"}),f.jsxs("p",{className:"text-5xl font-bold text-brand-secondary flex items-center",children:[f.jsx(Ou,{className:"h-10 w-10 mr-2"}),u.walletBalance.toFixed(2)]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Qe,{onClick:()=>o(!0),variant:"secondary",disabled:!g,title:g?"Withdraw funds from your wallet":"Minimum balance of 100 required to withdraw",children:"Withdraw"}),f.jsx(Qe,{onClick:()=>n(!0),children:"Load Money"})]})]}),f.jsxs("div",{className:"bg-brand-dark-200 rounded-xl",children:[f.jsx("h2",{className:"text-xl font-bold text-white p-4 border-b border-brand-dark-300",children:"Transaction History"}),p.length>0?f.jsx("div",{className:"divide-y divide-brand-dark-300",children:p.map(y=>f.jsx(FD,{transaction:y},y.id))}):f.jsx("p",{className:"text-center text-gray-400 p-8",children:"No transactions yet."})]}),f.jsx(zD,{isOpen:e,onClose:()=>n(!1)}),f.jsx(qD,{isOpen:s,onClose:()=>o(!1)})]})},GD=()=>{var te;const r=R.useContext(hn),e=pa(),[n,s]=R.useState("analytics"),[o,u]=R.useState(""),[h,p]=R.useState(null),[g,y]=R.useState({key:"walletBalance",direction:"descending"});if(!r)return f.jsx("div",{className:"bg-brand-dark text-white p-8",children:"Loading context..."});const{users:b,gigs:T,walletLoadRequests:x,withdrawalRequests:M,coupons:U,platformFee:q,offerBarText:O,deleteUser:W,deleteGig:Z,addCoupon:re,updateCoupon:me,deleteCoupon:oe,approveWalletLoad:ye,rejectWalletLoad:D,approveWithdrawal:S,rejectWithdrawal:C,setPlatformFee:j,setOfferBarText:L,logout:P}=r,N=()=>{P&&P(),e("/live",{replace:!0})},ut=()=>{const Q=R.useMemo(()=>{const le=b.filter(ce=>!ce.isAdmin),be=T.filter(ce=>ce.status===Fe.COMPLETED);return{totalUsers:le.length,totalGigs:T.length,gigsCompleted:be.length,gigsInProgress:T.filter(ce=>ce.status===Fe.ACCEPTED).length,totalRevenue:be.reduce((ce,Pe)=>ce+Pe.price*q,0),totalValueTransacted:be.reduce((ce,Pe)=>ce+Pe.price,0),pendingWalletRequests:x.filter(ce=>ce.status===ia.PENDING).length}},[b,T,x,q]),z=({title:le,value:be,isCurrency:ce})=>f.jsxs("div",{className:"bg-brand-dark-300 p-6 rounded-xl",children:[f.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:le}),f.jsxs("p",{className:"text-3xl font-bold text-white mt-2",children:[ce&&"",be]})]});return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Platform Analytics"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[f.jsx(z,{title:"Total Users",value:Q.totalUsers}),f.jsx(z,{title:"Platform Revenue",value:Q.totalRevenue.toFixed(2),isCurrency:!0}),f.jsx(z,{title:"Total Gigs",value:Q.totalGigs}),f.jsx(z,{title:"Gigs Completed",value:Q.gigsCompleted}),f.jsx(z,{title:"Gigs In Progress",value:Q.gigsInProgress}),f.jsx(z,{title:"Total Value Transacted",value:Q.totalValueTransacted.toFixed(2),isCurrency:!0}),f.jsx(z,{title:"Pending Wallet Loads",value:Q.pendingWalletRequests})]})]})},He=()=>{const Q=x.filter(z=>z.status===ia.PENDING);return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Pending Wallet Requests"}),f.jsxs("div",{className:"bg-brand-dark-300 rounded-xl overflow-x-auto",children:[f.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[f.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-brand-dark-200",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3",children:"User"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Amount"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"UTR"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Coupon"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Screenshot"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),f.jsx("tbody",{children:Q.map(z=>f.jsxs("tr",{className:"border-b border-brand-dark-200",children:[f.jsx("td",{className:"px-6 py-4 font-medium text-white",children:z.userName}),f.jsxs("td",{className:"px-6 py-4",children:["",z.amount.toFixed(2)]}),f.jsx("td",{className:"px-6 py-4",children:z.utr}),f.jsx("td",{className:"px-6 py-4",children:z.couponCode||"N/A"}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("button",{onClick:()=>p(z.screenshotUrl),className:"text-brand-primary hover:underline",children:"View"})}),f.jsxs("td",{className:"px-6 py-4 flex gap-2",children:[f.jsx(Qe,{onClick:()=>ye(z.id),children:"Approve"}),f.jsx(Qe,{onClick:()=>D(z.id),variant:"secondary",children:"Reject"})]})]},z.id))})]}),Q.length===0&&f.jsx("p",{className:"text-center p-6 text-gray-400",children:"No pending requests."})]})]})},X=()=>{const Q=R.useMemo(()=>M.filter(z=>z.status==="PENDING"),[M]);return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Pending Withdrawal Requests"}),f.jsxs("div",{className:"bg-brand-dark-300 rounded-xl overflow-x-auto",children:[f.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[f.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-brand-dark-200",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3",children:"User"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Amount"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"UPI ID"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Requested At"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),f.jsx("tbody",{children:Q.map(z=>f.jsxs("tr",{className:"border-b border-brand-dark-200",children:[f.jsx("td",{className:"px-6 py-4 font-medium text-white",children:z.userName}),f.jsxs("td",{className:"px-6 py-4",children:["",z.amount.toFixed(2)]}),f.jsx("td",{className:"px-6 py-4 font-mono",children:z.upiId}),f.jsx("td",{className:"px-6 py-4",children:z.requestedAt.toLocaleString()}),f.jsxs("td",{className:"px-6 py-4 flex gap-2",children:[f.jsx(Qe,{onClick:()=>S(z.id),children:"Approve"}),f.jsx(Qe,{onClick:()=>C(z.id),variant:"secondary",children:"Reject"})]})]},z.id))})]}),Q.length===0&&f.jsx("p",{className:"text-center p-6 text-gray-400",children:"No pending withdrawal requests."})]})]})},he=()=>{const Q=R.useMemo(()=>T.filter(z=>{var le;return z.parcelInfo.toLowerCase().includes(o.toLowerCase())||z.requester.name.toLowerCase().includes(o.toLowerCase())||((le=z.deliverer)==null?void 0:le.name.toLowerCase().includes(o.toLowerCase()))}),[T,o]);return f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Gigs History"}),f.jsx("input",{type:"text",placeholder:"Search by parcel, requester or deliverer...",value:o,onChange:z=>u(z.target.value),className:"w-full bg-brand-dark-300 p-3 rounded-lg"}),f.jsx("div",{className:"bg-brand-dark-300 rounded-xl overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[f.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-brand-dark-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3",children:"Parcel Info"}),f.jsx("th",{className:"px-6 py-3",children:"Requester"}),f.jsx("th",{className:"px-6 py-3",children:"Deliverer"}),f.jsx("th",{className:"px-6 py-3",children:"Price"}),f.jsx("th",{className:"px-6 py-3",children:"Status"}),f.jsx("th",{className:"px-6 py-3",children:"Feedback"})]})}),f.jsx("tbody",{children:[...Q].reverse().map(z=>{var le;return f.jsxs("tr",{className:"border-b border-brand-dark-200",children:[f.jsx("td",{className:"px-6 py-4 font-medium text-white",children:z.parcelInfo}),f.jsx("td",{className:"px-6 py-4",children:z.requester.name}),f.jsx("td",{className:"px-6 py-4",children:((le=z.deliverer)==null?void 0:le.name)||"N/A"}),f.jsxs("td",{className:"px-6 py-4",children:["",z.price.toFixed(2)]}),f.jsx("td",{className:"px-6 py-4",children:z.status}),f.jsxs("td",{className:"px-6 py-4 text-xs",children:[z.delivererRating&&f.jsxs("div",{children:["D: ",z.delivererRating,""]}),z.requesterRating&&f.jsxs("div",{children:["R: ",z.requesterRating,""]})]})]},z.id)})})]})})]})},_e=()=>{const[Q,z]=R.useState(null),le=R.useMemo(()=>T.filter(ce=>ce.status===Fe.OPEN||ce.status===Fe.ACCEPTED).sort((ce,Pe)=>Pe.postedAt.getTime()-ce.postedAt.getTime()),[T]),be=()=>{Q&&(Z(Q.id),z(null))};return f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Live & Accepted Gigs"}),f.jsxs("div",{className:"bg-brand-dark-300 rounded-xl overflow-x-auto",children:[f.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[f.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-brand-dark-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3",children:"Parcel Info"}),f.jsx("th",{className:"px-6 py-3",children:"Requester"}),f.jsx("th",{className:"px-6 py-3",children:"Deliverer"}),f.jsx("th",{className:"px-6 py-3",children:"Price"}),f.jsx("th",{className:"px-6 py-3",children:"Status"}),f.jsx("th",{className:"px-6 py-3",children:"Actions"})]})}),f.jsx("tbody",{children:le.map(ce=>f.jsxs("tr",{className:"border-b border-brand-dark-200",children:[f.jsx("td",{className:"px-6 py-4 font-medium text-white",children:ce.parcelInfo}),f.jsx("td",{className:"px-6 py-4",children:ce.requester.name}),f.jsx("td",{className:"px-6 py-4",children:ce.deliverer?f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:ce.deliverer.name}),f.jsx("p",{className:"text-xs text-gray-400",children:ce.deliverer.email})]}):"N/A"}),f.jsxs("td",{className:"px-6 py-4",children:["",ce.price.toFixed(2)]}),f.jsx("td",{className:"px-6 py-4",children:ce.status}),f.jsx("td",{className:"px-6 py-4",children:ce.status===Fe.OPEN?f.jsx(Qe,{variant:"secondary",onClick:()=>z(ce),children:"Delete"}):f.jsx("span",{className:"text-gray-500 text-xs",children:"In Progress"})})]},ce.id))})]}),le.length===0&&f.jsx("p",{className:"text-center p-6 text-gray-400",children:"No live gigs at the moment."})]}),Q&&f.jsx(Mn,{isOpen:!0,onClose:()=>z(null),title:"Delete Gig?",children:f.jsxs("div",{className:"text-white space-y-4",children:[f.jsxs("p",{children:["Are you sure you want to delete this gig? The payment of ",Q.price.toFixed(2)," will be refunded to ",Q.requester.name,". This action cannot be undone."]}),f.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[f.jsx(Qe,{variant:"secondary",onClick:()=>z(null),children:"Cancel"}),f.jsx(Qe,{onClick:be,children:"Confirm Delete"})]})]})})]})},Ue=()=>{const[Q,z]=R.useState(null),le=()=>{Q&&(W(Q.id),z(null))},be=R.useMemo(()=>b.filter(ce=>!ce.isAdmin&&(ce.name.toLowerCase().includes(o.toLowerCase())||ce.phone.includes(o))),[b,o]);return f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),f.jsx("input",{type:"text",placeholder:"Search by name or phone...",value:o,onChange:ce=>u(ce.target.value),className:"w-full bg-brand-dark-300 p-3 rounded-lg"}),f.jsx("div",{className:"bg-brand-dark-300 rounded-xl overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[f.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-brand-dark-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3",children:"Photo"}),f.jsx("th",{className:"px-6 py-3",children:"Name"}),f.jsx("th",{className:"px-6 py-3",children:"Phone"}),f.jsx("th",{className:"px-6 py-3",children:"Block"}),f.jsx("th",{className:"px-6 py-3",children:"College ID"}),f.jsx("th",{className:"px-6 py-3",children:"Actions"})]})}),f.jsx("tbody",{children:be.map(ce=>f.jsxs("tr",{className:"border-b border-brand-dark-200",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx("img",{src:ce.profilePhotoUrl,alt:"P",className:"w-12 h-12 rounded-full object-cover cursor-pointer",onClick:()=>p(ce.profilePhotoUrl)})}),f.jsx("td",{className:"px-6 py-4 font-medium text-white",children:ce.name}),f.jsx("td",{className:"px-6 py-4",children:ce.phone}),f.jsx("td",{className:"px-6 py-4",children:ce.block}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("img",{src:ce.collegeIdUrl,alt:"ID",className:"w-20 h-12 object-cover rounded-md cursor-pointer",onClick:()=>p(ce.collegeIdUrl)})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("button",{onClick:()=>z(ce),className:"text-red-400 hover:text-red-300 font-semibold",children:"Remove"})})]},ce.id))})]})}),Q&&f.jsx(Mn,{isOpen:!0,onClose:()=>z(null),title:`Delete ${Q.name}?`,children:f.jsxs("div",{className:"text-white space-y-4",children:[f.jsx("p",{children:"Are you sure you want to remove this user? This action cannot be undone."}),f.jsxs("div",{className:"flex justify-end gap-4",children:[f.jsx(Qe,{variant:"secondary",onClick:()=>z(null),children:"Cancel"}),f.jsx(Qe,{onClick:le,children:"Delete User"})]})]})})]})},k=()=>{const Q=le=>{let be="ascending";g.key===le&&g.direction==="ascending"&&(be="descending"),y({key:le,direction:be})},z=R.useMemo(()=>[...b.filter(le=>!le.isAdmin)].sort((le,be)=>{const ce=le[g.key],Pe=be[g.key];return ce<Pe?g.direction==="ascending"?-1:1:ce>Pe?g.direction==="ascending"?1:-1:0}),[b,g]);return f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"User Balances"}),f.jsx("div",{className:"bg-brand-dark-300 rounded-xl overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[f.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-brand-dark-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3",children:f.jsxs("button",{onClick:()=>Q("name"),className:"hover:text-white",children:["User Name ",g.key==="name"&&(g.direction==="ascending"?"":"")]})}),f.jsx("th",{className:"px-6 py-3",children:"Phone Number"}),f.jsx("th",{className:"px-6 py-3",children:f.jsxs("button",{onClick:()=>Q("walletBalance"),className:"hover:text-white",children:["Balance ",g.key==="walletBalance"&&(g.direction==="ascending"?"":"")]})})]})}),f.jsx("tbody",{children:z.map(le=>f.jsxs("tr",{className:"border-b border-brand-dark-200",children:[f.jsx("td",{className:"px-6 py-4 font-medium text-white",children:le.name}),f.jsx("td",{className:"px-6 py-4",children:le.phone}),f.jsxs("td",{className:"px-6 py-4 font-semibold text-brand-secondary",children:["",le.walletBalance.toFixed(2)]})]},le.id))})]})})]})},se=()=>{const Q=b.filter(z=>z.referredByCode).map(z=>{const le=b.find(be=>be.referralCode===z.referredByCode);return{referee:z,referrer:le}});return f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Referral Dashboard"}),f.jsxs("div",{className:"bg-brand-dark-300 rounded-xl overflow-x-auto",children:[f.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[f.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-brand-dark-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3",children:"Referee"}),f.jsx("th",{className:"px-6 py-3",children:"Referred By"}),f.jsx("th",{className:"px-6 py-3",children:"Reward Status"})]})}),f.jsx("tbody",{children:Q.map(({referee:z,referrer:le})=>f.jsxs("tr",{className:"border-b border-brand-dark-200",children:[f.jsx("td",{className:"px-6 py-4 font-medium text-white",children:z.name}),f.jsx("td",{className:"px-6 py-4",children:(le==null?void 0:le.name)||"N/A"}),f.jsx("td",{className:"px-6 py-4",children:z.firstRechargeCompleted?"Rewarded":"Pending"})]},z.id))})]}),Q.length===0&&f.jsx("p",{className:"text-center p-6 text-gray-400",children:"No referrals yet."})]})]})},fe=()=>{const[Q,z]=R.useState(""),[le,be]=R.useState(""),[ce,Pe]=R.useState(""),tt=qe=>{qe.preventDefault(),Q.trim()&&Number(le)>0&&Number(ce)>0&&(re({code:Q.trim().toUpperCase(),bonusPercentage:Number(le)/100,isActive:!0,maxUsesPerUser:Number(ce)}),z(""),be(""),Pe(""))};return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Coupon Management"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("form",{onSubmit:tt,className:"lg:col-span-1 bg-brand-dark-300 p-6 rounded-xl space-y-4 self-start",children:[f.jsx("h3",{className:"font-bold text-lg text-white",children:"Add New Coupon"}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm text-gray-400",children:"Coupon Code"}),f.jsx("input",{type:"text",value:Q,onChange:qe=>z(qe.target.value),className:"w-full bg-brand-dark mt-1 p-2 rounded-lg",placeholder:"WELCOME10"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm text-gray-400",children:"Bonus %"}),f.jsx("input",{type:"number",value:le,onChange:qe=>be(qe.target.value===""?"":Number(qe.target.value)),className:"w-full bg-brand-dark mt-1 p-2 rounded-lg",placeholder:"10"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm text-gray-400",children:"Uses per User"}),f.jsx("input",{type:"number",value:ce,onChange:qe=>Pe(qe.target.value===""?"":Number(qe.target.value)),className:"w-full bg-brand-dark mt-1 p-2 rounded-lg",placeholder:"1"})]}),f.jsx(Qe,{type:"submit",fullWidth:!0,children:"Add Coupon"})]}),f.jsxs("div",{className:"lg:col-span-2 space-y-2",children:[f.jsx("h3",{className:"font-bold text-lg text-white mb-2",children:"Active Coupons"}),[...U].reverse().map(qe=>f.jsxs("div",{className:"bg-brand-dark-300 p-3 rounded-lg flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-mono text-white",children:qe.code}),f.jsxs("p",{className:"text-sm text-brand-secondary",children:[qe.bonusPercentage*100,"% Bonus (",qe.maxUsesPerUser," use/user)"]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:qe.isActive,onChange:gt=>me(qe.id,{isActive:gt.target.checked})}),f.jsx("div",{className:"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-primary"})]}),f.jsx("button",{onClick:()=>oe(qe.id),className:"text-red-500 hover:text-red-400 text-2xl font-bold",children:""})]})]},qe.id))]})]})]})},ue=()=>{const[Q,z]=R.useState(q*100),[le,be]=R.useState(O),ce=()=>{j(Q/100),L(le),alert("Settings Saved!")};return f.jsxs("div",{className:"space-y-6 max-w-2xl",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Platform Settings"}),f.jsxs("div",{className:"bg-brand-dark-300 p-6 rounded-xl space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform Fee (%)"}),f.jsx("input",{type:"number",value:Q,onChange:Pe=>z(Number(Pe.target.value)),className:"w-full bg-brand-dark mt-1 p-2 rounded-lg",placeholder:"20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Offer Bar Text"}),f.jsx("textarea",{value:le,onChange:Pe=>be(Pe.target.value),rows:4,className:"w-full bg-brand-dark mt-1 p-2 rounded-lg",placeholder:"Offer 1 ;; Offer 2"}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Use ';;' to separate multiple offers for the marquee."})]}),f.jsx(Qe,{onClick:ce,children:"Save Settings"})]}),f.jsxs("div",{className:"bg-brand-dark-300 p-6 rounded-xl space-y-4",children:[f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Account Actions"}),f.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Logging out will end your current admin session."}),f.jsx(Qe,{onClick:N,variant:"secondary",className:"!bg-red-600 hover:!bg-red-500 focus:!ring-red-500",children:"Logout"})]})]})},Ee=()=>{switch(n){case"analytics":return f.jsx(ut,{});case"wallet_requests":return f.jsx(He,{});case"withdrawal_requests":return f.jsx(X,{});case"gigs_history":return f.jsx(he,{});case"live_gigs":return f.jsx(_e,{});case"users":return f.jsx(Ue,{});case"balances":return f.jsx(k,{});case"referrals":return f.jsx(se,{});case"coupons":return f.jsx(fe,{});case"settings":return f.jsx(ue,{});default:return f.jsx(ut,{})}},xe=({targetView:Q,label:z,icon:le})=>f.jsxs("button",{onClick:()=>{s(Q),u("")},className:`w-full flex items-center gap-3 text-left p-3 rounded-lg transition-colors ${n===Q?"bg-brand-primary text-white":"hover:bg-brand-dark-300"}`,children:[le,f.jsx("span",{children:z})]});return f.jsxs("div",{className:"min-h-screen bg-brand-dark text-white",children:[f.jsx("header",{className:"bg-brand-dark-200 shadow-md sticky top-0 z-20",children:f.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),f.jsxs("div",{children:[f.jsxs("span",{className:"mr-4",children:["Welcome, ",(te=r.currentUser)==null?void 0:te.name]}),f.jsx("button",{onClick:N,className:"text-gray-400 hover:text-white transition-colors",children:"Logout"})]})]})}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-8 p-4 sm:p-6 lg:p-8",children:[f.jsx("aside",{className:"md:w-64 flex-shrink-0 bg-brand-dark-200 p-4 rounded-xl self-start sticky top-24",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsx(xe,{targetView:"analytics",label:"Analytics",icon:f.jsx(TD,{className:"h-5 w-5"})}),f.jsx(xe,{targetView:"wallet_requests",label:"Wallet Requests",icon:f.jsx(xD,{className:"h-5 w-5"})}),f.jsx(xe,{targetView:"withdrawal_requests",label:"Withdrawals",icon:f.jsx(wD,{className:"h-5 w-5"})}),f.jsx(xe,{targetView:"gigs_history",label:"Gigs History",icon:f.jsx(AD,{className:"h-5 w-5"})}),f.jsx(xe,{targetView:"live_gigs",label:"Live Gigs",icon:f.jsx(bD,{className:"h-5 w-5"})}),f.jsx("hr",{className:"border-brand-dark-300 my-2"}),f.jsx(xe,{targetView:"users",label:"Users",icon:f.jsx(SD,{className:"h-5 w-5"})}),f.jsx(xe,{targetView:"balances",label:"Balances",icon:f.jsx(RD,{className:"h-5 w-5"})}),f.jsx(xe,{targetView:"referrals",label:"Referrals",icon:f.jsx(dT,{className:"h-5 w-5"})}),f.jsx(xe,{targetView:"coupons",label:"Coupons",icon:f.jsx(CD,{className:"h-5 w-5"})}),f.jsx("hr",{className:"border-brand-dark-300 my-2"}),f.jsx(xe,{targetView:"settings",label:"Settings",icon:f.jsx(ID,{className:"h-5 w-5"})})]})}),f.jsx("main",{className:"flex-1",children:Ee()})]}),h&&f.jsx(Mn,{isOpen:!0,onClose:()=>p(null),title:"Image Preview",children:f.jsx("img",{src:h,alt:"Preview",className:"w-full h-auto rounded-lg max-h-[80vh] object-contain"})})]})},KD=()=>{const r=R.useContext(hn),[e,n]=R.useState(!1),{currentUser:s}=r,o=R.useCallback(()=>{s!=null&&s.referralCode&&(navigator.clipboard.writeText(s.referralCode),n(!0),setTimeout(()=>n(!1),2e3))},[s==null?void 0:s.referralCode]);return s?f.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx(vD,{className:"h-16 w-16 mx-auto text-brand-primary"}),f.jsx("h1",{className:"text-4xl font-bold text-white mt-4",children:"Refer & Earn"}),f.jsx("p",{className:"text-lg text-gray-400 mt-2",children:"Share the love and get rewarded!"})]}),f.jsxs("div",{className:"bg-brand-dark-200 p-8 rounded-xl grid md:grid-cols-2 gap-8 items-center",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-white",children:"Share Your Code"}),f.jsx("p",{className:"text-gray-300",children:"Share your unique referral code with your friends. When they sign up and make their first wallet load of 100 or more, you both win!"}),f.jsxs("div",{className:"bg-brand-dark-300 p-4 rounded-lg flex items-center justify-between gap-4",children:[f.jsx("span",{className:"font-mono text-xl text-brand-secondary tracking-widest",children:s.referralCode}),f.jsxs(Qe,{onClick:o,variant:"secondary",children:[e?f.jsx(ED,{className:"h-5 w-5"}):f.jsx(_D,{className:"h-5 w-5"}),e?"Copied!":"Copy"]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-brand-dark-300 p-6 rounded-lg",children:[f.jsx("h3",{className:"font-bold text-lg text-white",children:"You Get"}),f.jsx("p",{className:"text-4xl font-bold text-brand-secondary mt-2",children:"10"}),f.jsx("p",{className:"text-gray-400",children:"for every friend who recharges their wallet with at least 100 for the first time."})]}),f.jsxs("div",{className:"bg-brand-dark-300 p-6 rounded-lg",children:[f.jsx("h3",{className:"font-bold text-lg text-white",children:"Your Friend Gets"}),f.jsxs("p",{className:"text-4xl font-bold text-brand-secondary mt-2",children:["5% ",f.jsx("span",{className:"text-2xl",children:"Bonus"})]}),f.jsx("p",{className:"text-gray-400",children:"on their first wallet recharge of 100 or more."})]})]})]}),f.jsx("div",{className:"text-center",children:f.jsx("p",{className:"text-xs text-gray-500",children:"Terms & Conditions apply. Rewards are subject to change."})})]}):null},$D=()=>{const[r,e]=R.useState(null),[n,s]=R.useState(!0);return R.useEffect(()=>{const u=SI(Ah,async h=>{if(h)try{const p=await sT(h.uid);if(p)e(p);else{const g=h.email==="admin@delu.live",y={id:h.uid,name:h.displayName||(g?"Admin User":""),phone:h.phoneNumber||(g?"0000000000":""),email:h.email||"",block:g?"Admin Block":"",profilePhotoUrl:h.photoURL||"",collegeIdUrl:"",rating:5,deliveriesCompleted:g?100:0,walletBalance:g?9999:0,isAdmin:g,referralCode:g?"ADMINREF":`${(h.displayName||"USER").split(" ")[0].toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.random().toString(36).substring(2,6)}`.toUpperCase(),firstRechargeCompleted:g,usedCouponCodes:{},createdAt:new Date};await iT(h.uid,y),e(y)}}catch(p){console.error("Error fetching user data:",p)}else e(null);s(!1)});return()=>u()},[]),{currentUser:r,updateUser:u=>{e(u)},isAuthLoading:n}},YD=()=>{const{currentUser:r,updateUser:e,isAuthLoading:n}=$D(),[s,o]=R.useState([]),[u,h]=R.useState([]),[p,g]=R.useState([]),[y,b]=R.useState([]),[T,x]=R.useState([]),[M,U]=R.useState([]),[q,O]=R.useState(_A),[W,Z]=R.useState(!1);R.useEffect(()=>{const te=iD(o),Q=sD(h),z=aD(g),le=oD(b),be=lD(x),ce=uD(U),Pe=cD(tt=>{tt&&O(tt)});return()=>{te(),Q(),z(),le(),be(),ce(),Pe()}},[]);const re=R.useCallback(()=>Z(!0),[]),me=R.useCallback(()=>Z(!1),[]),oe=R.useCallback(async(te,Q,z,le,be)=>{try{await eD({userId:te,type:Q,amount:z,description:le,relatedGigId:be})}catch(ce){console.error("Error adding transaction:",ce)}},[]),ye=R.useCallback(async(te,Q)=>{try{const z=await TI(Ah,te,Q),le=await sT(z.user.uid);if(le)return e(le),le;throw new Error("User data not found")}catch(z){throw console.error("Login error:",z),new Error(z.message)}},[e]),D=R.useCallback(async()=>{try{await RI(Ah),e(null)}catch(te){throw console.error("Logout error:",te),new Error(te.message)}},[e]),S=R.useCallback(async(te,Q,z)=>{try{const le=await wI(Ah,te.email,Q),be=te.email==="admin@delu.live",ce={id:le.user.uid,...te,createdAt:new Date,rating:5,deliveriesCompleted:be?100:0,walletBalance:be?9999:0,isAdmin:be,referralCode:be?"ADMINREF":`${te.name.split(" ")[0].toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.random().toString(36).substring(2,6)}`.toUpperCase(),referredByCode:(z==null?void 0:z.trim())||void 0,firstRechargeCompleted:be,usedCouponCodes:{}};await iT(le.user.uid,ce),e(ce)}catch(le){throw console.error("Signup error:",le),new Error(le.message)}},[e]),C=R.useCallback(async te=>{if(!r)return re(),!1;const Q=s.find(z=>z.id===r.id);if(!Q||Q.walletBalance<te.price)return!1;try{const z=Q.walletBalance-te.price;await na(r.id,{walletBalance:z});const le={id:r.id,name:r.name,phone:r.phone,email:r.email},be=await Q4(te,le);return await oe(r.id,"DEBIT",te.price,`Gig created: ${te.parcelInfo}`,be),!0}catch(z){return console.error("Error adding gig:",z),!1}},[r,re,s,oe]),j=R.useCallback(async te=>{const Q=u.find(z=>z.id===te);if(Q)if(Q.status===Fe.OPEN)try{const z=s.find(le=>le.id===Q.requester.id);if(z){const le=z.walletBalance+Q.price;await na(Q.requester.id,{walletBalance:le})}await oe(Q.requester.id,"CREDIT",Q.price,`Refund for deleted gig: ${Q.parcelInfo}`,te),await X4(te)}catch(z){console.error("Error deleting gig:",z)}else console.warn("Attempted to delete a non-open gig.")},[u,s,oe]),L=R.useCallback(async(te,Q)=>{try{if(Q.status===Fe.COMPLETED){const z=u.find(be=>be.id===te);if(!z||z.status===Fe.COMPLETED||!z.deliverer)return;const le=s.find(be=>be.id===z.deliverer.id);if(le){const be=z.price*(1-q.fee),ce=le.walletBalance+be,Pe=le.deliveriesCompleted+1;await na(z.deliverer.id,{walletBalance:ce,deliveriesCompleted:Pe}),await oe(z.deliverer.id,"PAYOUT",be,`Payout for gig: ${z.parcelInfo}`,te)}}await W4(te,Q)}catch(z){console.error("Error updating gig:",z)}},[u,s,q.fee,oe]),P=R.useCallback(async(te,Q)=>{if(r)try{await Z4({...te,userId:r.id,userName:r.name,status:ia.PENDING,couponCode:(Q==null?void 0:Q.trim().toUpperCase())||void 0})}catch(z){console.error("Error requesting wallet load:",z)}},[r]),N=R.useCallback(async te=>{const Q=p.find(z=>z.id===te);if(!(!Q||Q.status!==ia.PENDING))try{const z=s.find(gt=>gt.id===Q.userId);if(!z)return;let le=0,be=0,ce=null;const Pe=[];let tt={};if(Q.couponCode){const gt=M.find(gn=>gn.code===Q.couponCode&&gn.isActive);if(gt){const gn=z.usedCouponCodes[gt.code]||0;gn<gt.maxUsesPerUser&&(le+=Q.amount*gt.bonusPercentage,Pe.push(`${gt.bonusPercentage*100}% bonus from ${gt.code}`),tt.usedCouponCodes={...z.usedCouponCodes,[gt.code]:gn+1})}}if(Q.amount>=100&&!z.firstRechargeCompleted&&z.referredByCode){const gt=s.find(gn=>gn.referralCode===z.referredByCode);gt&&(ce=gt.id,be=10,le+=Q.amount*.05,Pe.push("5% First Recharge Referral Bonus"),tt.firstRechargeCompleted=!0)}const qe=Q.amount+le;if(tt.walletBalance=z.walletBalance+qe,await na(z.id,tt),le>0&&await oe(z.id,"CREDIT",le,Pe.join(" & ")),await oe(z.id,"TOPUP",Q.amount,`Wallet load approved (UTR: ${Q.utr})`),ce){const gt=s.find(gn=>gn.id===ce);gt&&(await na(ce,{walletBalance:gt.walletBalance+be}),await oe(ce,"CREDIT",be,`Referral reward for ${z.name}`))}await z1(te,{status:ia.APPROVED})}catch(z){console.error("Error approving wallet load:",z)}},[p,s,M,oe]),ut=R.useCallback(async te=>{try{await z1(te,{status:ia.REJECTED})}catch(Q){console.error("Error rejecting wallet load:",Q)}},[]),He=R.useCallback(async(te,Q)=>{if(!r)return!1;const z=s.find(le=>le.id===r.id);if(!z||z.walletBalance<te||te<100)return!1;try{const le=z.walletBalance-te;return await na(r.id,{walletBalance:le}),await J4({userId:r.id,userName:r.name,amount:te,upiId:Q,status:Ql.PENDING}),await oe(r.id,"WITHDRAWAL",te,`Withdrawal to UPI: ${Q}`),!0}catch(le){return console.error("Error requesting withdrawal:",le),!1}},[r,s,oe]),X=R.useCallback(async te=>{try{await q1(te,{status:Ql.PROCESSED})}catch(Q){console.error("Error approving withdrawal:",Q)}},[]),he=R.useCallback(async te=>{const Q=y.find(z=>z.id===te);if(!(!Q||Q.status!==Ql.PENDING))try{const z=s.find(le=>le.id===Q.userId);z&&await na(Q.userId,{walletBalance:z.walletBalance+Q.amount}),await oe(Q.userId,"CREDIT",Q.amount,"Refund for rejected withdrawal request."),await q1(te,{status:Ql.REJECTED})}catch(z){console.error("Error rejecting withdrawal:",z)}},[y,s,oe]),_e=async(te,Q)=>!1,Ue=async te=>{if(te>=0&&te<=1)try{await F1({fee:te}),O(Q=>({...Q,fee:te}))}catch(Q){console.error("Error updating platform fee:",Q)}},k=async te=>{try{await F1({offerBarText:te}),O(Q=>({...Q,offerBarText:te}))}catch(Q){console.error("Error updating offer bar text:",Q)}},se=async te=>{try{await Y4(te)}catch(Q){console.error("Error deleting user:",Q)}},fe=async te=>{try{await tD(te)}catch(Q){console.error("Error adding coupon:",Q)}},ue=async(te,Q)=>{try{await nD(te,Q)}catch(z){console.error("Error updating coupon:",z)}},Ee=async te=>{try{await rD(te)}catch(Q){console.error("Error deleting coupon:",Q)}};R.useEffect(()=>{if(!(r!=null&&r.isAdmin))return;const te=setInterval(()=>{const Q=new Date;let z=[];h(le=>{const be=le.filter(ce=>{const Pe=ce.status==="OPEN"&&ce.deliveryDeadline.getTime()<Q.getTime();return Pe&&z.push(ce),!Pe});return z.length>0?[...be,...z.map(ce=>({...ce,status:Fe.EXPIRED}))]:le}),z.length>0&&o(le=>{const be=z.reduce((tt,qe)=>(tt[qe.requester.id]=(tt[qe.requester.id]||0)+qe.price,oe(qe.requester.id,"CREDIT",qe.price,`Refund for expired gig: ${qe.parcelInfo}`,qe.id),tt),{}),ce=le.map(tt=>be[tt.id]?{...tt,walletBalance:tt.walletBalance+be[tt.id]}:tt),Pe=ce.find(tt=>tt.id===r.id);return Pe&&e(Pe),ce})},6e4);return()=>clearInterval(te)},[r==null?void 0:r.isAdmin,oe,e]);const xe=R.useMemo(()=>({currentUser:r,isAuthLoading:n,users:s,gigs:u,walletLoadRequests:p,withdrawalRequests:y,transactions:T,platformFee:q.fee,offerBarText:q.offerBarText,coupons:M,isAuthModalOpen:W,openAuthModal:re,closeAuthModal:me,login:ye,logout:D,signup:S,addGig:C,updateGig:L,deleteGig:j,requestWalletLoad:P,approveWalletLoad:N,rejectWalletLoad:ut,requestWithdrawal:He,approveWithdrawal:X,rejectWithdrawal:he,manualTopUp:_e,setPlatformFee:Ue,setOfferBarText:k,deleteUser:se,addCoupon:fe,updateCoupon:ue,deleteCoupon:Ee}),[r,n,s,u,p,y,T,q,M,W,re,me,ye,D,S,C,L,j,P,N,ut,He,X,he,_e,Ue,k,se,fe,ue,Ee,oe]);return f.jsx(hn.Provider,{value:xe,children:f.jsxs(uA,{children:[f.jsx(BD,{}),f.jsxs(n_,{children:[f.jsx(Nr,{path:"/admin",element:f.jsx(hD,{children:f.jsx(GD,{})})}),f.jsx(Nr,{path:"*",element:f.jsxs("div",{className:"min-h-screen bg-brand-dark flex flex-col",children:[f.jsx(DD,{}),f.jsx(ND,{}),f.jsx("main",{className:"flex-grow container mx-auto p-4 md:p-6",children:f.jsxs(n_,{children:[f.jsx(Nr,{path:"/live",element:f.jsx(jD,{})}),f.jsx(Nr,{path:"/my-gigs",element:f.jsx(dh,{children:f.jsx(PD,{})})}),f.jsx(Nr,{path:"/create",element:f.jsx(dh,{children:f.jsx(VD,{})})}),f.jsx(Nr,{path:"/wallet",element:f.jsx(dh,{children:f.jsx(HD,{})})}),f.jsx(Nr,{path:"/refer-and-earn",element:f.jsx(dh,{children:f.jsx(KD,{})})}),f.jsx(Nr,{path:"/",element:f.jsx(Ym,{to:"/live",replace:!0})}),f.jsx(Nr,{path:"*",element:f.jsx(Ym,{to:"/live",replace:!0})})]})})]})})]})]})})},pT=document.getElementById("root");if(!pT)throw new Error("Could not find root element to mount to");const QD=X2.createRoot(pT);QD.render(f.jsx(F2.StrictMode,{children:f.jsx(YD,{})}));
